(function(e){function t(t){for(var s,r,a=t[0],c=t[1],l=t[2],h=0,u=[];h<a.length;h++)r=a[h],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(u.length)u.shift()();return n.push.apply(n,l||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],s=!0,a=1;a<o.length;a++){var c=o[a];0!==i[c]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=o[0]))}return e}var s={},i={app:0},n=[];function r(t){if(s[t])return s[t].exports;var o=s[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=s,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(o,s,function(t){return e[t]}.bind(null,s));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var d=c;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";o("29e3")},"0512":function(e,t,o){},"0a08":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:e.showCenterPrint,expression:"showCenterPrint"}],staticStyle:{position:"fixed",left:"30rem",top:"20rem",width:"40rem",height:"20rem","z-index":"2000","background-color":"#fff","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("HidePrint",{directives:[{name:"show",rawName:"v-show",value:!e.showPrint,expression:"!showPrint"}],staticStyle:{"margin-left":"-30mm",position:"relative",width:"80%",left:"50%"},attrs:{printDoc:e.printDoc}}),o("div",{staticStyle:{position:"absolute",right:"0.5rem",top:"0.1rem","font-size":"1.5rem",cursor:"pointer"},on:{click:e.hideCenterPrintBtn}},[o("i",{staticClass:"el-icon-remove"})])],1),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showKWM,expression:"showKWM"}],staticStyle:{position:"relative","z-index":"444","margin-top":"0rem","background-color":"#eee"}},[o("div",{staticClass:"topTextButtonBlue",staticStyle:{position:"absolute",right:"6rem",top:"5rem","background-color":"#f22","font-size":"0.8rem"},on:{click:e.hideSubKWM}},[e._v("\n         关闭 \n      ")]),o("KeyWordManage")],1),e.showKWM?e._e():o("div",{staticClass:"wrapper",staticStyle:{"padding-bottom":"50rem"}},[o("div",{staticStyle:{height:"6.5rem"}}),e.showWaitingFlag?o("div",{staticStyle:{position:"fixed",width:"20rem",height:"10rem",top:"10rem",left:"50%","margin-left":"-10rem","line-height":"10rem","background-color":"rgba(25, 55, 163, 0.8)","font-size":"1.3rem",color:"white","text-align":"center","z-index":"1000"}},[e._v("\n        请求中，请稍候...\n      ")]):e._e(),e.showStartBoxSet?o("div",{staticStyle:{position:"fixed",top:"15rem",left:"50%","margin-left":"-15rem","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"30rem",height:"10rem","background-color":"rgb(255, 255, 255)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1rem",width:"20rem","text-align":"center","margin-left":"5rem",color:"#333"}},[e._v("\n          输入盒号\n        ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.startBoxNum,expression:"startBoxNum"}],staticStyle:{height:"1.5rem","margin-left":"11rem","margin-top":"2rem",width:"8rem"},attrs:{type:"text"},domProps:{value:e.startBoxNum},on:{input:function(t){t.target.composing||(e.startBoxNum=t.target.value)}}}),o("div",{staticClass:"textButton",staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"17rem"},on:{click:e.cancleManulBox}},[e._v("\n          取消\n        ")]),o("div",{staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"10rem"},on:{click:e.manualBox}},[e._v("\n          确定\n        ")])]):e._e(),o("div",{staticClass:"docDetailBox"},[o("div",{staticClass:"advSearchBox"},[e.advSearchShow&&"personnel"==e.docType?o("el-form",{ref:"searchForm",staticClass:"specialELContainer",attrs:{model:e.searchForm,"label-width":"6rem"}},[o("h3",{staticStyle:{"text-align":"center",width:"100%",color:"#555"}},[e._v("\n              输入一个或多个条件查找文档\n            ")]),o("div",{staticStyle:{position:"absolute",right:"0.5rem",top:"0.1rem","font-size":"1.5rem",cursor:"pointer"},on:{click:e.hideAdvSearchNoReload}},[o("i",{staticClass:"el-icon-remove"})]),o("el-form-item",{attrs:{prop:"username",label:"识别号："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"识别号"},model:{value:e.searchForm.docSequence,callback:function(t){e.$set(e.searchForm,"docSequence",t)},expression:"searchForm.docSequence"}})],1),o("el-form-item",{attrs:{prop:"username",label:"文件标题："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"标题"},model:{value:e.searchForm.docTitle,callback:function(t){e.$set(e.searchForm,"docTitle",t)},expression:"searchForm.docTitle"}})],1),o("el-form-item",{attrs:{prop:"password",label:"姓名："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"姓名"},model:{value:e.searchForm.personName,callback:function(t){e.$set(e.searchForm,"personName",t)},expression:"searchForm.personName"}})],1),o("el-form-item",{attrs:{prop:"password",label:"日期："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"日期"},model:{value:e.searchForm.docDate,callback:function(t){e.$set(e.searchForm,"docDate",t)},expression:"searchForm.docDate"}})],1),o("div",{staticClass:"topTextButtonBlue",staticStyle:{"margin-left":"35%",float:"left"},on:{click:e.advSearch}},[e._v("\n              查找\n            ")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{position:"absolute",left:"60%"},on:{click:e.hideAdvSearch}},[e._v("\n              取消\n            ")])],1):e._e(),o("div"),e.boxInfoShowFlag?o("el-form",{staticClass:"specialELContainer",staticStyle:{width:"50rem","margin-left":"-25rem"},attrs:{"label-width":"7rem"}},[o("div",{staticStyle:{position:"absolute",right:"0.5rem",top:"0.1rem","font-size":"1.5rem",cursor:"pointer"},on:{click:function(t){e.boxInfoShowFlag=!1}}},[o("i",{staticClass:"el-icon-remove"})]),o("h3",{staticStyle:{"text-align":"center",color:"#505458"}},[e._v("备考表详细信息")]),o("div",[e._v("所有盒：")]),o("div",[o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"立卷人"}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"立卷人"},model:{value:e.publisher,callback:function(t){e.publisher=t},expression:"publisher"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"检查人"}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"检查人"},model:{value:e.checker,callback:function(t){e.checker=t},expression:"checker"}})],1)],1)],1),o("el-row",{staticStyle:{"border-bottom":"1px dashed"},attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"立卷时间"}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"立卷时间"},model:{value:e.publishTime,callback:function(t){e.publishTime=t},expression:"publishTime"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"检查时间"}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"检查时间"},model:{value:e.checkTime,callback:function(t){e.checkTime=t},expression:"checkTime"}})],1)],1)],1)],1),o("div",{staticStyle:{height:"2rem"}},[o("div",{staticStyle:{height:"2rem",width:"5rem",float:"left"}},[e._v("设置盒:")]),e.boxInfoNow?e._e():o("div",{staticStyle:{float:"left","margin-left":"2rem"}},[e._v("\n                选择盒子\n              ")]),e.boxInfoNow?o("div",{staticStyle:{float:"left","margin-left":"2rem"}},[e._v("\n                本盒共"+e._s(e.boxInfoNow.docCount)+"件,"+e._s(e.boxInfoNow.from)+"~"+e._s(e.boxInfoNow.to)+",共"+e._s(e.boxInfoNow.totalPage)+"页\n              ")]):e._e()]),o("el-form-item",{attrs:{prop:"historyAuth",label:"选择盒子"}},[o("el-select",{staticStyle:{width:"80%"},attrs:{"value-key":"tableNumber",filterable:"",placeholder:"选择盒子"},on:{change:e.boxInfoSelectDone},model:{value:e.boxInfoNow,callback:function(t){e.boxInfoNow=t},expression:"boxInfoNow"}},e._l(e.boxInfoList,(function(e){return o("el-option",{key:e.tableNumber,attrs:{label:e.tableNumber,value:e}})})),1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:!e.processShow,expression:"!processShow"}]},[o("el-form-item",{staticClass:"textArea",attrs:{label:"其他需要说明的情况"}},[o("el-input",{staticClass:"textAreaInput",attrs:{size:"normal",type:"textarea","auto-complete":"off",rows:3,placeholder:"其他需要说明的情况"},model:{value:e.boxInfoNow.remark,callback:function(t){e.$set(e.boxInfoNow,"remark",t)},expression:"boxInfoNow.remark"}})],1)],1),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"20%","margin-left":"6%",float:"left"},on:{click:e.saveInfo}},[e._v("\n              保存备考表信息\n            ")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"20%",float:"left","margin-left":"6%"},on:{click:e.getOneInfo}},[e._v("\n              下载本盒备考表\n            ")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"20%",float:"left","margin-left":"6%"},on:{click:e.getAllInfo}},[e._v("\n              下载所有盒备考表\n            ")]),o("div")],1):e._e(),e.PrintControllshow?o("el-form",{staticClass:"specialELContainer",staticStyle:{width:"40rem","margin-left":"-20rem",top:"20rem"},attrs:{"label-width":"6rem"}},[o("div",{staticStyle:{position:"absolute",right:"0.5rem",top:"0.1rem","font-size":"1.5rem",cursor:"pointer"},on:{click:function(t){e.PrintControllshow=!1}}},[o("i",{staticClass:"el-icon-remove"})]),o("h3",{staticStyle:{"text-align":"center",color:"#505458"}},[e._v("打印归档印章")]),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:20}},[o("el-form-item",{attrs:{label:"IP"}},[o("el-input",{staticStyle:{width:"80%"},attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"设备Ip地址"},model:{value:e.printerIp,callback:function(t){e.printerIp=t},expression:"printerIp"}})],1)],1),o("div",{staticStyle:{position:"absolute",left:"73%",top:"0.5rem",cursor:"pointer"},on:{click:e.ipInput}},[e._v("\n                连接\n                "),e.connectStatus?e._e():o("div",{staticStyle:{position:"absolute",width:"3rem",left:"1rem",top:"-4rem",color:"red"}},[e._v("\n                  "+e._s(e.connectTip)+"\n                ")]),e.connectStatus?o("div",{staticStyle:{position:"absolute",width:"3rem",left:"1rem",top:"-4rem",color:"green"}},[e._v("\n                  已连接\n                ")]):e._e(),e._e()])],1),e._e(),e.processShow?o("div",{staticStyle:{height:"3rem"}}):e._e(),o("div",{directives:[{name:"show",rawName:"v-show",value:!e.processShow,expression:"!processShow"}]},[o("el-form-item",{attrs:{label:"识别号"}},[o("el-input",{ref:"shibie",staticStyle:{width:"80%"},attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"识别号"},model:{value:e.printSeqAt,callback:function(t){e.printSeqAt=t},expression:"printSeqAt"}})],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:e.processShow,expression:"processShow"}],staticStyle:{height:"3rem",width:"50%",position:"relative",left:"50%","margin-left":"-25%","text-align":"center"}},[e._v("\n              本次打印"+e._s(this.printType)+":"+e._s(this.printInfo)+"\n            ")]),o("div",{staticStyle:{"margin-left":"10%",height:"4rem"}},[e._v("\n              "+e._s(this.printInfo1)+"\n\n              "),o("div",[e._v("\n                "+e._s(this.printInfo)+"\n              ")])]),o("div",{staticStyle:{height:"1rem"}}),e.processShow?e._e():o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"15%","margin-left":"5%",float:"left"},on:{click:e.printThis1}},[e._v("\n              发送打印\n            ")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"15%",float:"left","margin-left":"5%"},on:{click:e.nextPrint}},[e._v("\n              +\n            ")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"15%",float:"left","margin-left":"5%"},on:{click:e.prePrint}},[e._v("\n              -\n            ")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"15%",float:"left","margin-left":"5%"},on:{click:e.resetPrint}},[e._v("\n              重置\n            ")]),o("div")],1):e._e(),e.advSearchShow&&"personnel"!=e.docType?o("el-form",{ref:"searchForm",staticClass:"specialELContainer",attrs:{model:e.searchForm,"label-width":"6rem"}},[o("h3",{staticStyle:{"text-align":"center",color:"#505458"}},[e._v("\n              输入一个或多个条件查找文档\n            ")]),o("div",{staticStyle:{position:"absolute",right:"0.5rem",top:"0.1rem","font-size":"1.5rem",cursor:"pointer"},on:{click:e.hideAdvSearchNoReload}},[o("i",{staticClass:"el-icon-remove"})]),o("el-form-item",{attrs:{prop:"username",label:"识别号："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"识别号"},model:{value:e.searchForm.docSequence,callback:function(t){e.$set(e.searchForm,"docSequence",t)},expression:"searchForm.docSequence"}})],1),o("el-form-item",{attrs:{prop:"username",label:"文件标题："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"标题"},model:{value:e.searchForm.docTitle,callback:function(t){e.$set(e.searchForm,"docTitle",t)},expression:"searchForm.docTitle"}})],1),o("el-form-item",{attrs:{prop:"password",label:"文号："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"文号"},on:{blur:e.likeDescComplete},model:{value:e.searchForm.docDesc,callback:function(t){e.$set(e.searchForm,"docDesc",t)},expression:"searchForm.docDesc"}})],1),o("el-form-item",{attrs:{prop:"password",label:"发文日期"}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"发文日期"},model:{value:e.searchForm.docDate,callback:function(t){e.$set(e.searchForm,"docDate",t)},expression:"searchForm.docDate"}})],1),o("el-form-item",{attrs:{prop:"password",label:"责任者"}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"责任者"},model:{value:e.searchForm.dutyAuthor,callback:function(t){e.$set(e.searchForm,"dutyAuthor",t)},expression:"searchForm.dutyAuthor"}})],1),o("div",{staticClass:"topTextButtonBlue",staticStyle:{"margin-left":"35%",float:"left"},on:{click:e.advSearch}},[e._v("\n              查找\n            ")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{position:"absolute",left:"60%"},on:{click:e.hideAdvSearch}},[e._v("\n              取消\n            ")])],1):e._e()],1),o("div",{staticStyle:{"z-index":"333",height:"3.5rem",position:"fixed",top:"6rem",right:"0px",width:"27%","background-color":"rgb(255, 255, 255)"}},[o("div",{staticClass:"topTextButton",staticStyle:{float:"right","margin-top":"1rem"},on:{click:e.ShowadvSearch}},[e._v("\n            高级搜索\n          ")]),o("div",{staticClass:"topTextButton",staticStyle:{float:"right","margin-top":"1rem"},on:{click:e.cancelSearch}},[e._v("\n            取消\n          ")]),o("div",{staticClass:"topTextButton",staticStyle:{float:"right","margin-top":"1rem"},on:{click:e.searchTheDoc}},[e._v("\n            搜索\n          ")]),o("el-input",{staticClass:"leftInput",on:{focus:e.clearSearchContent,blur:e.putInContent},model:{value:e.searchContent,callback:function(t){e.searchContent=t},expression:"searchContent"}})],1),o("div",{staticStyle:{height:"9rem",width:"100%",position:"fixed","background-color":"rgb(255, 255, 255)",top:"3rem"}},[o("div",{staticStyle:{position:"absolute",bottom:"6rem",left:"50%",width:"50%","margin-left":"-25%","text-align":"center"}},[e._v("\n            单位名："+e._s(e.authName)+"\n          ")])]),o("div",{staticStyle:{position:"fixed",left:"0.5rem",top:"6.5rem","z-index":"5","font-size":"1.1rem"}},[o("div",{staticClass:"hoverStyle",staticStyle:{"margin-top":"0.4rem",float:"left","text-align":"center"},on:{click:e.backToOrgans}},[e._v("\n            选项：\n          ")]),o("div",{staticClass:"hoverStyle topTextButton",staticStyle:{float:"left","background-color":"rgb(155, 120, 153)",width:"5rem","text-align":"center","margin-left":"1rem"},on:{click:e.goDocIn}},[e._v("\n            录入界面\n          ")]),"personnel"!=e.docType?o("div",{staticClass:"hoverStyle topTextButton",staticStyle:{float:"left","background-color":"rgb(128, 128, 183)","text-align":"center"},on:{click:e.sortThisBatch}},[e._v("\n            排件号盒号\n          ")]):e._e(),"personnel"==e.docType?o("div",{staticClass:"hoverStyle topTextButton",staticStyle:{float:"left"},on:{click:e.sortThisBatchRS}},[e._v("\n            排件号\n          ")]):e._e(),o("div",{staticClass:"topTextButton hoverStyle",staticStyle:{float:"left"},on:{click:e.backToOrgans}},[e._v("\n            其他批次\n          ")]),"personnel"!=e.docType?o("div",{staticClass:"hoverStyle topTextButton",staticStyle:{float:"left","background-color":"rgb(122, 122, 122)",width:"5rem","text-align":"center","margin-left":"1rem"},on:{click:e.myBoxNum}},[e._v("\n            "+e._s(e.myBoxNumSwitch?"保存盒号":"手动盒号")+"\n          ")]):e._e(),e.isEnd?e._e():o("div",{staticClass:"hoverStyle topTextButton",staticStyle:{float:"left","background-color":"rgb(188, 130, 153)",width:"5rem","text-align":"center","margin-left":"1rem !important"},on:{click:e.lockThisBatch}},[e._v("\n            锁定本批\n          ")]),e.isEnd?o("div",{staticClass:"hoverStyle topTextButton",staticStyle:{float:"left","background-color":"rgb(128, 155, 153)",width:"5rem","text-align":"center"},on:{click:e.unLockThisBatch}},[e._v("\n            解除锁定\n          ")]):e._e(),o("div",{staticClass:"topTextButton",staticStyle:{float:"left","text-align":"center","margin-left":"1rem"},on:{click:e.showKWMClick}},[e._v("\n            设置规则\n          ")]),o("div",{staticClass:"topTextButton",staticStyle:{float:"left","background-color":"rgb(22, 44, 100)",width:"5rem","text-align":"center","margin-left":"1rem"},on:{click:e.PrintSocket}},[e._v("\n            批量打印\n          ")]),o("div",{staticClass:"topTextButton",staticStyle:{float:"left","text-align":"center","margin-left":"1rem"},on:{click:e.genBoxInfo}},[e._v("\n            备考表\n          ")]),o("div",{staticClass:"hoverStyle topTextButton",staticStyle:{float:"left","background-color":"rgb(128, 160, 153)",width:"5rem","text-align":"center","margin-left":"1rem"},on:{mouseover:function(t){e.excelSelectFlag=!0},mouseleave:function(t){e.excelSelectFlag=!1}}},[e._v("\n            下载报表\n\n            "),o("div",{on:{mouseover:function(t){e.excelSelectFlag=!0},mouseleave:function(t){e.excelSelectFlag=!1}}},[e.excelSelectFlag?o("div",{staticStyle:{postion:"absolute",width:"5rem",height:"1.8rem","padding-top":"0.4rem"},on:{click:function(t){return e.getExcel(2)}}},[e._v("\n              按识别号\n            ")]):e._e(),e.excelSelectFlag?o("div",{staticStyle:{postion:"absolute",width:"5rem",height:"1.7rem","padding-top":"0.rem"},on:{click:function(t){return e.getExcel(1)}}},[e._v("\n              按件号\n            ")]):e._e()])]),o("div",{staticStyle:{clear:"both"}})]),o("div",{staticStyle:{position:"fixed",left:"0.5rem",top:"8.5rem","z-index":"5","font-size":"1.1rem"}},[o("div",{staticStyle:{"margin-top":"0.4rem"}},[o("div",{staticStyle:{float:"left"}},[e._v("筛选：")]),"personnel"!=e.docType?o("div",{staticStyle:{float:"left",width:"7rem","text-align":"center",position:"relative"},on:{mouseover:function(t){return e.showFilterSortYear()},mouseleave:e.hideFilterSortYear}},[e.filterSortYearFlag||"personnel"==e.docType?e._e():o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",position:"absolute",right:"1rem"}},[o("span",{attrs:{id:"user_top"}})]),e.filterSortYearFlag?o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",position:"absolute",right:"1rem"}},[o("span",{attrs:{id:"user_topd"}})]):e._e(),o("el-checkbox",{staticStyle:{position:"relative",right:"1rem",top:"0rem"},attrs:{"false-label":"false","true-label":"true"},on:{change:e.sortYearCheckChange},model:{value:e.sortYearCheck,callback:function(t){e.sortYearCheck=t},expression:"sortYearCheck"}},[e._v(e._s(e.yearReq)+"\n              ")]),e.filterSortYearFlag?o("div",{staticClass:"filterStyle",on:{mouseover:function(t){return e.showFilterSortYear()},mouseleave:e.hideFilterSortYear}},e._l(this.yearFilter,(function(t,s){return o("div",{key:s,staticClass:"filterItemStyle",on:{click:function(o){return e.filterFromRequests1(t)}}},[e._v("\n                  "+e._s(t)+"\n                ")])})),0):e._e()],1):e._e(),"personnel"!=e.docType?o("div",{staticStyle:{float:"left",width:"12rem","text-align":"center",position:"relative"},on:{mouseover:function(t){return e.showFilterDocAbout()},mouseleave:e.hideFilterDocAbout}},[e.filterDocAboutFlag||"personnel"==e.docType?e._e():o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",position:"absolute",right:"1rem"}},[o("span",{attrs:{id:"user_top"}})]),e.filterDocAboutFlag?o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",position:"absolute",right:"1rem"}},[o("span",{attrs:{id:"user_topd"}})]):e._e(),o("el-checkbox",{staticStyle:{position:"relative",right:"1rem",top:"0rem"},attrs:{"false-label":"false","true-label":"true"},on:{change:e.dabCheckChange},model:{value:e.dabCheck,callback:function(t){e.dabCheck=t},expression:"dabCheck"}},[e._v(e._s(e.docAboutReq)+"\n              ")]),e.filterDocAboutFlag?o("div",{staticClass:"filterStyle",staticStyle:{width:"12rem"},on:{mouseover:function(t){return e.showFilterDocAbout()},mouseleave:e.hideFilterDocAbout}},e._l(this.docAboutFilter,(function(t,s){return o("div",{key:s,staticClass:"filterItemStyle",on:{click:function(o){return e.filterFromRequests2(t)}}},[e._v("\n                  "+e._s(t)+"\n                ")])})),0):e._e()],1):e._e(),"personnel"!=e.docType?o("div",{staticStyle:{float:"left",width:"7rem","text-align":"center",position:"relative"},on:{mouseover:function(t){return e.showFilterDeadline()},mouseleave:e.hideFilterDeadline}},[o("el-checkbox",{staticStyle:{position:"relative",right:"1rem",top:"0rem"},attrs:{"false-label":"false","true-label":"true"},on:{change:e.ddlCheckChange},model:{value:e.ddlCheck,callback:function(t){e.ddlCheck=t},expression:"ddlCheck"}},[e._v(e._s(e.deadlineReq))]),o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",positon:"relative"}},[e.filterDeadlineFlag?e._e():o("span",{attrs:{id:"user_top"}}),e.filterDeadlineFlag?o("span",{attrs:{id:"user_topd"}}):e._e()]),e.filterDeadlineFlag?o("div",{staticClass:"filterStyle",on:{mouseover:function(t){return e.showFilterDeadline()},mouseleave:e.hideFilterDeadline}},e._l(this.deadlineFilter,(function(t,s){return o("div",{key:s,staticClass:"filterItemStyle",on:{click:function(o){return e.filterFromRequests3(t)}}},[e._v("\n                  "+e._s(t)+"\n                ")])})),0):e._e()],1):e._e(),"personnel"==e.docType?o("div",{staticStyle:{float:"left",width:"7rem","text-align":"center",position:"relative"},on:{mouseover:function(t){return e.showFilterName()},mouseleave:e.hideFilterName}},[e._v("\n              姓名\n              "),o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",positon:"relative"}},[e.filterNameFlag?e._e():o("span",{attrs:{id:"user_top"}}),e.filterNameFlag?o("span",{attrs:{id:"user_topd"}}):e._e()]),e.filterNameFlag?o("div",{staticClass:"filterStyle",on:{mouseover:function(t){return e.showFilterName()},mouseleave:e.hideFilterDeadline}},e._l(this.nameFilter,(function(t,s){return o("div",{key:s,staticClass:"filterItemStyle",on:{click:function(o){return e.filterThisRequest("name",t)}}},[e._v("\n                  "+e._s(t)+"\n                ")])})),0):e._e()]):e._e(),o("div",{staticStyle:{float:"left",width:"10rem","text-align":"center",position:"relative",cursor:"pointer"},on:{click:e.showAllDocs}},[e._v("\n              取消筛选\n            ")]),o("div",{staticStyle:{float:"left",width:"8rem","text-align":"center",position:"relative",cursor:"pointer"},on:{click:e.showDeleted}},[e._v("\n              "+e._s(1==e.deletedShowSwitch?"已删文件":"返回列表")+"\n            ")]),e.deletedShowSwitch?o("div",{staticStyle:{float:"left",width:"8rem","text-align":"center",position:"relative"}},[e._v("\n              "+e._s(e.$store.state.alreadyDocs.length)+"份\n            ")]):e._e()])]),e.showKWM?e._e():o("div",["personnel"!=e.docType?o("div",{staticStyle:{height:"4.5rem",width:"100%"}}):e._e(),"personnel"==e.docType?o("div",{staticStyle:{height:"2.5rem",width:"100%"}}):e._e(),"science"!=e.docType&&"personnel"!=e.docType?o("div",{},[o("div",{staticClass:"detailItem detailItemTitle",staticStyle:{height:"2rem"}},[o("div",{staticClass:"itemInfo",staticStyle:{width:"3%"}},[e._v("识别号")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"6%"}},[e._v("\n                "+e._s("officialJ"==e.docType?"机构":"问题")+"\n              ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("\n                "+e._s("officialJ"==e.docType?"机构词":"问题词")+"\n              ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v("档号")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v("文号")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"12%"}},[e._v("责任者")]),o("div",{staticClass:"itemInfo",staticStyle:{"font-size":"0.6rem",width:"12%"}},[e._v("\n                题名\n              ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("成文时间")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("密级")]),o("div",{staticClass:"itemInfo",staticStyle:{"font-size":"0.6rem",width:"6%"}},[e._v("\n                备注\n              ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"2%"}},[e._v("页数")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"2%"}},[e._v("计")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("件号")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("盒号")]),o("div",{staticStyle:{clear:"both"}})]),e._l(this.$store.state.alreadyDocs.filter((function(t){return t.deleted!=e.deletedShowSwitch})),(function(t,s){return o("div",{key:s,staticClass:"detailItem infoItemHighlight"},[o("div",{staticClass:"itemInfo",staticStyle:{width:"3%"}},[e._v("\n                "+e._s(t.docSequence)+"\n              ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"6%"}},[e._v(e._s(t.docAbout))]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v(e._s(t.keyword))]),o("div",{staticClass:"itemInfo",staticStyle:{"font-size":"0.6rem",width:"10%"}},[e._v("\n                "+e._s(e.authCode+"-"+t.docTypeCode+"·")+e._s(e._f("formatSortYear")(t.sortYear))+"-"+e._s(e._f("deadlineFormat")(t.deadline))+"-"+e._s(t.docAbout+"-")+e._s(e._f("formatFourNum")(t.docNum))+"\n              ")]),o("div",{staticClass:"itemInfo",staticStyle:{"font-size":"0.6rem",width:"10%"}},[e._v("\n                "+e._s(t.docDesc?t.docDesc:" ")+"\n              ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"12%"}},[e._v("\n                "+e._s(t.dutyAuthor)+"\n              ")]),o("div",{staticClass:"itemInfo",staticStyle:{"font-size":"0.6rem",width:"12%"}},[e._v("\n                "+e._s(t.docTitle)+"\n              ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v(e._s(t.docDate))]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("\n                "+e._s("无"!=t.docSecret&&t.docSecret?t.docSecret:" ")+"\n              ")]),o("div",{staticClass:"itemInfo",staticStyle:{"font-size":"0.6rem",width:"6%"}},[e._v("\n                "+e._s(t.remark?t.remark:" ")+"\n              ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"2%"}},[e._v(e._s(t.docPage))]),o("div",{staticClass:"itemInfo",class:[{itemInfo:!0},{endStyle:t.docSequence==e.endInfo.docSequence}],staticStyle:{width:"2%"}},[e._v("\n                "+e._s(e._f("pageTotalformat")(t.pageTotal))+"\n              ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("\n                "+e._s(t.docNum?t.docNum:"暂无")+"\n              ")]),o("div",{class:[{itemInfo:!0},{startStyle:t.docSequence==e.startInfo.docSequence},{endStyle:t.docSequence==e.endInfo.docSequence}],staticStyle:{width:"4%"},on:{mouseleave:function(o){return e.boxLeave(t)},mouseenter:function(o){return e.boxOver(t)},click:function(o){return e.boxClick(t)}}},[e._v("\n                "+e._s(t.boxSeq?t.boxSeq:"暂无")+"\n              ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"7%"}},[0==t.deleted?o("div",[o("div",{staticClass:"optionDiv",staticStyle:{float:"left"},on:{click:function(o){return e.fixThisItem(t)}}},[e._v("\n                    修改\n                  ")]),o("div",{staticClass:"optionDiv",staticStyle:{float:"left"},on:{click:function(o){return e.deleteThisItem(t)}}},[e._v("\n                    删除\n                  ")]),1!=t.printed?o("div",{staticClass:"optionDiv",staticStyle:{float:"left"},on:{click:function(o){return e.printOne(t)}}},[e._v("\n                    印章\n                  ")]):e._e()]):e._e(),1==t.deleted?o("div",{staticClass:"optionDiv",staticStyle:{float:"left",cursor:"arrow",color:"red"}},[e._v("\n                  已作废\n                ")]):e._e(),1==t.printed?o("div",{staticClass:"optionDiv",staticStyle:{float:"left",color:"#c00"},on:{click:function(o){return e.printOne(t)}}},[e._v("\n                  已印\n                ")]):e._e()]),o("div",{staticStyle:{clear:"both"}})])}))],2):e._e(),"personnel"==e.docType?o("div",[o("div",{staticStyle:{height:"2rem",width:"3rem"}}),e._m(0),e._l(this.$store.state.alreadyDocs,(function(t,s){return o("div",{key:s,staticClass:"detailItemRS infoItemHighlight"},[o("div",{staticClass:"itemInfo",staticStyle:{width:"3%"}},[e._v("\n                "+e._s(t.docSequence)+"\n              ")]),o("div",{staticClass:"itemInfo"},[e._v(e._s(t.personName))]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v(e._s(t.docAbout))]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v("\n                "+e._s(t.docAboutSub)+"\n              ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"15%"}},[e._v(e._s(t.docTitle))]),o("div",{staticClass:"itemInfo"},[e._v(e._s(t.docDate))]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v(e._s(t.docPage))]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("\n                "+e._s(t.docNum?t.docNum:"暂无")+"\n              ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v(e._s(t.remark))]),o("div",{staticClass:"itemInfo"},[e._v(" ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"14%"}},[e._v(" ")]),o("div",{staticStyle:{clear:"both"}})])}))],2):e._e(),"science"==e.docType?o("div",[e._m(1),e._l(this.$store.state.alreadyDocs,(function(t,s){return o("div",{key:s,staticClass:"detailItem infoItemHighlight"},[o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("\n                "+e._s(t.docSequence)+"\n              ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"6%"}},[e._v(e._s(t.keyword))]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v(e._s(t.docAbout))]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"10%"}},[e._v("\n                "+e._s(e.authCode+"-"+t.docTypeCode+"-")+e._s(e._f("formatFiveKJ")(t.boxSeq))+"-"+e._s(e._f("formatThreeKJ")(t.docNum))+"\n              ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v(e._s(e.authCode))]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v("\n                "+e._s(t.docTypeCode?t.docTypeCode:" ")+"\n              ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"10%"}},[e._v("\n                "+e._s(t.dutyAuthor)+"\n              ")]),o("div",{staticClass:"itemInfo2",staticStyle:{"font-size":"0.6rem",width:"10%"}},[e._v("\n                "+e._s(t.docTitle)+"\n              ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v(e._s(t.docDate))]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v(e._s(t.deadline))]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("\n                "+e._s("无"==t.docSecret?" ":t.docSecret)+"\n              ")]),o("div",{staticClass:"itemInfo2",staticStyle:{"font-size":"0.6rem",width:"8%"}},[e._v("\n                "+e._s(t.remark?t.remark:" ")+"\n              ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v(e._s(t.docPage))]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("\n                "+e._s(e._f("pageTotalformat")(t.pageTotal))+"\n              ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("\n                "+e._s(t.boxSeq?t.boxSeq:"暂无")+"\n              ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("\n                "+e._s(t.docNum?t.docNum:"暂无")+"\n              ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"7%"}},[o("div",{staticClass:"optionDiv",staticStyle:{float:"left"},on:{click:function(o){return e.fixThisItem(t)}}},[e._v("\n                  修改\n                ")]),o("div",{staticClass:"optionDiv",staticStyle:{float:"left"},on:{click:function(o){return e.deleteThisItem(t)}}},[e._v("\n                  删除\n                ")]),o("div",{staticClass:"optionDiv",staticStyle:{float:"left"},on:{click:function(o){return e.printBtn(t)}}},[e._v("\n                  印章\n                ")])]),o("div",{staticStyle:{clear:"both"}})])}))],2):e._e(),o("div",{staticStyle:{"boder-top":"solid 0.2rem"}})])]),o("div",{staticStyle:{height:"2rem"}})])])},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"detailTopLine"},[o("div",{staticClass:"itemInfo",staticStyle:{width:"3%"}},[e._v("识别号")]),o("div",{staticClass:"itemInfo"},[e._v("姓名")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v("材料类型")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v("子材料类型")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"15%"}},[e._v("标题")]),o("div",{staticClass:"itemInfo"},[e._v("日期")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("页数")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("材料序号")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v("备注")]),o("div",{staticClass:"itemInfo"},[e._v("操作")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"14%"}},[e._v(" ")]),o("div",{staticStyle:{clear:"both"}})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"detailItem detailItemTitle"},[o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("识别号")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"6%"}},[e._v("关键词")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v("项目")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"10%"}},[e._v("档号")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v("全宗号")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v("目录号")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"10%"}},[e._v("责任者")]),o("div",{staticClass:"itemInfo2",staticStyle:{"font-size":"0.6rem",width:"10%"}},[e._v("\n                题名\n              ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v("成文时间")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v("期限")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("密级")]),o("div",{staticClass:"itemInfo2",staticStyle:{"font-size":"0.6rem",width:"8%"}},[e._v("\n                备注\n              ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("页数")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("计")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("案卷号")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("顺序号")]),o("div",{staticStyle:{clear:"both"}})])}],n=o("01d6"),r=(o("d0f2"),o("1bc7"),o("32ea"),o("8dee"),o("3441"),o("6a61"),o("99a5")),a=(o("fc02"),o("7ca0")),c=o("946a"),l=o("82ae"),d=o.n(l),h=(o("7ef1"),o("e42f")),u={components:{HidePrint:h["a"],KeyWordManage:c["default"]},watch:{printSeqAtJS:{handler:function(e,t){for(var o in this.$store.state.rawDocs)if(this.$store.state.rawDocs[o].docSequence==e){var s=this.$store.state.rawDocs[o];this.printInfo=s.docTitle,this.printInfo1=s.docDesc+"-件号："+s.docNum+"-页数："+s.docPage}}}},computed:{printSeqAtJS:function(){return this.printSeqAt},docType:function(){return sessionStorage.getItem("docType")},authCode:function(){return sessionStorage.getItem("authCode")||""},authName:function(){return sessionStorage.getItem("authName")||""},getDocInShow:function(){return this.$store.state.showDocIn}},data:function(){return{excelSelectFlag:!1,publisher:"",checker:"",publishTime:"",checkTime:"",boxInfoShowFlag:!1,boxInfoList:[],boxInfoNow:{},boxInfoTableNumList:[],isEnd:!1,firstTimePrint:1,printIndex:1,printedList:[],printedString:"",maxSeq:1,lastPrint:-1,printType:"识别号",connectTip:"未连接",printInfo:"",printInfo1:"",processShow:!1,printSeqAt:0,printArr:[],connectStatus:!1,helpShow:!1,printerIp:"",SelectedPrintOrder:"",printOrders:["按识别号小到大正序","按识别号大到小逆序","按件号顺序"],socketUtil:"",PrintControllshow:!1,showKWM:!1,boxNumMap:{},startBoxNum:0,showStartBoxSet:!1,startStyleCtrl:!1,myBoxNumSwitch:!1,boxSeqTemp:"",boxSeqText:"开始",startSeq:"",endSeq:"",startInfo:{docSequence:0,boxSeq:0},endInfo:{docSequence:0,boxSeq:0},deletedShowSwitch:1,showDocIn:!1,destoryFlag:!0,initTime:"",printDoc:!1,deadlineReq:"期限",yearReq:"年度",docAboutReq:"机构",showCenterPrint:!1,showPrint:!1,reSend:!0,onceFlag:!1,alreadyDocsRestore:[],filterDocAboutFlag:!1,filterDeadlineFlag:!1,filterSortYearFlag:!1,filterNameFlag:!1,sortYearCheck:!1,dabCheck:!1,ddlCheck:!1,nameFilter:[],yearFilter:[],docAboutFilter:[],deadlineFilter:[],advSearchShow:!1,searchContent:"输入识别号",searchForm:{authId:sessionStorage.getItem("authId"),batchId:sessionStorage.getItem("batchId"),docSequence:"",docTitle:"",docDesc:"",docDate:"",dutyAuthor:"",docType:"",personName:""},RsDocs:[[[{id:"1",docSequence:"123qwe",docType:"personnel",docTitle:"材料1巴拉巴拉",docAbout:"履历材料",docAboutSub:"无",keyword:"关键字",docDate:"20180808",docTypeCode:"RS",docSecret:"",docPage:"23",remark:"",docNumber:"1",personName:"陈海林",docDescNum:"0"},{id:"2",docSequence:"321qwe",docType:"personnel",docTitle:"材料1巴拉巴拉2",docAbout:"履历材料",docAboutSub:"无",keyword:"关键字2",docDate:"20180808",docTypeCode:"RS",docSecret:"",docPage:"23",remark:"",docNumber:"2",personName:"陈海林",docDescNum:"0"}],[{id:"1",docSequence:"12aswe",docType:"personnel",docTitle:"材料2巴拉巴拉",docAbout:"自传材料",docAboutSub:"无",keyword:"关键字1",docDate:"20180808",docTypeCode:"RS",docSecret:"",docPage:"23",remark:"",docNumber:"1",personName:"陈海林",docDescNum:"0"},{id:"2",docSequence:"32asde",docType:"personnel",docTitle:"材料2巴拉巴拉2",docAbout:"自传材料",docAboutSub:"无",keyword:"关键字2",docDate:"20180808",docTypeCode:"RS",docSecret:"",docPage:"23",remark:"",docNumber:"2",personName:"陈海林",docDescNum:"0"}],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]]],showWaitingFlag:!1,tempOrganName:"name",tempOrganCode:123}},methods:{saveInfo:function(){var e=this,t={};for(var o in this.boxInfoList)this.boxInfoList[o].publisher=this.publisher,this.boxInfoList[o].checker=this.checker,this.boxInfoList[o].publishTime=this.publishTime,this.boxInfoList[o].checkTime=this.checkTime,this.boxInfoList[o].authName=sessionStorage.getItem("authName");t.infos=JSON.stringify(this.boxInfoList),this.putRequest("/work/box-infos/"+sessionStorage.getItem("batchId"),JSON.stringify(t)).then((function(t){0==t.code&&(console.log(t),e.$message({type:"success",message:"保存成功"}))}))},getOneInfo:function(){var e=this;null!=this.boxInfoNow.id&&0!=this.boxInfoNow.tableNumber.length?d()({method:"get",url:this.baseurl+"/work/downloadOne/"+this.boxInfoNow.id+"/"+sessionStorage.getItem("batchId"),responseType:"arraybuffer",headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:window.localStorage.getItem("token")?window.localStorage.getItem("token").split('"')[1]||window.localStorage.getItem("token"):null}}).then((function(t){var o=new Blob([t]),s=e.boxInfoNow.tableNumber+".doc",i=document.createElement("a");i.download=s,i.style.display="none",i.href=URL.createObjectURL(o),document.body.appendChild(i),i.click(),URL.revokeObjectURL(i.href),document.body.removeChild(i),e.showWaitingFlag=!1})):this.$message({type:"warning",message:"请选择"})},getAllInfo:function(){var e=this;this.showWaitingFlag=!0,d()({method:"get",url:this.baseurl+"/work/downloadAll/"+sessionStorage.getItem("batchId"),responseType:"arraybuffer",headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:window.localStorage.getItem("token")?window.localStorage.getItem("token").split('"')[1]||window.localStorage.getItem("token"):null}}).then((function(t){var o=new Blob([t]),s=sessionStorage.getItem("authName")+".zip",i=document.createElement("a");i.download=s,i.style.display="none",i.href=URL.createObjectURL(o),document.body.appendChild(i),i.click(),URL.revokeObjectURL(i.href),document.body.removeChild(i),e.showWaitingFlag=!1})).then((function(t){e.showWaitingFlag=!1}))},boxInfoBlur:function(e){var t=e.target.value;console.log(t)},boxInfoSelectDone:function(e){console.log(e),this.boxInfoNow=e},genBoxInfo:function(){var e=this;this.isEnd||this.$confirm("请确定盒号件号不再修改,锁定本批次后再操作备考表","提示",{confirmButtonText:"好的",type:"warning"}),this.isEnd&&(this.boxInfoShowFlag=!0,this.getRequest("/work/box-infos?id="+sessionStorage.getItem("batchId")).then((function(t){console.log(t),e.boxInfoList=t.data,0!=e.boxInfoList.length?(e.publishTime=e.boxInfoList[0].publishTime,e.publisher=e.boxInfoList[0].publisher,e.checkTime=e.boxInfoList[0].checkTime,e.checker=e.boxInfoList[0].checker,e.boxInfoTableNumList=[]):e.$message({type:"warning",message:"请先排件号盒号并锁定本批"})})))},printThis1:function(){var e=this;if(this.connectStatus){var t,o=this.$store.state.rawDocs;for(var s in console.log(o.length),o)if(o[s].docSequence==this.printSeqAt){if(console.log(o[s]),1==o[s].deleted)return void this.$message({type:"warning",message:"该份已删除"});if(t=o[s],1!=t.printed){o[s].printed=1,this.printedList.push(o[s].id);var i="";for(var n in this.printedList)i=i+this.printedList[n]+",";","==i.charAt(i.length-1)&&(i=i.substring(0,i.length-1)),console.log(i),this.postRequest("/work/printedList/"+sessionStorage.getItem("batchId"),i).then((function(e){e.code}))}break}if(t){var r={};r.code=sessionStorage.getItem("authCode")+"",r.year=t.sortYear+"",r.about=t.docAbout+"",r.page=t.docPage+"",r.num=t.docNum+"",this.isNumber(t.deadline)?r.deadline=t.deadline+"年":r.deadline=t.deadline;var a={};a.params=r,d()({method:"post",url:"http://localhost:8999/api/writeBmp",data:{params:JSON.stringify(r)},timeout:6e3}).then((function(t){console.log(t),d()({method:"post",url:"http://localhost:8999/api/send",data:{message:"000B|0000|500|0|0|0000|0|0000|0D0A"},timeout:1e3}).then((function(o){function s(e,t){setTimeout(t,e)}console.log("stop signal-"+JSON.stringify(o)),0==o.code?(console.log("1s"+(new Date).getSeconds()),s(1e3,(function(){console.log("1s 后"+(new Date).getSeconds()),d()({method:"post",url:"http://localhost:8999/api/send",data:{message:"000B|0000|100|/mnt/sdcard/MSG/1/|0|0000|0|0000|0D0A"},timeout:6e3}).then((function(t){console.log(JSON.stringify("开始打印返回的："+JSON.stringify(t))),0==t.code?(e.$message({type:"success",message:"打印信号已发送"}),console.log(e.firstTimePrint),1==e.firstTimePrint&&(e.firstTimePrint=0,console.log("diyici 连接而不上"),s(4e3,(function(){d()({method:"post",url:"http://localhost:8999/api/send",data:{message:"000B|0000|100|/mnt/sdcard/MSG/1/|0|0000|0|0000|0D0A"},timeout:6e3})})))):(1==e.firstTimePrint&&(e.firstTimePrint=0,console.log("diyici 连接而不上2222222"),console.log(resFirstTime),s(4400,(function(){d()({method:"post",url:"http://localhost:8999/api/send",data:{message:"000B|0000|100|/mnt/sdcard/MSG/1/|0|0000|0|0000|0D0A"},timeout:6e3})}))),e.$message({type:"success",message:"发送失败请检查机器，尝试重连"}))})).catch((function(e){console.log("start err"+e)}))}))):(console.log("1s 22"+(new Date).getSeconds()),s(1e3,(function(){console.log("1s 后2"+(new Date).getSeconds()),d()({method:"post",url:"http://localhost:8999/api/send",data:{message:"000B|0000|100|/mnt/sdcard/MSG/1/|0|0000|0|0000|0D0A"},timeout:6e3}).then((function(o){console.log(JSON.stringify("开始打印返回的2："+JSON.stringify(o))),0==t.code&&(e.$message({type:"success",message:"打印信号已发送"}),1==e.firstTimePrint&&(e.firstTimePrint=0,console.log("diyici 连接而不上 2"),s(4e3,(function(){d()({method:"post",url:"http://localhost:8999/api/send",data:{message:"000B|0000|100|/mnt/sdcard/MSG/1/|0|0000|0|0000|0D0A"},timeout:6e3})}))))})).catch((function(t){console.log("start err"+t),e.$message({type:"warning",message:"启动失败，请检查喷码机"})}))})))})).catch((function(t){console.log("stop err"+t),e.$message({type:"warning",message:"请在打印机操作界面检查打印机"})}))}))}else this.$message({type:"warning",message:"该份不存在或已删除"})}else this.$message({type:"warning",message:"请先连接打印机"})},printThis:function(){if(this.connectStatus=!0,this.connectStatus){var e,t=[],o=this.$store.state.rawDocs;for(var s in console.log(o.length),o)if(o[s].docSequence==this.printSeqAt){if(console.log(o[s]),1==o[s].deleted)return void this.$message({type:"warning",message:"该份已删除"});if(e=o[s],1!=e.printed){o[s].printed=1,this.printedList.push(o[s].id);var i="";for(var n in this.printedList)i=i+this.printedList[n]+",";","==i.charAt(i.length-1)&&(i=i.substring(0,i.length-1)),console.log(i),this.postRequest("/work/printedList/"+sessionStorage.getItem("batchId"),i).then((function(e){e.code}))}}t.push(e);var a=!1,c=!1,l=this,d=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.sendFormat(t);case 2:if(a=e.sent,!a){e.next=7;break}return e.next=6,l.sendQR(t);case 6:c=e.sent;case 7:a&&c?l.sendMessage():(l.connectStatus=!1,this.firstTimePrint=1,l.connectTip="已断开",l.$message({type:"success",message:"发送出错，请尝试重新连接"}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}();d()}else this.$message({type:"warning",message:"请先连接打印机"})},sendMessage:function(){var e,t=this;for(var o in this.printArr)if(this.printArr[o].docSequence==this.printSeqAt){e=this.printArr[o].deadline;break}console.log("111111111?"+e);var s=1;s=this.isNumber(e)?2==e.length?22:33:11,d()({method:"post",url:"http://localhost:8999/api/send",data:{message:"000B|0000|500|0|0|0000|0|0000|0D0A"},timeout:4e3}).then((function(e){console.log("stop signal"+JSON.stringify(e)),t.$message({type:"success",message:"已停止打印机，并启动新的一组打印"}),e?d()({method:"post",url:"http://localhost:8999/api/send",data:{message:"000B|0000|100|/mnt/sdcard/MSG/"+s+"/|0|0000|0|0000|0D0A"},timeout:6e3}).then((function(e){console.log(JSON.stringify("开始打印返回的："+e)),0==e.code?t.$message({type:"success",message:"打印信号已发送"}):1==t.firstTimePrint&&(t.firstTimePrint=0,console.log("第一次发送会收不到"))})).catch((function(e){console.log("start err"+e)})):t.$message({type:"warning",message:"请在打印机操作界面检查打印机"})})).catch((function(e){console.log("stop err"+e),t.$message({type:"warning",message:"请在打印机操作界面检查打印机"})}))},ipInput:function(){var e=this;console.log(2);var t=this.printerIp.split(".");if(4==t.length&&t[t.length-1].length>0){for(var o in t)if(!this.isNumber(t[o]))return void this.$message({type:"warning",message:"地址格式错误"});console.log(this.printerIp),this.connectTip="连接中",d.a.get("http://localhost:8999/api/"+this.printerIp+"/3550",{headers:{"Content-Type":"application/json"}}).then((function(t){0==t.code?(e.$message({type:"success",message:"连接打印机成功"}),e.firstTimePrint=1,e.connectStatus=!0):e.connectTip="未连接"}))}else this.$message({type:"warning",message:"地址格式错误"})},resetPrint:function(){this.nowPrintSeq="",this.connectStatus=!1,this.firstTimePrint=1,this.cidrs="",this.processShow=!1},startPrint:function(){if(this.connectStatus){this.printSeqAt=0,this.processShow=!0;console.log(this.printArr)}else this.$message({type:"warning",message:"请先连接打印机"})},nextPrint:function(){this.printSeqAt<this.maxSeq&&(this.printSeqAt=parseInt(this.printSeqAt)+1)},prePrint:function(){this.printSeqAt>0&&(this.printSeqAt=parseInt(this.printSeqAt)-1)},printOrderBlur:function(){},spliceUtil:function(e){var t=[];for(var o in e)t.push(e[o]);var s,i=t[0],n=[],r=[];for(var a in r.push(t[0]),t)0!=a&&(s=t[a],i=t[a-1],(s.docNum+"").length==(i.docNum+"").length&&s.docAbout.length==i.docAbout.length&&this.isNumber(s.deadline)==this.isNumber(i.deadline)&&(s.deadline+"").length==(i.deadline+"").length&&(s.docPage+"").length==(i.docPage+"").length?(r.push(t[a]),a==t.length-1&&n.push(r)):(n.push(r),r=[],r.push(t[a]),a==t.length-1&&n.push(r)));return n},sendQR:function(e){var t="",o="";for(var s in e){var i=parseInt(s+1);if(i+=",",t=t+i+sessionStorage.getItem("authCode")+","+e[0].sortYear+","+e[s].docNum+","+e[s].docAbout+","+e[s].deadline+","+e[s].docPage+",年\n",s==e.length-1){var n=parseInt(s+2);t=t+n+","+sessionStorage.getItem("authCode")+","+e[s].sortYear+","+e[s].docNum+","+e[s].docAbout+","+e[s].deadline+","+e[s].docPage+",年\n"}}o+=e[0].docSequence+"-"+sessionStorage.getItem("authCode")+","+e[0].sortYear+","+e[s].docNum+","+e[s].docAbout+","+e[s].deadline+","+e[s].docPage;var r="1";r=this.isNumber(e[0].deadline)?2==e[0].deadline.length?"2":"3":"1";var a={};a.txtString=t;var c={};return c.params=a,console.log(a),new Promise((function(e,s){d()({method:"post",url:"http://localhost:8999/api/writeData",data:{txtString:t,tip:r+","+o},timeout:6e3}).then((function(t){0==t.code?e(!0):e(!1),console.log("write txtData"),console.log(t)}))}))},connectPrinter:function(e){var t=this;this.connectTip="连接中",d.a.get("http://localhost:8999/api/"+e+"/3550",{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e),0!=e.code&&(t.connectTip="未连接")}))},sendFormat:function(e){console.log("send format："+e[0]);var t="1";t=this.isNumber(e[0].deadline)?2==e[0].deadline.length?"2":"3":"1";var o={};o.authCode=sessionStorage.getItem("authCode").length+"",o.docAbout=e[0].docAbout.length+"",o.page=(e[0].docPage+"").length+"",o.docNum=(e[0].docNum+"").length+"",console.log("?????"+e[0].docNum),o.deadline=t;var s={};return s.params=o,new Promise((function(e,t){d()({method:"post",url:"http://localhost:8999/api/writeFormat",data:{params:JSON.stringify(o)},timeout:6e3}).then((function(t){console.log("write format"),console.log(t),t&&0==t.code?e(!0):e(!1)}))}))},deepClone:function(e){var t={};return t=JSON.parse(JSON.stringify(e)),t},sortR:function(){var e=[];function t(e,t){return parseInt(t.docSequence)-parseInt(e.docSequence)}e=this.deepClone(this.$store.state.rawDocs);var o=[];for(var s in e)o.push(e[s]);for(var i in o.sort(t),o)1==o[i].deleted&&(o.splice(i,1),i-=1);return o},getPrints:function(){var e;e=this.deepClone(this.$store.state.rawDocs);for(var t=e,o=0;o<t.length;o++)console.log(t[o].deleted),0!=t[o].deleted&&(console.log(t[o]),t.splice(o,1),o--);return t},sortL:function(){var e=[];function t(e,t){return parseInt(e.docSequence)-parseInt(t.docSequence)}e=this.deepClone(this.$store.state.rawDocs);var o=[];for(var s in e)o.push(e[s]);o.sort(t),console.log("arr len"+e.length);for(var i=0;i<o.length;i++)console.log(o[i].deleted),0!=o[i].deleted&&(console.log(o[i]),o.splice(i,1),i--);return o},printOne:function(e){for(var t in this.printArr=this.getPrints(),this.maxSeq=1,this.printArr)this.maxSeq<parseInt(this.printArr[t].docSequence)&&(this.maxSeq=parseInt(this.printArr[t].docSequence),this.printIndex=t);this.printSeqAt=e.docSequence,this.PrintControllshow=!0},PrintSocket:function(){for(var e in this.printArr=this.getPrints(),console.log(this.printArr),this.maxSeq=1,this.printArr)this.maxSeq<parseInt(this.printArr[e].docSequence)&&(this.maxSeq=parseInt(this.printArr[e].docSequence),this.printIndex=e);this.printSeqAt||(this.printSeqAt=this.maxSeq),this.PrintControllshow=!0},enterToPrint:function(){},showKWMClick:function(){this.showKWM=!0,window.scrollTo(0,0)},hideSubKWM:function(){this.showKWM=!1},boxOver:function(e){if(this.myBoxNumSwitch){if(this.startSeq){if(e.docSequence==this.startSeq)return;this.endInfo.docSequence=e.docSequence,this.endInfo.boxSeq=e.boxSeq,e.boxSeq="结束",this.endSeq=e.docSequence,this.preComputeBox()}""==this.startSeq&&(this.startInfo.docSequence=e.docSequence,this.startInfo.boxSeq=e.boxSeq,e.boxSeq="开始")}},boxLeave:function(e){this.startSeq!=e.docSequence&&(this.startInfo.docSequence==e.docSequence&&(e.boxSeq=this.startInfo.boxSeq),this.endInfo.docSequence==e.docSequence&&(e.boxSeq=this.endInfo.boxSeq))},boxClick:function(e){if(this.myBoxNumSwitch){if(""==this.startSeq)return void(this.startSeq=e.docSequence);var t,o,s,i;for(var n in this.endSeq=e.docSequence,this.$store.state.alreadyDocs)this.$store.state.alreadyDocs[n].docSequence==this.startSeq&&(t=this.$store.state.alreadyDocs[n].deadline,s=n),this.$store.state.alreadyDocs[n].docSequence==this.endSeq&&(o=this.$store.state.alreadyDocs[n].deadline,i=n);if(o!=t)return this.endSeq="",void this.$message({type:"warning",message:"不是同一盒型"});if(s>i)return this.endSeq="",void this.$message({type:"warning",message:"操作错误"});this.startSeq&&this.endSeq&&(this.showStartBoxSet=!0,this.$message({type:"success",message:"修改完成后请点击“保存盒号”"}))}},manualBox:function(){this.showStartBoxSet=!1;for(var e=-1,t=-1,o=-1,s=this.$store.state.alreadyDocs,i=0;i<s.length;i++)s[i].docSequence==this.startSeq&&(e=i),s[i].docSequence==this.endSeq&&(t=i);console.log(s.length);for(i=t;i<s.length;i++)if(s[i].deadline!=s[t].deadline){o=i-1;break}-1==o&&(o=s.length-1);var n=e;if(console.log(o),e>=0)for(;n<=t;n++)s[n].boxSeq=this.startBoxNum;t<o&&(s[t+1].boxSeq=parseInt(this.startBoxNum)+1,s[t+1].pageTotal=parseInt(s[t+1].docPage));for(var r=1,a=s[t+1].pageTotal,c=t+2;c<=o;c++){var l=a+parseInt(s[c].docPage),d=!1,h=parseInt(s[c].docPage);(l>180||h>180)&&(d=!0),s[c].docAbout!=s[c-1].docAbout||s[c].docSecret!=s[c].docSecret||d?(r++,a=parseInt(s[c].docPage),s[c].boxSeq=parseInt(this.startBoxNum)+r,s[c].pageTotal=parseInt(s[c].docPage)):(s[c].boxSeq=parseInt(this.startBoxNum)+r,a+=parseInt(s[c].docPage),s[c].pageTotal=a)}for(n=e;n<=o;n++)this.boxNumMap[s[n].id]=s[n].boxSeq+"-"+s[n].pageTotal;this.startSeq="",this.endSeq="",this.startInfo={},this.endInfo={}},cancleManulBox:function(){this.showStartBoxSet=!1,this.startSeq="",this.endSeq=""},preComputeBox:function(){for(var e=-1,t=-1,o=this.$store.state.alreadyDocs,s=0;s<o.length;s++)o[s].docSequence==this.startSeq&&(e=s),o[s].docSequence==this.endSeq&&(t=s);if(e>=0){var i=o[e].docPage;o[e].pageTotal=i;for(var n=e+1;n<=t;n++)i+=o[n].docPage,o[n].pageTotal=i}},myBoxNum:function(){var e=this;this.boxNumMap;if(this.myBoxNumSwitch)return this.postRequest("/work/boxSet/"+sessionStorage.getItem("batchId"),JSON.stringify(this.boxNumMap)).then((function(t){0==t.code&&e.$message({type:"success",message:"保存成功，若重新排件号将覆盖已保存盒号"})})),void(this.myBoxNumSwitch=!1);this.myBoxNumSwitch||(this.myBoxNumSwitch=!0)},showDeleted:function(){var e=this;if(this.deletedShowSwitch=!this.deletedShowSwitch,0==this.deletedShowSwitch){this.showWaitingFlag=!0;var t="/document/page/"+sessionStorage.getItem("docType")+"/"+sessionStorage.getItem("batchId")+"?pageNow=0&pageSize=100000";d.a.get(this.baseurl+t,{headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:localStorage.getItem("token")?localStorage.getItem("token").split('"')[1]||localStorage.getItem("token"):null}}).then((function(t){t&&(e.$store.state.sequenceDocs=t.data.content,e.showWaitingFlag=!1,e.$store.state.alreadyDocs=e.$store.state.sequenceDocs)}))}else this.showAllDocs()},lockThisBatch:function(){var e=this;this.putRequest("/work/"+sessionStorage.getItem("batchId")+"/1/end").then((function(t){0==t.code&&(e.$store.state.isEnd=!0,e.isEnd=!0,console.log("end=1"),window.sessionStorage.setItem("isEnd",1))}))},unLockThisBatch:function(){var e=this;this.putRequest("/work/"+sessionStorage.getItem("batchId")+"/0/end").then((function(t){0==t.code&&(e.$store.state.isEnd=!1,e.isEnd=!1,window.sessionStorage.setItem("isEnd",0))}))},sortYearCheckChange:function(){this.filterFromRequests()},dabCheckChange:function(){this.filterFromRequests()},ddlCheckChange:function(){this.filterFromRequests()},hideCenterPrintBtn:function(){this.showCenterPrint=!1},showCenterPrintBtn:function(){},likeDescComplete:function(){var e=this.searchForm.docDesc.replace(/【/g,"["),t=e.replace(/】/g,"]");this.searchForm.docDesc=t},showFilterName:function(){this.filterNameFlag=!0},hideFilterName:function(){this.filterNameFlag=!1},showFilterSortYear:function(){this.filterSortYearFlag=!0},hideFilterSortYear:function(){this.filterSortYearFlag=!1},showAllDocs:function(){window.scrollTo(0,0),this.ddlCheck=!1,this.dabCheck=!1,this.sortYearCheck=!1,1==this.deletedShowSwitch&&(this.$store.state.alreadyDocs=this.$store.state.rawDocs)},filterFromRequests1:function(e){this.yearReq=e,this.filterFromRequests()},filterFromRequests2:function(e){this.docAboutReq=e,this.filterFromRequests()},filterFromRequests3:function(e){this.deadlineReq=e,this.filterFromRequests()},filterFromRequests:function(){window.scrollTo(0,0),this.startSeq="",this.endSeq="",this.alreadyDocsRestore=this.$store.state.rawDocs,this.alreadyDocsRestore.length>0&&(this.$store.state.alreadyDocs=this.$store.state.rawDocs);var e=this.alreadyDocsRestore,t=this;this.dabCheck,"机构"==this.docAboutReq||!this.dabCheck&&"true"!=this.dabCheck||"false"==this.dabCheck||(e=e.filter((function(e,o,s){return e.docAbout==t.docAboutReq}))),"年度"!=this.yearReq&&(this.sortYearCheck||"true"==this.sortYearCheck&&"false"!=this.sortYearCheck)&&(e=e.filter((function(e,o,s){return e.sortYear==t.yearReq}))),"期限"==this.deadlineReq||!this.ddlCheck&&"true"!=this.ddlCheck||"false"==this.ddlCheck||(e=e.filter((function(e,o,s){return e.deadline==t.deadlineReq}))),this.alreadyDocsRestore=e,this.$store.state.alreadyDocs=e},filterThisRequest:function(e,t){window.scrollTo(0,0),this.alreadyDocsRestore.length>0&&(this.$store.state.alreadyDocs=this.alreadyDocsRestore);var o,s=this.$store.state.alreadyDocs;"docAbout"==e?(this.docAboutReq=t,o=s.filter((function(e,o,s){return e.docAbout==t}))):"deadline"==e?(this.deadlineReq=t,o=s.filter((function(e,o,s){return e.deadline==t}))):"year"==e?(this.yearReq=t,o=s.filter((function(e,o,s){return e.sortYear==t}))):"name"==e&&(o=s.filter((function(e,o,s){return e.personName==t}))),this.$store.state.alreadyDocs=o},hideFilterDocAbout:function(){this.filterDocAboutFlag=!1},showFilterDocAbout:function(){this.filterDocAboutFlag=!0},showFilterDeadline:function(){this.filterDeadlineFlag=!0},hideFilterDeadline:function(){this.filterDeadlineFlag=!1},isNumber:function(e){return!isNaN(e)},filterAlreadyDocs:function(){if("personnel"!=sessionStorage.getItem("docType")){var e=[];for(var t in this.$store.state.rawDocs)e.indexOf(this.$store.state.rawDocs[t].sortYear)<0&&e.push(this.$store.state.rawDocs[t].sortYear);this.yearFilter=e}else{var o=[];for(var t in this.$store.state.alreadyDocs)o.indexOf(this.$store.state.alreadyDocs[t].personName)<0&&o.push(this.$store.state.alreadyDocs[t].personName);this.nameFilter=o}},nullJson:function(e){var t=Object.keys(e);return 0==t.length},getDocAboutFilter:function(){var e,t=this,o=this.$store.state.organ;o.id||(o=JSON.parse(sessionStorage.getItem("organ"))),"official"==sessionStorage.getItem("docType")&&(e=o.docIssueWig),"science"==sessionStorage.getItem("docType")&&(e=o.tecProjectWig),"business"==sessionStorage.getItem("docType")&&(e=o.busProjectWig),"officialJ"==sessionStorage.getItem("docType")&&(e=o.docIssuejWig),this.docAboutFilter=[],this.getRequest("/weight/sort/"+e).then((function(e){for(var o in e.data.tables)t.docAboutFilter.push(o)}))},preLoadDocs:function(){var e=this;this.getDocAboutFilter();0==this.$store.state.alreadyDocs.length?this.getRequest("/work/sorted/"+sessionStorage.getItem("batchId")).then((function(t){var o=t.data;if(null!=o.sorted&&!e.nullJson(o.sorted)&&e.$store.state.sortedFlag){console.log("sorted!!!!!!!!!!!!!!"),console.log(o),null!=o.printedIds&&(e.printedList=o.printedIds.split(","));var s=JSON.parse(o.sorted.sorted);for(var i in e.$store.state.alreadyDocs=s,e.$store.state.rawDocs=s,e.alreadyDocsRestore=s,e.filterAlreadyDocs(),console.log(e.$store.state.alreadyDocs),e.$store.state.alreadyDocs)for(var n in e.printedList)e.printedList[n]==e.$store.state.alreadyDocs[i].id&&(e.$store.state.alreadyDocs[i]["printed"]=1)}else e.loadDocs()})):(this.alreadyDocsRestore=this.$store.state.rawDocs,setTimeout((function(){window.scrollTo(0,e.$store.state.docDetialBar)}),50),this.filterAlreadyDocs()),this.getRequest("/work/"+sessionStorage.getItem("batchId")).then((function(t){var o=t.data,s=o.lastBox;for(var i in e.deadlineFilter=[],e.$store.state.isEnd=t.data.end,1!=t.data.end?(e.isEnd=!1,e.$store.state.isEnd=!1):(e.isEnd=!0,e.$store.state.isEnd=!0),window.sessionStorage.setItem("isEnd",e.$store.state.isEnd),s)e.deadlineFilter.push(i)}))},loadDocs:function(){var e=this;this.showWaitingFlag=!0;var t="/document/page/"+sessionStorage.getItem("docType")+"/"+sessionStorage.getItem("batchId")+"?pageNow=0&pageSize=100000";d.a.get(this.baseurl+t,{headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:localStorage.getItem("token")?localStorage.getItem("token").split('"')[1]||localStorage.getItem("token"):null}}).then((function(t){t&&(e.$store.state.alreadyDocs=t.data.content,e.$store.state.rawDocs=t.data.content,e.alreadyDocsRestore=t.data.content,e.showWaitingFlag=!1)})).then((function(){e.filterAlreadyDocs()}))},putInContent:function(){},clearSearchContent:function(){this.searchContent=""},cancelSearch:function(){this.searchContent="输入识别号",this.alreadyDocsRestore.length>0?this.$store.state.alreadyDocs=this.alreadyDocsRestore:this.preLoadDocs()},goSetRule:function(){this.$store.state.backToDetailFlag=!0,this.$router.push("/work/keyWM")},hideAdvSearch:function(){this.advSearchShow=!1,this.alreadyDocsRestore.length>0?this.$store.state.alreadyDocs=this.alreadyDocsRestore:this.preLoadDocs()},hideAdvSearchNoReload:function(){this.advSearchShow=!1},ShowadvSearch:function(){this.advSearchShow=!0},advSearch:function(){var e=this;this.showWaitingFlag=!0;var t="/document/list/like/"+sessionStorage.getItem("docType")+"?pageNow=0&pageSize=900000";this.searchForm.docType=sessionStorage.getItem("docType");var o=this.searchForm;for(var s in o)""==o[s]&&delete o[s];this.postRequest(t,JSON.stringify(o)).then((function(t){e.showWaitingFlag=!1,e.alreadyDocsRestore=e.$store.state.alreadyDocs,e.$store.state.alreadyDocs=t.data.content}))},searchTheDoc:function(){var e=this;window.scrollTo(0,0),this.showWaitingFlag=!0;var t="/document/list/page/"+sessionStorage.getItem("docType")+"?pageNow=0&pageSize=900000",o={docSequence:this.searchContent,docType:sessionStorage.getItem("docType"),authId:sessionStorage.getItem("authId"),batchId:sessionStorage.getItem("batchId")};this.postRequest(t,JSON.stringify(o)).then((function(t){e.showWaitingFlag=!1,e.alreadyDocsRestore=e.$store.state.alreadyDocs,e.$store.state.alreadyDocs=t.data.content}))},sortThisBatchRS1:function(){var e=this;window.scrollTo(0,0),d.a.get(this.baseurl+"/work/list",{headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:localStorage.getItem("token")?localStorage.getItem("token").split('"')[1]||localStorage.getItem("token"):null}}).then((function(t){0==t.code&&(e.organsShow=!1,e.batches=t.data,e.batches.reverse())})).catch((function(e){}))},sortThisBatchRS:function(){var e=this,t="/document/"+sessionStorage.getItem("docType")+"/sort/"+sessionStorage.getItem("batchId")+"?pageNow=0&pageSize=90000";this.$confirm("将对本批人事信息排序，本批工作是否已经完成录入，并且所有关键词都已经设置优先级","提示",{cancelButtonClass:"btn-custom-cancel",cancelButtonText:"设置优先级",confirmButtonText:"是",type:"warning"}).then((function(){e.$store.state.sortedFlag=!0,e.showWaitingFlag=!0,e.$store.state.isEnd=1,e.getRequest(t).then((function(t){if(0==t.code){e.showWaitingFlag=!1;var o=t.data;for(var s in e.$store.state.alreadyDocs=[],o)for(var i in o[s])for(var n in o[s][i])e.$store.state.alreadyDocs.push(o[s][i][n]);e.filterAlreadyDocs()}}))}))},sortThisBatch:function(){var e=this;this.showAllDocs();var t="/document/"+sessionStorage.getItem("docType")+"/sort/"+sessionStorage.getItem("batchId")+"?pageNow=0&pageSize=90000";this.$confirm("将重新生成件号盒号，本批工作是否已经完成录入，并且所有关键词责任者等都已经设置优先级","提示",{cancelButtonClass:"btn-custom-cancel",cancelButtonText:"设置优先级",confirmButtonText:"是",type:"warning"}).then((function(){e.showWaitingFlag=!0,e.$store.state.sortedFlag=!0,e.getRequest(t).then((function(t){if(0==t.code){e.showWaitingFlag=!1,e.$store.state.alreadyDocs=[];for(var o=0;o<t.data.length;o++)for(var s=0;s<t.data[o].length;s++)e.$store.state.alreadyDocs.push(t.data[o][s]);e.$store.state.rawDocs=e.$store.state.alreadyDocs,e.filterAlreadyDocs()}}))}))},goDocIn:function(){this.$store.state.isEnd?this.$confirm("该批档案已经锁定，不允许添加文件","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"是",type:"warning"}).then((function(){})):(this.showDocIn=!0,this.$store.state.docDetialBar=0,this.$router.push("/work/docInput"))},reloadTable:function(){var e=this,t="/document/page/"+sessionStorage.getItem("docType")+"/"+sessionStorage.getItem("batchId")+"?pageNow=0&pageSize=1000";d.a.get(this.baseurl+t,{headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("checkAuthId"),token:window.localStorage.getItem("token")?window.localStorage.getItem("token").split('"')[1]||window.localStorage.getItem("token"):null}}).then((function(t){e.$store.state.alreadyDocs=t.data.content}))},backToOrgans:function(){this.$store.state.organIdForJump=sessionStorage.getItem("authId"),this.$router.push("/work/modifyOrgan")},focusOnThis:function(e){},getExcelOnOrder:function(){},getExcel:function(e){var t=this;this.$confirm("下载前请确保已排序","提示",{cancelButtonClass:"btn-custom-cancel",cancelButtonText:"否",confirmButtonText:"是",type:"warning"}).then((function(){var o;if(1==e?o="/document/excel/"+sessionStorage.getItem("docType")+"/"+sessionStorage.getItem("batchId")+"/1":2==e&&(o="/document/excel/"+sessionStorage.getItem("docType")+"/"+sessionStorage.getItem("batchId")+"/2"),console.log(o),"personnel"!=sessionStorage.getItem("docType"))return t.showWaitingFlag=!0,void d()({method:"get",url:t.baseurl+o,responseType:"arraybuffer",headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:window.localStorage.getItem("token")?window.localStorage.getItem("token").split('"')[1]||window.localStorage.getItem("token"):null}}).then((function(e){var o=new Blob([e]),s="文件名称.xls",i=document.createElement("a");i.download=s,i.style.display="none",i.href=URL.createObjectURL(o),document.body.appendChild(i),i.click(),URL.revokeObjectURL(i.href),document.body.removeChild(i),t.showWaitingFlag=!1}));t.showWaitingFlag=!0,d()({method:"get",url:t.baseurl+o,headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:window.localStorage.getItem("token")?window.localStorage.getItem("token").split('"')[1]||window.localStorage.getItem("token"):null},responseType:"blob"}).then((function(e){if(navigator.userAgent.match(/MSIE\s([\d.]+)/)||navigator.userAgent.indexOf("Trident")>-1)window.navigator.msSaveBlob(e,"人员信息.zip");else{var o=window.URL.createObjectURL(e),s=document.createElement("a");s.style.display="none",s.href=o,s.download="人员信息.zip",document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(o),t.showWaitingFlag=!1}})).catch((function(e){t.$message.warning("导出失败")}))}))},fixThisItem:function(e){this.$store.state.noChufa=!0,1==this.$store.state.isEnd&&this.$confirm("该批档案已经锁定,您的修改有限制","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"是",type:"warning"}).then((function(){})),"true"==e.docDescAuthor||1==e.docDescAuthor||"1"==e.docDescAuthor?e.docDescAuthor=!0:e.docDescAuthor=!1,console.log(e),this.$store.state.tempDoc=Object.assign({},e),this.$store.state.tempDocId=e.id,console.log(this.$store.state.tempDocId),this.$store.state.tempDocSeq=e.docSequence;var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.$store.state.docDetialBar=t,this.$router.push("/work/docInput")},deepClone1:function(e,t){var o=t||{};for(var s in e){var i=e[s];i!==o&&("object"===Object(n["a"])(i)?o[s]=i.constructor===Array?[]:Object.create(i):o[s]=i)}return o},printReal:function(){},printBtn:function(e){if(this.$store.state.printDoc=e,window.sessionStorage.setItem("docId",e.id),"personnel"==sessionStorage.getItem("docType")){4!=e.personJob&&5!=e.personJob||(window.sessionStorage.setItem("rsPrint",4),window.sessionStorage.setItem("rsPrintSub",e.personJob-3+"-"+e.docNum)),e.personJob<4?(window.sessionStorage.setItem("rsPrint",e.personJob),window.sessionStorage.setItem("rsPrintSub","-"+e.docNum)):e.personJob<10?(window.sessionStorage.setItem("rsPrint",e.personJob-1),window.sessionStorage.setItem("rsPrintSub","-"+e.docNum)):e.personJob>9&&e.personJob<16?(window.sessionStorage.setItem("rsPrint",e.personJob-9),window.sessionStorage.setItem("rsPrintSub",e.personJob-9+"-"+e.docNum)):(window.sessionStorage.setItem("rsPrint",10),window.sessionStorage.setItem("rsPrintSub","-"+e.docNum));var t=sessionStorage.getItem("rsPrint");window.sessionStorage.setItem("rsPrint",t+" ")}else if("official"==sessionStorage.getItem("docType")||"business"==sessionStorage.getItem("docType")||"officialJ"==sessionStorage.getItem("docType")){window.sessionStorage.setItem("authCode",sessionStorage.getItem("authCode")),window.sessionStorage.setItem("sortYear",e.sortYear),window.sessionStorage.setItem("docNum",e.docNum),window.sessionStorage.setItem("docAbout",e.docAbout),window.sessionStorage.setItem("aboutTextNum",e.docAbout.length);var o=e.deadline;this.isNumber(o)&&(o+="年"),window.sessionStorage.setItem("timedue",o),window.sessionStorage.setItem("docPage",e.docPage)}else if("science"==sessionStorage.getItem("docType")){var s=sessionStorage.getItem("authCode"),i=s;while("0"==i.charAt(0))i=i.substring(1);var n=i+"-"+sessionStorage.getItem("docTypeCode")+"-"+e.boxSeq;window.sessionStorage.setItem("danghao1",n),window.sessionStorage.setItem("kjXuhao",e.docNum)}this.showCenterPrint=!0;var r=this.$store.state.alreadyDocs;window.localStorage.setItem("docs",JSON.stringify(r))},formatFourNum1:function(e){var t=e+"";if(void 0!=t&&"null"!=t&&t&&""!=t){var o=t;while(o.length<4)o="0"+o;return o}return"暂无"},formatFiveKJ:function(e){var t=e+"";if(void 0!=t&&"null"!=t&&t&&""!=t){var o=t;while(o.length<5)o="0"+o;return o}return"暂无"},formatThreeKJ:function(e){var t=e+"";if(void 0!=t&&"null"!=t&&t&&""!=t){var o=t;while(o.length<3)o="0"+o;return o}return"暂无"},deleteThisItem:function(e){var t=this;1!=this.$store.state.isEnd?this.$confirm("是否删除这条档案数据，删除后请排件号盒号再导出，否则可能会出错","提示",{cancelButtonClass:"btn-custom-cancel",cancelButtonText:"否",confirmButtonText:"是",type:"warning"}).then((function(){t.showWaitingFlag=!0;var o="/document/"+sessionStorage.getItem("docType")+"/"+e.id;d.a.delete(t.baseurl+o,{headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:window.localStorage.getItem("token")?window.localStorage.getItem("token").split('"')[1]||window.localStorage.getItem("token"):null}}).then((function(e){0==e.code&&(t.showWaitingFlag=!1,t.loadDocs())}))})):this.$confirm("该批档案已经锁定","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"好的",type:"warning"}).then((function(){}))}},created:function(){this.alreadyDocsRestore=[],window.sessionStorage.setItem("isSub",1);this.docAboutReq="officialJ"==this.docType?"机构":"问题"},mounted:function(){this.preLoadDocs(),document.onkeydown=function(e){var t=window.event||e,s=t.keyCode||t.which;console.log(s),13==s&&o.printThis1(),38==s&&(o.$refs.shibie.focus(),o.nextPrint()),40==s&&(o.$refs.shibie.focus(),o.prePrint())};var e=new Date,t=e.getHours()+"-"+e.getMinutes()+"-"+e.getSeconds();this.initTime=t;var o=this;a["a"].$on("printBackThisDoc",(function(e){o.$store.state.printDoc=e,o.printBtn(e)}))},destroyed:function(){window.sessionStorage.setItem("isSub",0),this.destoryFlag=!1,document.onkeydown=null}},m=u,g=(o("69a3"),o("1119"),o("4ac2")),p=Object(g["a"])(m,s,i,!1,null,"93517a24",null);t["default"]=p.exports},1119:function(e,t,o){"use strict";o("3b07")},"17cc":function(e,t,o){},"17dd":function(e,t,o){},1908:function(e,t,o){},"1b4f":function(e,t,o){"use strict";o("17cc")},"1f21":function(e,t,o){},"1f6c":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"wrapper"},[o("div",{staticStyle:{height:"6.5rem",position:"relative"}},[e.organsShow?e._e():o("div",{staticClass:"topTextButton",staticStyle:{position:"absolute",bottom:"-1.1rem",right:"20%","font-size":"1.2rem",cursor:"pointer"},on:{click:e.backOrgans}},[e._v("\n          返回\n        ")]),e.organsShow?o("div",{staticClass:"topTextButton",staticStyle:{position:"fixed",top:"5.5rem",right:"24%","font-size":"1.1rem",cursor:"pointer"},on:{click:e.presetNameShow}},[e._v("\n          预设单位\n        ")]):e._e(),e.organsShow?o("div",{staticClass:"topTextButton",staticStyle:{position:"fixed",top:"5.5rem",right:"17%","font-size":"1.1rem",cursor:"pointer"},on:{click:e.showUsusal}},[e._v("\n          常用单位\n        ")]):e._e(),e.organsShow?o("div",{staticClass:"topTextButton",staticStyle:{position:"fixed",top:"5.5rem",right:"10%","font-size":"1.1rem",cursor:"pointer"},on:{click:e.showAll}},[e._v("\n          所有单位\n        ")]):e._e()]),e.presetNameShowFlag?o("div",{staticClass:"windowStyle",staticStyle:{position:"fixed",top:"40vh",left:"50%","margin-left":"-15rem","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"30rem",height:"10rem","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1.2rem",width:"100%","text-align":"center",color:"#ddd"}},[e._v("\n          请预设单位名和全宗号\n        ")]),o("el-checkbox",{staticClass:"organShowCheckbox",staticStyle:{position:"absolute",right:"1rem",top:"8rem"},attrs:{"false-label":"false","true-label":"true"},on:{change:e.logShowtoSet},model:{value:e.showToSet,callback:function(t){e.showToSet=t},expression:"showToSet"}},[e._v("设为常用")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.nameToSet,expression:"nameToSet"}],staticStyle:{height:"1.5rem","margin-left":"6rem","margin-top":"2rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.nameToSet},on:{input:function(t){t.target.composing||(e.nameToSet=t.target.value)}}}),e._v("   :\n        "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.authCodeToSet,expression:"authCodeToSet"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.authCodeToSet},on:{input:function(t){t.target.composing||(e.authCodeToSet=t.target.value)}}}),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"5rem",color:"#ddd"},on:{click:e.clearFixNA}},[e._v("\n          取消\n        ")]),o("div",{staticClass:"textButton",staticStyle:{color:"#ddd",position:"absolute"},on:{click:e.dopreSetNA}},[e._v("\n          确定\n        ")])],1):e._e(),e.fixNameShow?o("div",{staticClass:"windowStyle",staticStyle:{position:"fixed",top:"40vh",left:"50%","margin-left":"-15rem","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"30rem",height:"10rem","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1.2rem",width:"100%","text-align":"center",color:"#ddd"}},[e._v("\n          请修改单位名或全宗号\n        ")]),o("el-checkbox",{staticClass:"organShowCheckbox",staticStyle:{position:"absolute",right:"1rem",top:"8rem"},attrs:{"false-label":"false","true-label":"true"},model:{value:e.showToSet,callback:function(t){e.showToSet=t},expression:"showToSet"}},[e._v("是否显示")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.nameToSet,expression:"nameToSet"}],staticStyle:{height:"1.5rem","margin-left":"6rem","margin-top":"2rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.nameToSet},on:{input:function(t){t.target.composing||(e.nameToSet=t.target.value)}}}),e._v("   :\n        "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.authCodeToSet,expression:"authCodeToSet"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.authCodeToSet},on:{input:function(t){t.target.composing||(e.authCodeToSet=t.target.value)}}}),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"5rem",color:"#ddd"},on:{click:e.clearFixNA}},[e._v("\n          取消\n        ")]),o("div",{staticClass:"textButton",staticStyle:{color:"#ddd"},on:{click:function(t){return e.doFixNA()}}},[e._v("\n          确定\n        ")])],1):e._e(),e.organsShow?o("div",[o("div",{staticStyle:{width:"100%","text-align":"center","font-size":"1.2rem","/* border-bottom":"0.2rem solid rgb(44, 44, 44)","*/\n    margin-bottom":"1rem",height:"5rem","line-height":"2rem",position:"fixed","background-color":"rgb(255,255,255)",top:"4.5rem"}},[e._v("\n          您的档案单位\n        ")]),o("div",{staticClass:"organItem",staticStyle:{height:"3rem"}}),e._m(0),e._l(this.organs,(function(t,s){return o("div",{key:t.id,staticClass:"organItem infoItemHighlight"},[o("div",{staticClass:"organInfo",staticStyle:{width:"12%","font-size":"0.8rem",border:"none"}},[e._v("\n            "+e._s(s+1)+"\n          ")]),o("div",{staticClass:"organInfo",staticStyle:{"font-size":"0.8rem",border:"none"},attrs:{"v-model":e.tempOrganName},on:{focus:function(o){return e.focusOnThis(t)},blur:function(o){return e.loseThis(t)}}},[e._v("\n            "+e._s(t.authName)+"\n          ")]),o("div",{staticClass:"organInfo",staticStyle:{"font-size":"0.8rem",border:"none"},attrs:{"v-model":e.tempOrganCode},on:{focus:e.focusOnThis,blur:function(t){e.isLocked=!1}}},[e._v("\n            "+e._s(e._f("formatAuthCode")(t.authCode))+"\n          ")]),o("div",{staticClass:"organInfo hoverStyle",staticStyle:{border:"none","font-size":"0.9rem"},on:{click:function(o){return e.fixThisOrgan(t)}}},[e._v("\n            修改对照表\n          ")]),o("div",{staticClass:"organInfo hoverStyle",staticStyle:{border:"none"},on:{click:function(o){return e.checkThisOrganBat(t)}}},[e._v("\n            查看批次\n          ")]),o("div",{staticClass:"organInfo hoverStyle",staticStyle:{border:"none"},on:{click:function(o){return e.delThisOrgan(t)}}},[e._v("\n            删除单位记录\n          ")]),o("div",{staticClass:"organInfo hoverStyle",staticStyle:{border:"none"},on:{click:function(o){return e.fixOrganName(t)}}},[e._v("\n            修改单位\n          ")]),o("div",{staticStyle:{clear:"both"}})])}))],2):e._e(),e.organsShow?e._e():o("div",[o("div",{staticClass:"organIrem",staticStyle:{height:"4rem"}}),o("div",{staticClass:"organIrem",staticStyle:{height:"4rem",width:"100%",position:"fixed","background-color":"rgb(255,255,255)",top:"4.5rem"}}),e._m(1),e._l(this.batches,(function(t){return o("div",{key:t.id,staticClass:"organItem infoItemHighlight",staticStyle:{height:"2.2rem"}},[o("div",{staticClass:"BatchInfo"},[e._v(e._s(t.batchName))]),o("div",{staticClass:"BatchInfo"},[e._v(e._s(e._f("formatdocType")(t.docType)))]),o("div",{staticClass:"BatchInfo"},[e._v(e._s(t.createTime))]),o("div",{staticClass:"BatchInfo"},[e._v(e._s(e.computeEnd(t)))]),o("div",{staticClass:"BatchInfo hoverStyle",staticStyle:{width:"6%"},on:{click:function(o){return e.batchDocs(t)}}},[e._v("\n            查看\n          ")]),o("div",{staticClass:"BatchInfo hoverStyle",staticStyle:{width:"6%"},on:{click:function(o){return e.deleteTheBatch(t)}}},[e._v("\n            删除\n          ")])])}))],2)])])},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"organItem topFix",staticStyle:{"border-bottom":"none",height:"2rem","line-height":"2rem",top:"7rem",position:"fixed"}},[o("div",{staticClass:"organInfo tip",staticStyle:{width:"12%","margin-left":"2rem"}},[e._v("序号")]),o("div",{staticClass:"organInfo tip"},[e._v("单位名")]),o("div",{staticClass:"organInfo tip"},[e._v("单位全宗号")]),o("div",{staticClass:"organInfo tip"},[e._v("权重表修改")]),o("div",{staticClass:"organInfo tip"},[e._v("操作")]),o("div",{staticClass:"organInfo tip"},[e._v(" ")]),o("div",{staticClass:"organInfo tip"})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"organItem ",staticStyle:{"border-bottom":"solid",height:"2rem","line-height":"2rem",top:"7.8rem",position:"fixed","margin-left":"2.5%","background-color":"rgb(255,255,255)"}},[o("div"),o("div",{staticClass:"BatchInfo"},[e._v("批次名")]),o("div",{staticClass:"BatchInfo"},[e._v("类型")]),o("div",{staticClass:"BatchInfo"},[e._v("时间")]),o("div",{staticClass:"BatchInfo"},[e._v("状态")]),o("div",{staticStyle:{clear:"both"}})])}],n=(o("fc02"),o("1bc7"),o("0c84"),o("3e38"),o("82ae")),r=o.n(n),a={data:function(){return{showToSetReal:!0,organsOrigin:[],usualOrgans:[],showToSet:"",presetNameShowFlag:!1,fixNameShow:!1,nameToSet:"",authCodeToSet:"",authfix:"",tempOrganName:"name",tempOrganCode:123,organsShow:!0,organs:"",organMap:new Map,batches:""}},methods:{computeEnd:function(e){return console.log(e),1==e.end?"已锁定":"进行中"},logShowtoSet:function(){console.log(this.showToSet),this.showToSet?this.showToSetReal=!0:this.showToSetReal=!1},showUsusal:function(){for(var e in window.scrollTo(0,0),this.organsOrigin=JSON.parse(JSON.stringify(this.organs)),this.usualOrgans=[],this.organs)this.organs[e].show&&this.usualOrgans.push(this.organs[e]);this.organs=JSON.parse(JSON.stringify(this.usualOrgans))},showAll:function(){window.scrollTo(0,0),this.organs=JSON.parse(JSON.stringify(this.organsOrigin))},deleteTheBatch:function(e){var t=this;this.$confirm("确定要删除该批次及相关记录吗",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var o="/work/"+e.id;t.deleteRequest(o).then((function(o){0==o.code&&(t.batches=t.batches.filter((function(t){return t.id!=e.id})),t.$message({type:"success",message:"删除成功"}))}))})).catch((function(){}))},fixOrganName:function(e){this.nameToSet=e.authName,this.authCodeToSet=e.authCode,this.authfix=e,console.log(e),console.log(e.show);var t=e.show;this.showToSet=t,this.fixNameShow=!0},clearFixNA:function(){this.fixNameShow=!1,this.presetNameShowFlag=!1},presetNameShow:function(){this.nameToSet="单位名",this.authCodeToSet="全宗号",this.presetNameShowFlag=!0},dopreSetNA:function(){var e=this;console.log("预设"),console.log(this.showToSet);var t=this.showToSet;console.log(t);var o={authName:this.nameToSet,authCode:this.authCodeToSet,show:t};console.log(o),this.postRequest("/organ",JSON.stringify(o)).then((function(t){t&&(1201==t.code?e.getRequest("/organ/"+t.data).then((function(t){e.$message({type:"error",message:"单位名已存在，若重复请前往管理"})})):1202==t.code?e.$message({type:"error",message:"单位代码已存在，若重复请前往管理"}):0==t.code&&(e.$message({type:"success",message:"预设成功"}),e.presetNameShowFlag=!1))})).then((function(){e.getRequest("/organs").then((function(t){0==t.code&&(console.log("修改单位后请求单位列表"),e.organs=t.data,e.organs.reverse(),e.showUsusal())}))}))},doFixNA:function(){var e=this;this.authfix.authName=this.nameToSet,this.authfix.authCode=this.authCodeToSet,console.log("修改单位"),console.log(this.showToSet);var t=this.showToSet;this.authfix.show=t,this.putRequest("/organ/"+this.authfix.id,JSON.stringify(this.authfix)).then((function(t){0==t.code&&e.getRequest("/organs").then((function(t){0==t.code&&(console.log("修改单位后请求单位列表"),e.organs=t.data,e.organs.reverse(),e.showUsusal())}))})),this.fixNameShow=!1},fixThisOrgan:function(e){window.sessionStorage.setItem("authId",e.id),window.sessionStorage.setItem("authCode",e.authCode),window.sessionStorage.setItem("authName",e.authName),this.$router.push("/work/keyWM")},batchDocs:function(e){window.scrollTo(0,0),this.$store.state.alreadyDocs=[],console.log(e),console.log("查看某批"),window.sessionStorage.setItem("docType",e.docType),window.sessionStorage.setItem("docTypeCode",e.docTypeCode),window.sessionStorage.setItem("batchId",e.id),window.sessionStorage.setItem("lastBox",JSON.stringify(e.lastBox)),this.$router.push("/work/docInputD")},backOrgans:function(){this.organsShow=!0},checkThisOrganBat:function(e){var t=this;window.scrollTo(0,0),console.log("查看批次item"),console.log(e),this.$store.state.organ=e,window.sessionStorage.setItem("authId",e.id),window.sessionStorage.setItem("authCode",e.authCode),window.sessionStorage.setItem("authName",e.authName),window.sessionStorage.setItem("organ",JSON.stringify(e)),r.a.get(this.baseurl+"/work/list",{headers:{"Content-Type":"application/json",authId:e.id,token:localStorage.getItem("token")?localStorage.getItem("token").split('"')[1]||localStorage.getItem("token"):null}}).then((function(e){0==e.code&&(t.organsShow=!1,t.batches=e.data,t.batches.reverse())})).catch((function(e){console.log(e)}))},delThisOrgan:function(e){var t=this;this.$confirm("确定要删除该单位及相关记录吗",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var o="/organ/"+e.id;t.deleteRequest(o).then((function(o){0==o.code&&(t.organs=t.organs.filter((function(t){return t.id!=e.id})),t.$message({type:"success",message:"删除成功"}))}))})).catch((function(){}))},focusOnThis:function(e){},loseThis:function(e){}},created:function(){var e=this;window.scrollTo(0,0),this.getRequest("/organs").then((function(t){0==t.code&&(console.log("加载时请求单位列表"),e.organs=t.data,e.organs.reverse())})).then((function(){console.log(e.$store.state.organIdForJump);var t=e.$store.state.organIdForJump;if(t){console.log(t);for(var o=0;o<e.organs.length;o++)console.log(e.organs[o].id),e.organs[o].id==t&&e.checkThisOrganBat(e.organs[o]);e.$store.state.organIdForJump=null}else e.showUsusal()}))}},c=a,l=(o("835a"),o("4779"),o("37e6"),o("4ac2")),d=Object(l["a"])(c,s,i,!1,null,"49a45ff9",null);t["default"]=d.exports},"290f":function(e,t,o){},"29e3":function(e,t,o){},"2c29":function(e,t,o){},"2dec":function(e,t,o){"use strict";o("17dd")},"347d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAMAAAArteDzAAAAk1BMVEUAAAAAhP8AhP8AhP8Ag/8Ag/8AhP8AhP8Akv8Ajf8AlP8AhP8Ag/8Ag/8Ahf8AhP8AhP8AhP8Aqv8Ahf8Ag/8AhP8AhP8Ahv8AhP8Aiv8AhP8AhP8Ag/8Ahf8AhP8Ah/8AiP8AhP8AhP8Ag/8Ahf8AhP8AhP8Ag/8Ahv8Ahv8AhP8Ahf8AhP8Ahf8Ah/8AhP8Ag/8zldTyAAAAMHRSTlMA/NrK+dL2ogsOCOm12F3l4M8ET8HDx1NIFLy4rFlWLhj1sWFFQe1oSjS0mYtzJ36r6wYGAAACP0lEQVRYw+3X25KiMBAGYCLhIIwnUGAdRwbxfJp+/6fbqmyGHjRms032jv9O0n4mRZfVcfr06aNLcvBmqfM1mR0tmisA4BcAYGOrpgyq3U3barIBsKeiaVuN3gBsq9E7gD0VTdtqtIQXYTUZxX0+q2uiefgG3J/hILL/RUMzicatp1P5NKehIy16oKGBFj3R0HulQd8dYnbVS3T0+a/YMK1Pf1RfgdLMfA8AG9EyW1+FSvN0ns6+IjNzzMQBPaEWXIEOPrGN3aGxiWrKH1Fp1gDG6oc0UWUPqDDFb6NqaKKaT1oVSzRlsqGxieq23RpYh6qZiaoqOQMwU9HkXpNA1TIpmn9V19+1A0eb0p012aOqNxE1/9OBhVLdMiChWtWFbihcFctxVzRWLF+7oq5qvgm6oZNSsVz43dBN9D9e1EWx7NFQ/bduXdGNZmCmotVdM94S0WqnLkjOsoCPmng7M9TfmY/NbKzs6EGTSppb8yGXfajnggza4YX5mMvWgmhVlOLRom0ezYdnngpg3ioYiIOGc2jV6YLlaGZ+a33iF6JsaWKiusAziU8PqESaI7HcaDwTe5UbmsMTCjzHl2o8/Cc3b7oqpalAJRQFABAXhCuPAsX2Les8JFzNFGjHe1QAalSoJc0sQYPCiobWWnRAQ3MtmtHQUM5J7O1nuERvDi0Fg5dZJA4xa/bSDB1ycmbPxKScYBJUNOk5PqlzNMkpuEUTVd+6KW69lk28969iNK3kfp5eopMbX0OnT58+mvwG1brmVjD/BKgAAAAASUVORK5CYII="},3592:function(e,t,o){},"37e6":function(e,t,o){"use strict";o("b520")},"3b07":function(e,t,o){},"3f87":function(e,t,o){e.exports=o.p+"img/pic2.9ec895f2.png"},"45a3":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"wrapper"},[o("div",{staticStyle:{height:"6.5rem",position:"relative"}},[o("div",{staticStyle:{position:"absolute",top:"6rem","font-size":"1.4rem",width:"50rem",left:"50%","margin-left":"-25rem","text-align":"center"}},[e._v(" 用户管理")]),o("div",{staticStyle:{position:"absolute",top:"7rem",right:"3rem","font-size":"1.2rem","text-align":"center",cursor:"pointer"},on:{click:e.fixPswShowFunc}},[e._v(" 修改密码")]),o("div",{staticClass:"fixPswBox"},[e.fixPswShow?o("el-form",{staticClass:"specialELContainer",staticStyle:{"background-color":"rgb(209, 218, 243) !important"},attrs:{model:e.searchForm,"label-width":"6rem"}},[o("h3",{staticStyle:{"text-align":"center",color:"#505458"}},[e._v("输入密码")]),o("el-form-item",{attrs:{prop:"username",label:"用户名："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"用户名"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),o("el-form-item",{attrs:{prop:"password",label:"密码："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"密码"},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),o("el-button",{staticStyle:{"margin-left":"35%",float:"left"},attrs:{size:"normal",type:"primary"},on:{click:e.fixPswSubmit}},[e._v("修改")]),o("el-button",{staticStyle:{position:"absolute",left:"60%"},attrs:{size:"normal",type:"warning"},on:{click:e.cancleFixPsw}},[e._v("取消")])],1):e._e()],1)]),o("div",{staticStyle:{"margin-top":"3rem"}},[e._m(0),e._l(e.userTable,(function(t,s){return o("div",{key:s,staticClass:"userItem"},[o("div",{staticClass:"userInfo"},[e._v(e._s(t.user.username))]),o("div",{staticClass:"userInfo"},[e._v(e._s(e._f("formatTime")(t.user.registryTime)))]),o("div",{staticClass:"userInfo"},[e._v(e._s("湖南溇澧档案管理服务有限公司"==t.user.workplace?"":t.user.workplace))]),o("div",{staticClass:"userInfo"},[e._v(e._s(t.user.phone))]),o("div",{staticClass:"userInfo"},[e._v(e._s(t.role))]),o("div",{staticClass:"userInfo"},[e._v(e._s(e._f("formatEndTime")(t.endTime)))]),o("el-button",{staticClass:"kvButton",attrs:{type:"primary"},on:{click:function(o){return e.continueFee(o,t)}}},[e._v("续费")]),"可用"==t.state?o("el-button",{staticClass:"kvButton",attrs:{type:"danger"},on:{click:function(o){return e.banUser(o,t)}}},[e._v("禁用")]):e._e(),"禁用"==t.state?o("el-button",{staticClass:"kvButton",attrs:{type:"info"},on:{click:function(o){return e.unBanUser(o,t)}}},[e._v("解禁")]):e._e(),o("el-button",{staticClass:"kvButton",attrs:{type:"warning"},on:{click:function(o){return e.fixPswUser(o,t)}}},[e._v("改密")])],1)}))],2)])])},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"userItem",staticStyle:{"border-top":"0.2rem solid"}},[o("div",{staticClass:"userInfo"},[e._v("用户名")]),o("div",{staticClass:"userInfo"},[e._v("注册时间")]),o("div",{staticClass:"userInfo"},[e._v("工作地点")]),o("div",{staticClass:"userInfo"},[e._v("手机号码")]),o("div",{staticClass:"userInfo"},[e._v("权限")]),o("div",{staticClass:"userInfo"},[e._v("到期时间")]),o("div",{staticClass:"userInfo"},[e._v("操作")])])}],n=(o("82ae"),{data:function(){return{fixPswShow:!1,userForm:{username:"",password:""},userTable:[]}},methods:{fixPswShowFunc:function(){this.fixPswShow=!0,this.userForm.username=""},cancleFixPsw:function(){this.fixPswShow=!1},fixPswUser:function(e,t){var o=this;this.$confirm("确定和用户协商好，修改此用户密码吗","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){o.userForm.username=t.user.username,o.fixPswShow=!0}))},unBanUser:function(e,t){var o=this;this.$confirm("解除禁用此用户使用权限吗","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){var e="/admin/user/"+t.user.username+"/1";o.postRequest(e).then((function(e){0==e.code&&(o.$message({type:"sucess",message:"解除成功"}),o.renewTable())}))}))},banUser:function(e,t){var o=this;this.$confirm("禁用此用户使用权限吗","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){var e="/admin/user/"+t.user.username+"/103";o.postRequest(e).then((function(e){0==e.code&&(o.$message({type:"success",message:"禁用成功"}),o.renewTable())}))}))},continueFee:function(e,t){var o=this;console.log(t);var s=t.user.username;this.$confirm("续费一年此用户使用权限吗","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){console.log("改变用户权限");var e="/admin/user/"+s;o.putRequest(e).then((function(e){0==e.code&&(o.$message({type:"success",message:"赋权成功"}),o.renewTable()),console.log(e)}))}))},renewTable:function(){var e=this;this.getRequest("/admin/users?pageNow=0&pageSize=100000").then((function(t){e.userTable=t.data}))},loseThis:function(e){},fixPswSubmit:function(){var e=this,t="/admin/user";this.postRequest(t,JSON.stringify(this.userForm)).then((function(t){0==t.code?(e.$message({type:"success",message:"修改成功"}),e.fixPswShow=!1):(e.fixPswShow=!1,e.$message({type:"warning",message:t.message})),console.log(t)}))}},created:function(){var e=this;this.getRequest("/admin/users?pageNow=0&pageSize=100000").then((function(t){e.userTable=t.data}))}}),r=n,a=(o("6ad8"),o("4ac2")),c=Object(a["a"])(r,s,i,!1,null,"86ee6982",null);t["default"]=c.exports},4779:function(e,t,o){"use strict";o("3592")},4785:function(e,t,o){},"4e6c":function(e,t,o){},"513a":function(e,t,o){"use strict";o("9373")},"56d7":function(e,t,o){"use strict";o.r(t);o("b3d7"),o("1bc7"),o("32ea"),o("fc02"),o("25ba"),o("5f1c"),o("6ba0"),o("b47f");var s=o("430a"),i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[e.$route.meta.hideflg?e._e():o("TopHeader"),o("router-view")],1)},n=[],r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:e.classObject},[o("div",{class:[{selectPull:!0},{switchdeepColor:e.switchColorflag}],on:{click:e.fixTheTopHeader,mouseover:function(t){return e.topHeaderShow()},mouseleave:function(t){return e.topHeaderHide()}}},[o("i",{staticClass:"fa fa-paperclip"})]),o("div",{staticClass:"content"},[o("ul",{on:{mouseover:function(t){return e.topHeaderShow()},mouseleave:function(t){return e.topHeaderHide()}}},[o("li",{staticClass:"logo",staticStyle:{"font-size":"2rem"},on:{click:function(t){return e.goHome()}}},[e._v("\n          国安智能档案\n         "),o("div",{staticClass:"topHeaderIcon"})]),o("li",{staticClass:"a",on:{click:function(t){return e.goHome()}}},[e._v("首页")]),o("li",{staticClass:"a",on:{click:function(t){return e.goDocIn()}}},[e._v("档案录入")]),o("li",{staticClass:"a wrjlb",on:{click:e.goCheckHistoryBat}},[e._v("单位列表")]),1==e.admin?o("li",{staticClass:"a wrjlb",on:{click:e.ManageUser}},[e._v("\n         管理用户\n       ")]):e._e(),o("li"),e.user?e._e():o("li",{staticClass:"user_controll a",staticStyle:{float:"right","margin-right":"3rem"},on:{click:e.gologin}},[e._v("\n         登录\n       ")]),e.user?o("li",{staticClass:"user_controll a",staticStyle:{float:"right","margin-right":"3rem"},on:{click:function(t){return e.goUser(1)},mouseleave:function(t){return e.resetUserShow()},mouseover:function(t){return e.changeUserShow()}}},[e._v("\n         "+e._s(e.user)+"\n       ")]):e._e(),e.user?o("li",{staticClass:"a user_controll",staticStyle:{float:"right",width:"3rem"},on:{click:e.exit}},[e._v("\n        退出\n       ")]):e._e()])]),o("transition",{attrs:{name:"fade"}},[e.showuser&&e.user?o("div",{staticClass:"user_center",on:{mouseleave:function(t){return e.resetUserShow()},mouseover:function(t){return e.changeUserShow()}}},[o("div",{staticClass:"userinfo_items"},[o("div",{staticStyle:{width:"0.7rem",height:"0.7rem"}},[o("span",{attrs:{id:"user_top"}})]),o("span",{staticClass:"userLevel",staticStyle:{"font-size":"600",color:"#ddd"}},[o("i",{staticClass:"el-icon-user-solid"}),e._v("\n            vip1")]),o("li",{on:{click:e.showExpireTime}},[o("i",{staticClass:"el-icon-date"}),e._v("\n         到期时间")]),o("li",{on:{click:e.exit}},[o("i",{staticClass:"el-icon-circle-close"}),e._v("\n           注销账号")]),o("li",{on:{click:e.fixPassword}},[o("i",{staticClass:"el-icon-edit"}),e._v("\n           修改密码")])])]):e._e()])],1)},a=[],c=o("01d6"),l=o("8880"),d=o.n(l),h=o("6067"),u=o.n(h),m=(o("347d"),{data:function(){return{switchColorflag:!0,showIllManage:!1,topHeaderFix:!0,picmale:d.a,picfemale:u.a,showuser:!1,show:!1,state:!1,topHeaderState:!1,showTopHeader:!0,top_header_a:"top_header_a",top_header_c:"top_header_c",drawer:!1,curNav:this.$store.state.curNav}},components:{},computed:{user:function(){return null==this.$store.state.username?"":this.$store.state.username},admin:function(){return this.$store.state.admin},classObject:function(){return{top_header_b:this.topHeaderState,top_header_a:!0,top_header_c:!this.showTopHeader&&!this.topHeaderFix}},kind:function(){return this.$store.state.kind}},ready:function(){},created:function(){this.getUserInfo();var e=this;setInterval((function(){e.getUserInfo()}),3e4),this.$store.info_state=1,this.$store.state.username=null==sessionStorage.getItem("userId")?"":sessionStorage.getItem("userId"),this.$store.state.admin=sessionStorage.getItem("admin")},mounted:function(){},methods:{fixPassword:function(){this.$message({type:"warning",message:"请联系管理员"})},fomatTime:function(e){console.log(e),console.log(Object(c["a"])(e));var t=e+"";return"null"!=t&&t?t.substring(0,10):""},showExpireTime:function(){var e=sessionStorage.getItem("expireTime");e=this.fomatTime(e),this.$message({type:"warning",message:"将于"+e+"过期"})},ManageUser:function(){this.$router.push("/admin/userManage")},exit:function(){var e=this;this.$confirm("是否退出","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){var t=sessionStorage.getItem("userIdNum");t=parseInt(t);var o={userId:t};e.postRequest("/logout?userId="+t,o).then((function(t){0==t.code&&e.$message({type:"success",message:"注销成功!"}),window.sessionStorage.setItem("userId",""),window.localStorage.setItem("token",""),window.sessionStorage.setItem("admin",""),e.$store.state.username="",e.$store.state.admin="0",window.sessionStorage.setItem("userId","")})),e.$router.push("/login")}))},goKWM:function(){this.$router.push("/work/keyWM")},goCheckHistoryBat:function(){this.$router.push("/work/modifyOrgan")},fixTheTopHeader:function(){this.topHeaderFix=!this.topHeaderFix,this.switchColorflag=!this.switchColorflag},topHeaderShow:function(){this.showTopHeader=!0},topHeaderHide:function(){this.showTopHeader=!1},goDocIn:function(){this.$router.push("/work/newBatch")},goRecovery:function(){this.$router.push("/recovery")},gologin:function(){this.$router.push("/login")},goHome:function(){this.$router.push("/home")},unLogin:function(){var e=this;this.$confirm("确认注销账号?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message({type:"success",message:"注销成功!"}),e.$store.state.user=null,e.$store.state.kind=0,sessionStorage.removeItem("user"),e.$router.push("/login")})).catch((function(){}))},toHistory:function(){localStorage.getItem("token")?this.$router.push("/history"):(this.$message({type:"info",message:"请登录"}),this.$router.push("/login"))},toIllManage:function(){this.$router.push("/illManage")},getUserInfo:function(){var e=this,t=sessionStorage.getItem("userId");console.log(t),localStorage.getItem("token")&&t&&(console.log(t),this.postRequest("/getUserInfo").then((function(t){var o=t.data.token.split('"')[1];null==o&&(o=t.data.token),window.window.localStorage.setItem("token",o),window.sessionStorage.setItem("expireTime",t.data.endTime),window.sessionStorage.setItem("userIdNum",t.data.userId),window.sessionStorage.setItem("admin",""),"管理员"==t.data.role&&(window.sessionStorage.setItem("admin","1"),e.$store.state.admin=1)})))},handleScroll:function(){var e=window.scrollY;e>60?this.topHeaderState=!0:0===e&&(this.show?this.toHeaderState=!0:this.topHeaderState=!1)},changeShow:function(){this.show=!0,this.topHeaderState=!0},changeUserShow:function(){this.showuser=!0},resetUserShow:function(){this.showuser=!1},changeIllShow:function(){this.showIllManage=!0},resetIllShow:function(){this.showIllManage=!1}}}),g=m,p=(o("de46"),o("4ac2")),f=Object(p["a"])(g,r,a,!1,null,"59d4e252",null),v=f.exports,y={components:{TopHeader:v},data:function(){return{header_show:!0}},methods:{fullScreen:function(){var e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;"undefined"!=typeof t&&t&&t.call(e)},isIE:function(){if(window.ActiveXObject||"ActiveXObject"in window){var e=document.createElement("script");e.type="text/javascript",e.src="/js/unity/bluebird.js",document.getElementsByTagName("head")[0].appendChild(e)}},optHeader:function(e){this.header_show=e},setRootFontSize:function(){var e=document.documentElement,t=window.screen.width,o=t/100;e.style.fontSize="".concat(o,"px")}},mounted:function(){this.setRootFontSize(),this.isIE(),this.fullScreen()}},w=y,S=(o("034f"),Object(p["a"])(w,i,n,!1,null,null,null)),b=S.exports,T=o("a5e4"),F=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},k=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"wrapper",staticStyle:{position:"relative"}},[o("div",{staticStyle:{height:"10rem"}}),o("div",{staticClass:"topTip"},[o("div",{staticClass:"topicon"}),o("div",{staticClass:"toptext"},[e._v("欢迎来到国安智能档案系统")])]),o("div",{staticClass:"introduce"},[o("div",[o("span",{staticStyle:{"font-weight":"600"}},[e._v("关于本软件：")]),e._v("\n国安档案智能软件是由专业软件精英工程师，档案专业人员组建为团队，经过多年的实际档案从业经验，严格遵照档案行业的国家相关法规标准，运用现代计算机技术，先进的运算法，共同研发出来的首款智能档案组卷软件。\n\t\t  ")]),o("div",[e._v(" ")]),o("span",{staticStyle:{"font-weight":"600"}},[e._v("软件用途：")]),e._v("\n不仅专用于机关企事业单位档案行业，还能适用于其他行业文件资料的统计，分类，整理的综合性软件工具。\n"),o("div"),e._v("\n它能大量减少从业人员的劳动强度，大幅提高工作效率，还能保证工作结果的准确率，标准的统一性，作业的规范性。\n\t\t  "),o("div",[e._v(" ")]),o("div",[e._v("注意：请使用谷歌内核的浏览器(谷歌、360)达到最佳使用效果")]),o("div",[e._v(" ")]),o("div",[e._v("注册购买请联系作者 ：电话15386181680      微信:zgan108    QQ：2460947088")])])])}],I=o("da46"),x=o.n(I),_=o("3f87"),D=o.n(_),A=o("a836"),C=o.n(A),N={data:function(){return{dataList:[x.a,D.a,C.a],currentIndex:0,timer:null}},mounted:function(){window.scrollTo(0,0),this.runInv(),console.log(this.baseurl),document.onkeydown=function(e){var t=window.event||e,o=t.keyCode||t.which;81==o&&console.log("首页qqqqqqqqqqqqqq")}},methods:{runInv:function(){var e=this;this.timer=setInterval((function(){e.gotoPage(e.nextIndex1())}),2e3)},gotoPage:function(e){this.currentIndex=e},prevIndex1:function(){return 0==this.currentIndex?this.dataList.length-1:this.currentIndex-1},nextIndex1:function(){return this.currentIndex==this.dataList.length-1?0:this.currentIndex+1}},computed:{prevIndex:function(){return 0==this.currentIndex?this.dataList.length-1:this.currentIndex-1},nextIndex:function(){return this.currentIndex==this.dataList.length-1?0:this.currentIndex+1}}},q=N,R=(o("96aa"),Object(p["a"])(q,F,k,!1,null,"014decd3",null)),B=R.exports,$=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},P=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"wrapper",staticStyle:{position:"relative"}},[o("div",{staticStyle:{height:"10rem"}}),o("div",{staticClass:"topTip"},[o("div",{staticClass:"topicon"}),o("div",{staticClass:"toptext"},[e._v("欢迎来到ddd档案管理系统")])]),o("div",{staticClass:"introduce"},[o("div",[o("span",{staticStyle:{"font-weight":"600"}},[e._v("关于本软件：")]),e._v("\n国安档案智能软件是由专业软件精英工程师，档案专业人员组建为团队，经过多年的实际档案从业经验，严格遵照档案行业的国家相关法规标准，运用现代计算机技术，先进的运算法，共同研发出来的首款智能档案组卷软件。\n\t\t  ")]),o("div",[e._v(" ")]),o("span",{staticStyle:{"font-weight":"600"}},[e._v("软件用途：")]),e._v("\n不仅专用于机关企事业单位档案行业，还能适用于其他行业文件资料的统计，分类，整理的综合性软件工具。\n"),o("div"),e._v("\n它能大量减少从业人员的劳动强度，大幅提高工作效率，还能保证工作结果的准确率，标准的统一性，作业的规范性。\n\t\t  "),o("div",[e._v(" ")]),o("div",[e._v("注意：请使用谷歌内核的浏览器达到最佳使用效果")]),o("div",[e._v(" ")]),o("div",[e._v("注册购买请联系作者 ：电话15386181680      微信:zgan108    QQ：2460947088")])])])}],W={data:function(){return{dataList:[x.a,D.a,C.a],currentIndex:0,timer:null}},mounted:function(){this.runInv(),console.log(this.baseurl)},methods:{runInv:function(){var e=this;this.timer=setInterval((function(){e.gotoPage(e.nextIndex1())}),2e3)},gotoPage:function(e){this.currentIndex=e},prevIndex1:function(){return 0==this.currentIndex?this.dataList.length-1:this.currentIndex-1},nextIndex1:function(){return this.currentIndex==this.dataList.length-1?0:this.currentIndex+1}},computed:{prevIndex:function(){return 0==this.currentIndex?this.dataList.length-1:this.currentIndex-1},nextIndex:function(){return this.currentIndex==this.dataList.length-1?0:this.currentIndex+1}}},K=W,O=(o("da28"),Object(p["a"])(K,$,P,!1,null,"42903af2",null)),j=(O.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"Loginwrapper",staticStyle:{position:"relative"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitLogin.apply(null,arguments)}}},[o("div",{staticClass:"bgpic"}),o("transition",{attrs:{"enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutRight"}},[e._v("\n    >\n  "),e.flag?o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"loginForm",staticClass:"specialELContainer",attrs:{rules:e.rules,"element-loading-text":"正在登录...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",model:e.loginForm,"label-width":"6rem"}},[o("h3",{staticClass:"loginTitle"},[e._v("登录智能档案系统")]),o("el-form-item",{attrs:{prop:"username",label:"账号："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),o("el-form-item",{attrs:{prop:"password",label:"密码："}},[o("el-input",{attrs:{size:"normal",type:"password","auto-complete":"off",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),o("div",{staticClass:"goRegister",on:{click:e.goRegister}},[e._v("尚未注册？前往注册")]),o("div",{staticStyle:{width:"3rem",height:"3rem"}}),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"6rem","margin-left":"40%"},on:{click:e.submitLogin}},[e._v("登录")])],1):e._e()],1),o("transition",{attrs:{"enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutRight"}},[e.flag2?o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"regiForm",staticClass:"specialELContainer",attrs:{rules:e.regirules,"element-loading-text":"注册中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(22, 44,22, 0.8)",model:e.regiForm,"label-width":"6rem"}},[o("h3",{staticClass:"loginTitle"},[e._v("注册")]),o("el-form-item",{attrs:{prop:"phone",label:"手机号："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"输入手机号"},model:{value:e.regiForm.phone,callback:function(t){e.$set(e.regiForm,"phone",t)},expression:"regiForm.phone"}})],1),o("el-form-item",{attrs:{prop:"username",label:"账号："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"用户名"},model:{value:e.regiForm.username,callback:function(t){e.$set(e.regiForm,"username",t)},expression:"regiForm.username"}})],1),o("el-form-item",{attrs:{prop:"password",label:"密码："}},[o("el-input",{attrs:{size:"normal",type:"password","auto-complete":"off",placeholder:"请输入密码"},model:{value:e.regiForm.password,callback:function(t){e.$set(e.regiForm,"password",t)},expression:"regiForm.password"}})],1),o("el-form-item",{attrs:{prop:"repassword",label:"确认密码："}},[o("el-input",{attrs:{size:"normal",type:"password","auto-complete":"off",placeholder:"请确认密码"},model:{value:e.regiForm.repassword,callback:function(t){e.$set(e.regiForm,"repassword",t)},expression:"regiForm.repassword"}})],1),o("el-form-item",{attrs:{prop:"workplace",label:"单位："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"输入所在的单位"},model:{value:e.regiForm.workplace,callback:function(t){e.$set(e.regiForm,"workplace",t)},expression:"regiForm.workplace"}})],1),o("div",{staticClass:"goRegister",on:{click:e.goLogin}},[e._v("已有账号？请登录")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"6rem","margin-left":"40%"},on:{click:e.submitRegi}},[e._v("注册")])],1):e._e()],1)],1)}),J=[],z=o("82ae"),L=o.n(z),M={name:"Login",created:function(){window.scrollTo(0,0)},data:function(){var e=this,t=function(t,o,s){""===o?s(new Error("请再1次输入密码")):o!=e.regiForm.password?s(new Error("两次输入密码不一致!")):s()};return{flag:!0,flag2:!1,loading:!1,vcUrl:"/verifyCode?time="+new Date,loginForm:{username:"",password:""},regiForm:{username:"",password:"",phone:"",workplace:"",repassword:""},checked:!0,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},regirules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{validator:function(e,t,o){for(var s=t,i=0,n=0;n<s.length;n++)s.charCodeAt(n)<0||s.charCodeAt(n)>255?i+=2:i+=1;i<11&&i>4?o():o(new Error("长度4-10,汉字6个以内"))},trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:25,message:"长度在 5 到 25个字符"}],repassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:t,trigger:"blur"},{min:5,max:16,message:"长度在 5 到 16 个字符",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(e,t,o){0==/^1[34578]\d{9}$/.test(t)?o(new Error("请输入正确的手机号")):o()},trigger:"blur"}],workplace:[{required:!0,message:"请输入单位名称",trigger:"blur"}]}}},methods:{submitRegi:function(){var e=this;this.$refs.regiForm.validate((function(t){if(!t)return!1;e.loading=!0;var o=JSON.stringify(e.regiForm);console.log(o),e.postKeyValueRequest("/register",o).then((function(t){t?(console.log(t),0==t.code&&(e.$message({type:"success",message:"注册成功!"}),e.flag2=!1,setTimeout((function(){e.flag=!0}),850))):alert("服务器错误")})).then((function(){e.loading=!1}))}))},goRegister:function(){var e=this;this.flag=!1,setTimeout((function(){e.flag2=!0}),850)},goLogin:function(){var e=this;this.flag2=!1,setTimeout((function(){e.flag=!0}),850)},updateVerifyCode:function(){this.vcUrl="/verifyCode?time="+new Date},submitLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return!1;e.loading=!0;var o=JSON.stringify(e.loginForm);console.log(o),e.postKeyValueRequest("/login",o).then((function(t){if(t){if(1701==t.code)return e.$message({type:"warning",message:"您的账户已经在另一台设备在线!"}),void(e.loading=!1);if(console.log(t),0==t.code){var o=t.data.token.split('"')[1];null==o&&(o=t.data.token),window.window.localStorage.setItem("token",o),window.sessionStorage.setItem("userId",e.loginForm.username),window.sessionStorage.setItem("expireTime",t.data.endTime),window.sessionStorage.setItem("userIdNum",t.data.userId),window.sessionStorage.setItem("admin",""),"管理员"==t.data.role&&(window.sessionStorage.setItem("admin","1"),e.$store.state.admin=1),e.$message({type:"success",message:"登录成功!"}),e.$router.push("/work/newBatch")}}else alert("服务器错误")})).then((function(){e.loading=!1}))}))}}},E=M,V=(o("c6b4"),o("1b4f"),Object(p["a"])(E,j,J,!1,null,"2d1e38ce",null)),Y=V.exports,H=(o("7d0f"),o("d2cb"),o("1f6c"),o("946a"),o("0a08"),o("45a3"),o("e42f"));o("221f");s["default"].use(T["a"]);var U=new T["a"]({base:"",routes:[{path:"/login",name:"loginAndRegi",component:Y,hidden:!0},{path:"/login",name:"loginAndRegi",component:Y,hidden:!0},{path:"/admin/userManage",name:"hsit",component:function(e){return Promise.resolve().then(function(){var t=[o("45a3")];e.apply(null,t)}.bind(this)).catch(o.oe)},hidden:!0},{path:"/work/print",name:"print",component:H["a"],hidden:!0,meta:{hideflg:!0}},{path:"/work/docInputd",name:"docInputd",component:function(e){return Promise.resolve().then(function(){var t=[o("0a08")];e.apply(null,t)}.bind(this)).catch(o.oe)},hidden:!0},{path:"/work/modifyOrgan",name:"modifyOrgan",component:function(e){return Promise.resolve().then(function(){var t=[o("1f6c")];e.apply(null,t)}.bind(this)).catch(o.oe)},hidden:!0},{path:"/work/newBatch",name:"ma",component:function(e){return Promise.resolve().then(function(){var t=[o("7d0f")];e.apply(null,t)}.bind(this)).catch(o.oe)}},{path:"/work/docInput",name:"docInput",component:function(e){return Promise.resolve().then(function(){var t=[o("d2cb")];e.apply(null,t)}.bind(this)).catch(o.oe)}},{path:"/work/keyWM",name:"ma",component:function(e){return Promise.resolve().then(function(){var t=[o("946a")];e.apply(null,t)}.bind(this)).catch(o.oe)}},{path:"/home",name:"m",component:B,hidden:!0},{path:"/login",name:"Login",component:Y,hidden:!0},{path:"*",redirect:"/home"}]}),G=o("7736"),Q=o("51c0"),X=o.n(Q);L.a.interceptors.response.use((function(e){if(!e.status||500!=e.status)return 200==e.data.code?Q["Message"].success({message:e.data.message}):401==e.data.code?Q["Message"].error({message:"请登录或退出重新登录"}):1102==e.data.code?Q["Message"].error({message:"用户名或手机号已被注册"}):1107==e.data.code?(Q["Message"].error({message:"未获得授权，请重新登录或联系管理员购买"}),window.sessionStorage.setItem("userId",""),ae.state.username=""):1103==e.data.code?Q["Message"].error({message:"用户不存在，请注册"}):1105==e.data.code&&Q["Message"].error({message:"密码有误"}),e.data;Q["Message"].error({message:e.data.message})}),(function(e){if(!e.response||!e.response.status)return e;if(400!=e.response.status){if(100==e.response.status)return e.response;if(500==e.response.status)return Q["Message"].error({message:"未知错误"}),e.response;if(504==e.response.status||404==e.response.status)Q["Message"].error({message:"服务器被吃了( ╯□╰ )"});else if(403==e.response.status)window.sessionStorage.clear("userId"),Q["Message"].error({message:"权限不足，请联系管理员"});else{if(401!=e.response.status)return e.response.data.massage?void Q["Message"].error({message:e.response.data.msg}):void Q["Message"].error({message:"请检查网络!"});window.sessionStorage.clear("userId"),Q["Message"].error({message:"尚未登录，请登录!!"}),U.push("/")}}}));var Z="http://106.52.85.131:8080",ee=Z,te=function(e,t){return L()({method:"post",url:"".concat(Z).concat(e),data:t,headers:{"Content-Type":"application/json"}})},oe=function(e,t){return L()({method:"post",url:"".concat(Z).concat(e),data:t,headers:{"Content-Type":"application/json",token:localStorage.getItem("token")?localStorage.getItem("token").split('"')[1]||localStorage.getItem("token"):null,authId:sessionStorage.getItem("authId")||""}}).catch((function(e){console.log(e)}))},se=function(e,t){return L()({method:"put",url:"".concat(Z).concat(e),data:t,headers:{"Content-Type":"application/json;charset=UTF-8",token:localStorage.getItem("token")?localStorage.getItem("token").split('"')[1]||localStorage.getItem("token"):null,authId:sessionStorage.getItem("authId")||""}})},ie=function(e,t){return L()({method:"get",url:"".concat(Z).concat(e),params:t,headers:{authId:sessionStorage.getItem("authId")||"","Content-Type":"application/json;charset=UTF-8",token:localStorage.getItem("token")?localStorage.getItem("token").split('"')[1]||localStorage.getItem("token"):null}})},ne=function(e,t){return L()({method:"delete",url:"".concat(Z).concat(e),data:t,headers:{authId:sessionStorage.getItem("authId")||"","Content-Type":"application/json",token:localStorage.getItem("token")}})};s["default"].use(G["a"]);new Date;var re=new G["a"].Store({state:{organ:{},organIdForJump:null,showDocIn:!1,docDetialBar:0,printDoc:{},backToDetailFlag:!1,noChufa:!1,rsPrint:0,rsPrintSub:2,hi:2,username:"",admin:"",whichRuleSet:1,tempDocSeq:"",tempDocId:"",tempDoc:"",alreadyDocs:[],sortedFlag:!0,rawDocs:[],sequenceDocs:[],kind:1,routes:[],sessions:{},hrs:[],currentSession:null,filterKey:"",stomp:null,isDot:{},user:JSON.parse(window.sessionStorage.getItem("user"))},mutations:{INIT_CURRENTHR:function(e,t){e.user=t},initRoutes:function(e,t){e.routes=t},changeCurrentSession:function(e,t){s["default"].set(e.isDot,e.currentHr.username+"#"+t.username,!1),e.currentSession=t},addMessage:function(e,t){var o=e.sessions[e.currentHr.username+"#"+t.to];o||s["default"].set(e.sessions,e.currentHr.username+"#"+t.to,[]),e.sessions[e.currentHr.username+"#"+t.to].push({content:t.content,date:new Date,self:!t.notSelf})},INIT_DATA:function(e){var t=localStorage.getItem("vue-chat-session");t&&(e.sessions=JSON.parse(t))},INIT_HR:function(e,t){e.hrs=t}},actions:{connect:function(e){e.state.stomp=Stomp.over(new SockJS("/ws/ep")),e.state.stomp.connect({},(function(t){e.state.stomp.subscribe("/user/queue/chat",(function(t){var o=JSON.parse(t.body);e.state.currentSession&&o.from==e.state.currentSession.username||(Q["Notification"].info({title:"【"+o.fromNickname+"】发来一条消息",message:o.content.length>10?o.content.substr(0,10):o.content,position:"bottom-right"}),s["default"].set(e.state.isDot,e.state.currentHr.username+"#"+o.from,!0)),o.notSelf=!0,o.to=o.from,e.commit("addMessage",o)}))}),(function(e){}))},initData:function(e){e.commit("INIT_DATA"),ie("/chat/hrs").then((function(t){t&&e.commit("INIT_HR",t)}))}}});re.watch((function(e){return e.sessions}),(function(e){localStorage.setItem("vue-chat-session",JSON.stringify(e))}),{deep:!0});var ae=re,ce=(o("52d1"),o("b53c"),o("508f"),o("bbac")),le=o.n(ce),de=o("157a"),he=o.n(de),ue=o("1531"),me=o.n(ue);o("96fa");s["default"].prototype.postRequest=oe,s["default"].prototype.baseurl=ee,s["default"].prototype.postKeyValueRequest=te,s["default"].prototype.putRequest=se,s["default"].prototype.deleteRequest=ne,s["default"].prototype.getRequest=ie,s["default"].config.productionTip=!1,s["default"].use(X.a,{size:"small"}),s["default"].use(me.a),s["default"].use(he.a),s["default"].use(le.a),s["default"].filter("formatdocType",(function(e){var t=e+"";return void 0!=t&&"null"!=t&&t&&""!=t?"official"==t?"文书问题法":"personnel"==t?"人事":"science"==t?"科技":"business"==t?"业务":"officialJ"==t?"文书机构法":void 0:"暂无"})),s["default"].filter("formatFiveKJ",(function(e){var t=e+"";if(void 0!=t&&"null"!=t&&t&&""!=t){var o=t;while(o.length<5)o="0"+o;return o}return"暂无"})),s["default"].filter("formatThreeKJ",(function(e){var t=e+"";if(void 0!=t&&"null"!=t&&t&&""!=t){var o=t;while(o.length<3)o="0"+o;return o}return"暂无"})),s["default"].filter("formatFourNum",(function(e){var t=e+"";if(void 0!=t&&"null"!=t&&t&&""!=t){var o=t;while(o.length<4)o="0"+o;return o}return"暂无"})),s["default"].filter("formatAuthorKeyword1",(function(e){return e.split("~").length>0?e.split("~")[0]:e})),s["default"].filter("formatAuthorKeyword2",(function(e){return e.split("~").length>0?e.split("~")[1]:e})),s["default"].filter("deadlineFormat",(function(e){return"永久"==e||"备查"==e||"长期"==e?e:e+"年"})),s["default"].filter("formatKeyWordKey",(function(e){return Object.keys(e)[0]||"暂无"})),s["default"].filter("formatKeyWordValue",(function(e){return Object.values(e)[0]||"暂无"})),s["default"].filter("formatTime",(function(e){var t=e+"";return"null"!=t&&t?t.substring(0,10):""})),s["default"].filter("pageTotalformat",(function(e){return null==e?"    ":e<0?-e:e})),s["default"].filter("formatEndTime",(function(e){var t=e+"";return t&&"null"!=t?t.substring(0,10):"未购"})),s["default"].filter("formatSortYear",(function(e){var t=e;return t})),s["default"].filter("formatAuthCode",(function(e){if(!e)return"暂无";var t=JSON.stringify(e);while(t.length<5)t="0"+t;return t})),U.beforeEach((function(e,t,o){console.log("打印from"),console.log(t),o()})),new s["default"]({router:U,store:ae,render:function(e){return e(b)}}).$mount("#app")},6067:function(e,t,o){e.exports=o.p+"img/female.f60bd412.png"},6474:function(e,t,o){"use strict";o("1f21")},"69a3":function(e,t,o){"use strict";o("e9f5")},"6ad8":function(e,t,o){"use strict";o("4e6c")},7992:function(e,t,o){"use strict";o("cb7f")},"7ca0":function(e,t,o){"use strict";var s=o("430a"),i=new s["default"];console.log(i),t["a"]=i},"7d0f":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"wrapper"},[e.showWaitingFlag?o("div",{staticStyle:{position:"absolute",width:"20rem",height:"10rem",top:"10rem",left:"50%","margin-left":"-10rem","line-height":"10rem","background-color":"rgba(25,55,163,0.8)","font-size":"1.3rem",color:"white","text-align":"center","z-index":"1000"}},[e._v("请求中，请稍候...")]):e._e(),o("div",{directives:[{name:"show",rawName:"v-show",value:1==e.step,expression:"step==1"}],staticClass:"Card"},[o("div",{staticClass:"newTip"},[e._v("新建一批档案工作")]),o("div",{staticClass:"organModify",on:{click:e.modifyOrgan}},[e._v("管理")]),o("el-form",{ref:"BatchForm",staticClass:"batchForm",attrs:{model:e.BatchForm,"label-width":"30%"}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"选择或填写单位："}},[o("el-select",{ref:"authSelectref",attrs:{id:"selectAuth",filterable:"",placeholder:"历史整档单位请下拉"},on:{blur:e.selectBlur,change:e.selectAuthChange},model:{value:e.BatchForm.authName,callback:function(t){e.$set(e.BatchForm,"authName",t)},expression:"BatchForm.authName"}},e._l(e.historyAuths,(function(e){return o("el-option",{key:e.authCode,attrs:{label:e.authName,value:e.authCode}})})),1)],1),o("el-form-item",{attrs:{prop:"batchName",label:"单位全宗号："}},[o("el-input",{staticClass:"textInput",attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"输入单位全宗号"},model:{value:e.BatchForm.authCode,callback:function(t){e.$set(e.BatchForm,"authCode",t)},expression:"BatchForm.authCode"}})],1),o("el-form-item",{attrs:{prop:"workType",label:"选择整档类型："}},[o("el-select",{attrs:{filterable:"",placeholder:"选择整档类型"},model:{value:e.BatchForm.docType,callback:function(t){e.$set(e.BatchForm,"docType",t)},expression:"BatchForm.docType"}},e._l(e.docType,(function(e){return o("el-option",{key:e.typeId,attrs:{label:e.typeName,value:e.typeId}})})),1)],1),o("el-form-item",{attrs:{prop:"batchName",label:"档案类型代码："}},[o("el-input",{staticClass:"textInput",attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"如文书类填WS，没有填无"},model:{value:e.BatchForm.docTypeCode,callback:function(t){e.$set(e.BatchForm,"docTypeCode",t)},expression:"BatchForm.docTypeCode"}})],1),o("el-form-item",{attrs:{prop:"batchName",label:"批次名："}},[o("el-input",{staticClass:"textInput",attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"给本批次命名"},model:{value:e.BatchForm.batchName,callback:function(t){e.$set(e.BatchForm,"batchName",t)},expression:"BatchForm.batchName"}})],1),e._e(),e.showPriority&&!e.showTwo?o("el-form-item",{attrs:{prop:"priority.first",label:"选择第一优先级："}},[o("el-select",{attrs:{filterable:"",placeholder:"选择优先级"},model:{value:e.priority.first,callback:function(t){e.$set(e.priority,"first",t)},expression:"priority.first"}},e._l(e.priorityDic,(function(e){return o("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)],1):e._e(),e.showPriority&&e.showTwo?o("el-form-item",{attrs:{prop:"priority.first",label:"选择第一优先级："}},[o("el-select",{attrs:{filterable:"",placeholder:"选择优先级"},model:{value:e.renshipriority.first,callback:function(t){e.$set(e.renshipriority,"first",t)},expression:"renshipriority.first"}},e._l(e.priorityDic2,(function(e){return o("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)],1):e._e(),e.showPriority&&!e.showTwo?o("el-form-item",{attrs:{prop:"priority.second",label:"选择第二优先级："}},[o("el-select",{attrs:{filterable:"",placeholder:"选择优先级"},model:{value:e.priority.second,callback:function(t){e.$set(e.priority,"second",t)},expression:"priority.second"}},e._l(e.priorityDic,(function(e){return o("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)],1):e._e(),e.showPriority&&!e.showTwo?o("el-form-item",{attrs:{prop:"priority.first",label:"选择第三优先级："}},[o("el-select",{attrs:{filterable:"",placeholder:"选择优先级"},model:{value:e.priority.third,callback:function(t){e.$set(e.priority,"third",t)},expression:"priority.third"}},e._l(e.priorityDic,(function(e){return o("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)],1):e._e(),e._e(),e._e(),e.showPriority&&e.showTwo?o("el-form-item",{attrs:{prop:"priority.first",label:"选择第二优先级："}},[o("el-select",{attrs:{filterable:"",placeholder:"选择优先级"},model:{value:e.renshipriority.second,callback:function(t){e.$set(e.renshipriority,"second",t)},expression:"renshipriority.second"}},e._l(e.priorityDic2,(function(e){return o("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)],1):e._e(),o("div",{staticClass:"topTextButton",staticStyle:{"margin-left":"40%",width:"3rem",padding:"0.5rem"},attrs:{type:"primary"},on:{click:e.nextStep}},[e._v("下一步")])],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:2==e.step,expression:"step==2"}],staticClass:"Card"},[o("div",{staticClass:"newTip"},[e._v("选择本单位的文书类分卷方法")]),o("el-form",{staticClass:"batchForm",staticStyle:{"padding-bottom":"5rem"},attrs:{"label-width":"30%"}},[o("el-form-item",{attrs:{prop:"workTypeSub",label:"分卷方法："}},[o("el-select",{attrs:{placeholder:"选择分卷方法"},model:{value:e.officialDocTypeSub,callback:function(t){e.officialDocTypeSub=t},expression:"officialDocTypeSub"}},e._l(e.officialDocTypeSubs,(function(e){return o("el-option",{key:e.typeId,attrs:{label:e.typeName,value:e.typeId}})})),1)],1),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"12%",position:"absolute",left:"25%",bottom:"1rem"},attrs:{type:"primary"},on:{click:e.preStep}},[e._v("上一步")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"12%",position:"absolute",left:"55%",bottom:"1rem"},attrs:{type:"primary"},on:{click:e.nextStep2}},[e._v("下一步")])],1)],1),3==e.step?o("div",{staticClass:"Card"},[o("div",{staticClass:"newTip"},[e._v("设置本单位档案盒号")]),o("el-form",{ref:"BatchForm",staticClass:"batchForm",attrs:{model:e.BatchForm,"label-width":"30%"}},[o("div",{staticStyle:{"margin-bottom":"1rem",width:"80%","margin-left":"10%","text-align":"center"}},[e._v(" 提示：填写需要用到的盒子类型的上一盒盒号即可,如长期盒前一批整档工作排到了39盒，本批将使用第40盒那么填写(长期：39)")]),e._l(this.jsonArray,(function(t,s){return o("div",{key:s,staticStyle:{position:"relative"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t[0],expression:"item[0]"}],staticStyle:{width:"25%",height:"2.2rem","font-size":"1.1rem",border:"0.08rem solid #274596c5",background:"rgba(255, 255, 255, 0.15) !important","border-radius":"0.48rem","padding-left":"2rem","margin-left":"2rem","margin-bottom":"1rem"},attrs:{type:"text"},domProps:{value:t[0]},on:{input:function(o){o.target.composing||e.$set(t,0,o.target.value)}}}),e._v("\n\n        （年）盒型：\n          "),o("input",{directives:[{name:"model",rawName:"v-model",value:t[1],expression:"item[1]"}],staticStyle:{width:"25%",height:"2.2rem","font-size":"1.1rem",border:"0.08rem solid #274596c5",background:"rgba(255, 255, 255, 0.15) !important","border-radius":"0.48rem","padding-left":"2rem"},attrs:{type:"text"},domProps:{value:t[1]},on:{input:function(o){o.target.composing||e.$set(t,1,o.target.value)}}}),e._v("（盒）\n    "),o("div",{staticStyle:{position:"absolute",right:"2rem",top:"0.4rem","font-weight":"600",cursor:"pointer"},on:{click:function(t){return e.deleteThis(s)}}},[e._v("删除")])])})),o("div",{staticStyle:{position:"relative"}},[o("div",{staticStyle:{height:"1rem"}}),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"12%",position:"absolute",left:"15%"},attrs:{type:"primary"},on:{click:e.preStep}},[e._v("上一步")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"14%",position:"absolute",left:"35%"},attrs:{type:"primary"},on:{click:e.newBoxType}},[e._v("新增盒型")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"12%",position:"absolute",left:"55%"},attrs:{type:"primary"},on:{click:e.newBatch}},[e._v("下一步")])]),o("div",{staticStyle:{height:"1rem"}})],2)],1):e._e()])},i=[],n=(o("e5b4"),o("6a61"),o("99a5")),r=(o("e680"),{data:function(){return{kk:0,weightForm:{},showWaitingFlag:!1,can:!0,step:1,showTwo:!0,showPriority:!1,officialDocTypeSub:1,BatchForm:{batchName:"",authCode:"",authName:"",docType:"",docTypeCode:"",lastBox:{"永久":"0","长期":"39","备查":"0"},rule:"",to_box:{},end:0},historyAuths:[{authCode:22,authName:"尚无历史记录，请输入"},{authCode:23,authName:"如输入慈利县档案局"}],uploadpriority:{first:"keyword",second:"docDateYear",third:"level",forth:"author",fifth:"docDesc",six:"docDate",seven:"docDescNum"},priority:{first:"keyword",second:"docDateYear",third:"level",forth:"author",fifth:"docDesc",six:"docDate",seven:"docDescNum"},priorityJ:{first:"keyword",second:"keyword2",third:"docDateYear",forth:"level",fifth:"author",six:"docDesc",seven:"docDate",eight:"docDescNum"},uploadpriorityJ:{first:"keyword",second:"keyword2",third:"docDateYear",forth:"level",fifth:"author",six:"docDesc",seven:"docDate",eight:"docDescNum"},renshipriority:{first:"keyword",second:"docDate"},priorityDic:[{name:"主题词",key:"keyword"},{name:"级别",key:"level"},{name:"责任者",key:"author"}],priorityDic2:[{name:"主题词",key:"keyword"},{name:"发文日期",key:"docDate"}],officialDocTypeSubs:[{typeId:1,typeName:"问题分卷法"},{typeId:2,typeName:"机构分卷法"}],docType:[{typeId:1,typeName:"文书类"}],jsonArray:[]}},created:function(){var e,t=this;for(e in window.scrollTo(0,0),this.testAc(),this.BatchForm.lastBox)this.jsonArray.push([e,this.BatchForm.lastBox[e]]);console.log("jsonArr"),console.log(this.jsonArray),this.$store.state.username=sessionStorage.getItem("userId"),this.$store.state.alreadyDocs=[],this.getRequest("/organs").then((function(e){500==e.status&&(t.$message({type:"error",message:e.data.message}),t.$router.push("/login")),console.log(e);var o=e.data;null==o?t.historyAuths=[{authCode:22222,authName:"尚无历史记录，请输入"},{authCode:33333,authName:"如输入慈利县档案局"}]:(o.reverse(),t.historyAuths=o)})),sessionStorage.getItem("user")&&1==sessionStorage.getItem("user").level&&this.getRequest("/organs").then((function(e){e.data&&(t.historyAuths=e.data)}));var o=new Date,s=o.getFullYear(),i=o.getMonth()+1,n=o.getDate(),r=o.getHours(),a=o.getMinutes(),c=(o.getSeconds(),s+"-"+this.conver(i)+"-"+this.conver(n)+"-"+this.conver(r)+":"+this.conver(a)+"归档批");this.BatchForm.batchName=c},watch:{BatchForm:{handler:function(e,t){3==e.docType?(this.showTwo=!0,this.uploadpriority=this.renshipriority):(this.showTwo=!1,this.uploadpriority=this.priority)},deep:!0}},computed:{},methods:{nextStep2:function(){var e=this;this.showWaitingFlag=!0,this.weightForm.officialType=this.officialDocTypeSub,this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(t){console.log("修改单位表的文书类分卷方法"),console.log(t),e.weightForm=t.data,0==t.code&&(e.step++,e.showWaitingFlag=!1)}))},deleteThis:function(e){this.jsonArray.splice(e,1)},newBoxType:function(){this.jsonArray.push(["",""])},modifyOrgan:function(){this.$router.push("/work/modifyOrgan")},huiche:function(){alert(1)},isNumber:function(e){var t=/^\d+(\.\d+)?$/,o=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;return!(!t.test(e)||!o.test(e))},isStringNum:function(e){if(""==e)return!1;var t=Number(e);return!isNaN(t)},newBatch:function(){for(var e=this,t=!0,o=0;o<this.jsonArray.length;o++)this.isStringNum(this.jsonArray[o][0])||"永久"==this.jsonArray[o][0]||"长期"==this.jsonArray[o][0]||"备查"==this.jsonArray[o][0]||(t=!1),this.isStringNum(this.jsonArray[o][1])||(t=!1);if(t){var s={};for(o=0;o<this.jsonArray.length;o++)console.log(this.jsonArray[o][0]),s[this.jsonArray[o][0]]=this.jsonArray[o][1];console.log(s),this.BatchForm.lastBox=s,window.sessionStorage.setItem("lastBox",JSON.stringify(s));var i={first:"1",second:"2",third:"3",forth:"4",fifth:"5",six:"6",seven:"7"},n=this.priority;for(var r in n){var a=i[r];n[a]=n[r],delete n[r]}if(2==this.officialDocTypeSub)for(var r in i={first:"1",second:"2",third:"3",forth:"4",fifth:"5",six:"6",seven:"7",eight:"8"},n=this.priorityJ,n){a=i[r];n[a]=n[r],delete n[r]}this.BatchForm.rule=n,console.log("batchForm"),console.log(this.BatchForm),sessionStorage.setItem("Batch",this.BatchForm);var c="official";2==this.BatchForm.docType?c="science":3==this.BatchForm.docType?c="personnel":4==this.BatchForm.docType&&(c="business"),2==this.officialDocTypeSub&&(c="officialJ"),sessionStorage.setItem("docType",c);var l={authId:sessionStorage.getItem("authId"),batchName:this.BatchForm.batchName,docType:c,docTypeCode:this.BatchForm.docTypeCode,rule:this.BatchForm.rule,end:0,doc_number:1,lastBox:this.BatchForm.lastBox};console.log("提交了organ后提交的批次信息"),console.log(l),this.postRequest("/work",JSON.stringify(l)).then((function(t){t.data&&0==t.code&&(window.sessionStorage.setItem("batchId",t.data.id),e.$router.push("/work/docInput"))}))}else this.$message({type:"error",message:"除初始三种盒型外只允许填入数字"})},nextStep:function(){var e=this;if(3==this.BatchForm.docType){var t="science";1==this.BatchForm.docType?(t="official",2==this.officialDocTypeSub&&(t="officialJ")):3==this.BatchForm.docType?t="personnel":4==this.BatchForm.docType&&(t="business"),this.BatchForm.priority=this.uploadpriority;var o={first:"1",second:"2",third:"3",forth:"4",fifth:"5",six:"6",seven:"7"},s=this.BatchForm.priority;for(var i in s){var r=o[i];s[r]=s[i],delete s[i]}this.BatchForm.rule=s,sessionStorage.setItem("docType",t);var a={authId:sessionStorage.getItem("authId"),batchName:this.BatchForm.batchName,docType:t,docTypeCode:this.BatchForm.docTypeCode,rule:this.BatchForm.rule,doc_number:1};return console.log("人事提交的批次信息"),console.log(a),void this.postRequest("/work",JSON.stringify(a)).then((function(e){e.data&&0==e.code&&window.sessionStorage.setItem("batchId",e.data.id)})).then((function(){e.$router.push("/work/docInput")}))}if(this.can=this.validateForm1(),this.can){var c=this,l=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.checkOrganPromise();case 2:c.can=e.sent,c.can&&(c.BatchForm.priority=c.uploadpriority,1==c.step&&c.step++),0==c.weightForm.officialType&&1==c.BatchForm.docType?console.log("文书第一次"):c.step++,c.showWaitingFlag=!1;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();l()}},checkOrganPromise:function(){var e=this,t=(this.BatchForm.authCode,{authName:this.BatchForm.authName,authCode:this.BatchForm.authCode}),o=this;return new Promise((function(s,i){o.postRequest("/organ",JSON.stringify(t)).then((function(t){t?1201==t.code?o.getRequest("/organ/"+t.data).then((function(e){console.log("单位名重复后"),console.log(e),0==e.code&&e.data.authName==o.BatchForm.authName&&e.data.authCode==o.BatchForm.authCode?(window.sessionStorage.setItem("authId",e.data.id),window.sessionStorage.setItem("authName",e.data.authName),o.weightForm=e.data,window.sessionStorage.setItem("authCode",o.BatchForm.authCode),window.sessionStorage.setItem("docTypeCode",o.BatchForm.docTypeCode),s(!0)):(s(!1),o.$message({type:"error",message:"单位名已存在，若重复请前往管理"}))})):1202==t.code?o.getRequest("/organ/"+t.data).then((function(e){console.log(e),0==e.code&&e.data.authName==o.BatchForm.authName&&e.data.authCode==o.BatchForm.authCode?(o.can=!0,window.sessionStorage.setItem("authName",e.data.authName),window.sessionStorage.setItem("authId",e.data.id),o.weightForm=e.data,window.sessionStorage.setItem("authCode",o.BatchForm.authCode),window.sessionStorage.setItem("docTypeCode",o.BatchForm.docTypeCode),s(!0)):(o.$message({type:"error",message:"单位代码已存在，若重复请前往管理"}),s(!1))})):0==t.code&&(window.sessionStorage.setItem("authId",t.data.id),window.sessionStorage.setItem("authName",t.data.authName),window.sessionStorage.setItem("authCode",t.data.authCode),window.sessionStorage.setItem("docTypeCode",o.BatchForm.docTypeCode),e.weightForm=t.data,s(!0)):s(!1)}))}))},testAc:function(){var e=this;function t(){return o.apply(this,arguments)}function o(){return o=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.kk="yuanlai",console.log(e.kk),t.next=4,new Promise((function(t,o){setTimeout((function(){e.kk="3秒后变",t(e.kk)}),3e3)}));case 4:e.kk=t.sent,console.log(e.kk);case 6:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}t()},validateForm1:function(){return this.can=!0,""==this.BatchForm.authName||""==this.BatchForm.docType?(this.can=!1,this.$message({type:"error",message:"请填写完整"}),!1):this.can},preStep:function(){if(0==this.weightForm.officialType&&1==this.BatchForm.docType&&3==this.step)return console.log("文书第一次,prestep"),void this.step--;3!=this.step?this.step--:this.step=1},conver:function(e){return e<10?"0"+e:e},selectAuthChange:function(e){var t={};t=this.historyAuths.find((function(t){return t.authCode==e})),window.sessionStorage.setItem("authId",t.id),console.log(t),t=t.authName,this.BatchForm.authName=t;var o=JSON.stringify(e);while(o.length<5)o="0"+o;this.BatchForm.authCode=o},selectBlur:function(e){var t=e.target.value;this.BatchForm.authName=t},priorityChange:function(){this.$message.warning("定制排档案规则请联系管理员")}}}),a=r,c=(o("975f"),o("6474"),o("4ac2")),l=Object(c["a"])(a,s,i,!1,null,"59f548ce",null);t["default"]=l.exports},"835a":function(e,t,o){"use strict";o("290f")},8880:function(e,t,o){e.exports=o.p+"img/male.e7462a11.png"},9373:function(e,t,o){},"946a":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"outbox"},[o("div",{class:[{wrapper:!0},{subWrapper:!1}],staticStyle:{position:"relative"}},[e.showWaitingFlag?o("div",{staticStyle:{position:"fixed",width:"20rem",height:"10rem",top:"10rem",left:"50%","margin-left":"-10rem","line-height":"10rem","background-color":"rgba(25, 55, 163, 0.8)","font-size":"1.3rem",color:"white","text-align":"center","z-index":"1000"}},[e._v("\n        请求中，请稍候...\n      ")]):e._e(),e.isSubPage?e._e():o("div",[e.selectShow&&!e.backCompute?o("div",{staticClass:"topTextButtonBlue",staticStyle:{position:"absolute",top:"8.3rem",right:"20rem","z-index":"123"},on:{click:e.backToOrgans}},[e._v("\n          返回单位表\n        ")]):e._e(),e.selectShow&&e.backCompute?o("div",{staticClass:"topTextButtonBlue",staticStyle:{position:"absolute",top:"8.3rem",right:"20rem","z-index":"123"},on:{click:e.backToDetail}},[e._v("\n          返回预览\n        ")]):e._e()]),e.backToDocAboutShow?o("div",{staticClass:"topTextButton",staticStyle:{position:"absolute",top:"8.3rem",right:"20rem","z-index":"123"},on:{click:e.backToDocAbout}},[e._v("\n        返回\n      ")]):e._e(),!e.selectShow&&e.computeTypeNumIsAuthor?o("div",{staticClass:"topTextButton",staticStyle:{position:"absolute",top:"8.3rem",right:"14rem","z-index":"123"},on:{click:function(t){e.batchModifyShow=!0}}},[e._v("\n        批量修改\n      ")]):e._e(),e.selectShow||e.backToDocAboutShow?e._e():o("div",{staticClass:"topTextButton",staticStyle:{position:"absolute",top:"8.3rem",right:"20rem","z-index":"123"},on:{click:e.backToSelect}},[e._v("\n          返回  \n      ")]),e._e(),o("div",{staticStyle:{height:"4.5rem"}}),e.selectShow||e.backToDocAboutShow||e.backToKeyWordShow?e._e():o("div",{staticStyle:{position:"absolute",top:"6rem","font-size":"1.5rem",width:"100%","text-align":"center"}},[e._v("\n        "+e._s(e.getAuthName)+"-"+e._s(e.tableTopTip)+"\n      ")]),e.selectShow?o("div",{staticStyle:{position:"absolute",top:"6rem","font-size":"1.5rem",width:"100%","text-align":"center"}},[e._v("\n        选择设置本单位规则："+e._s(e.getAuthName)+"\n      ")]):e._e(),e.backToDocAboutShow&&!this.backToKeyWordShow?o("div",{staticStyle:{position:"absolute",top:"6rem","font-size":"1.5rem",width:"100%","text-align":"center"}},[e._v("\n        "+e._s(this.deepInThisDocAbout)+"-优先级规则设置\n      ")]):e._e(),e.backToKeyWordShow?o("div",{staticStyle:{position:"absolute",top:"6rem","font-size":"1.5rem",width:"100%","text-align":"center"}},[e._v("\n        "+e._s(this.deepInThisKeyWord)+"-文号优先级规则设置\n      ")]):e._e(),e.batchModifyShow?o("el-form",{ref:"searchForm",staticClass:"specialELContainer",staticStyle:{top:"6rem","z-index":"99999"},attrs:{"label-width":"6rem"}},[o("h3",{staticStyle:{"text-align":"center",color:"#505458"}},[e._v("批量修改")]),o("div",{staticStyle:{position:"absolute",right:"0.5rem",top:"0.1rem","font-size":"1.5rem",cursor:"pointer"},on:{click:function(t){e.batchModifyShow=!1}}},[o("i",{staticClass:"el-icon-remove"})]),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"查询1"}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"查询条件1"},model:{value:e.query1,callback:function(t){e.query1=t},expression:"query1"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"查询2"}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"查询条件2"},model:{value:e.query2,callback:function(t){e.query2=t},expression:"query2"}})],1)],1)],1),o("div"),o("div",[o("div",{key:e.index,staticClass:"authorLevelItem",staticStyle:{width:"100%"}},[o("div",{staticStyle:{float:"left",width:"70%","text-align":"center"}},[e._v("\n              责任者\n            ")]),o("div",{staticStyle:{float:"left","margin-left":"1%"}},[e._v(" ")]),o("div",{staticStyle:{"margin-left":"2%",width:"9%",float:"left","text-align":"center"}},[e._v("\n              优先级\n            ")]),o("div",{staticStyle:{"margin-left":"5%",width:"10%",float:"left","text-align":"center"}},[e._v("\n              级别\n            ")])]),o("div",{staticStyle:{clear:"both"}})]),o("div",[e._l(e.authorSearchResult,(function(t){return o("div",{key:t[0],staticClass:"authorLevelItem",staticStyle:{width:"100%"}},[o("div",{staticStyle:{float:"left",width:"70%","text-align":"center",height:"2rem"},domProps:{innerHTML:e._s(t[0])}}),o("div",{staticStyle:{float:"left","margin-left":"1%"}},[e._v(":")]),o("div",{staticStyle:{"margin-left":"2%",width:"9%",float:"left","text-align":"center"},attrs:{contenteditable:"true"},domProps:{innerHTML:e._s(t[1])},on:{input:function(o){return e.changeText1(o,t)}}}),o("select",{directives:[{name:"model",rawName:"v-model",value:t[2],expression:"item[2]"}],staticClass:"selectCss",staticStyle:{"margin-left":"5%",width:"10%",float:"left","text-align":"center",background:"rgba(255, 255, 255, 0.15) !important"},attrs:{name:"",id:""},on:{change:function(o){var s=Array.prototype.filter.call(o.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,2,o.target.multiple?s:s[0])}}},[o("option",{attrs:{value:"乡级"}},[e._v("乡级")]),o("option",{attrs:{value:"本级"}},[e._v("本级")]),o("option",{attrs:{value:"县级"}},[e._v("县级")]),o("option",{attrs:{value:"市级"}},[e._v("市级")]),o("option",{attrs:{value:"省级"}},[e._v("省级")]),o("option",{attrs:{value:"部级"}},[e._v("部级")])]),o("div",{staticStyle:{clear:"both"}})])})),o("div",{staticStyle:{clear:"both"}})],2),o("div",{staticStyle:{height:"1rem","border-top":"1px solid",width:"88%","margin-left":"6%","text-align":"center"}},[e._v("\n        "+e._s(this.pageAt+1)+"/"+e._s(Math.floor(this.authorSearchResultTotal.length/12)+1)+"\n      ")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{"margin-left":"15%",float:"left"},on:{click:e.authorSearch}},[e._v("\n          查找\n        ")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{position:"absolute",left:"30%"},on:{click:e.saveBatchAuthor}},[e._v("\n          保存\n        ")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{position:"absolute",left:"55%"},on:{click:e.nextPage}},[e._v("\n          下一页\n        ")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{position:"absolute",left:"70%"},on:{click:e.prePage}},[e._v("\n          上一页\n        ")])],1):e._e(),e.showKVFix&&e.computeTypeNumIsAuthor?o("div",{staticStyle:{position:"fixed",top:"40vh",right:"2%","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"40rem",height:"10rem","background-color":"rgb(255, 255, 255)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1rem",width:"27rem","text-align":"center","margin-left":"10rem",color:"#333"}},[e._v("\n          请按提示输入\n        ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.keyToFix,expression:"keyToFix"}],staticStyle:{height:"1.5rem","margin-left":"3rem","margin-top":"2rem",width:"17rem"},attrs:{type:"text",disabled:"true"},domProps:{value:e.keyToFix},on:{input:function(t){t.target.composing||(e.keyToFix=t.target.value)}}}),e._v("   :\n        "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.valueToFix,expression:"valueToFix"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"5rem"},attrs:{type:"text"},domProps:{value:e.valueToFix},on:{input:function(t){t.target.composing||(e.valueToFix=t.target.value)}}}),o("select",{directives:[{name:"model",rawName:"v-model",value:e.levelToSet,expression:"levelToSet"}],staticStyle:{height:"2rem","margin-left":"2rem",width:"5rem"},attrs:{name:"",id:""},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.levelToSet=t.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"乡级"}},[e._v("乡级")]),o("option",{attrs:{value:"本级"}},[e._v("本级")]),o("option",{attrs:{value:"县级"}},[e._v("县级")]),o("option",{attrs:{value:"市级"}},[e._v("市级")]),o("option",{attrs:{value:"省级"}},[e._v("省级")]),o("option",{attrs:{value:"部级"}},[e._v("部级")])]),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"10rem",color:"#333"},on:{click:e.clearKV}},[e._v("\n          取消\n        ")]),o("div",{staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"15rem"},on:{click:e.fixTheKV}},[e._v("\n          确定\n        ")])]):e._e(),e.showCombineToDeadlineSet?o("div",{staticStyle:{position:"fixed",top:"15rem",right:"2%","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"40rem",height:"10rem","background-color":"rgb(255, 255, 255)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1rem",width:"20rem","text-align":"center","margin-left":"10rem",color:"#333"}},[e._v("\n          请按提示输入\n        ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.keywordToSet,expression:"keywordToSet"}],staticStyle:{height:"1.5rem","margin-left":"6rem","margin-top":"2rem",width:"7rem"},attrs:{type:"text",placeholder:"词"},domProps:{value:e.keywordToSet},on:{input:function(t){t.target.composing||(e.keywordToSet=t.target.value)}}}),e._v("   +\n\n        "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.authorToSet,expression:"authorToSet"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"7rem"},attrs:{type:"text",placeholder:"责任者"},domProps:{value:e.authorToSet},on:{input:function(t){t.target.composing||(e.authorToSet=t.target.value)}}}),e._v("\n        ：\n\n        "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.deadlineToSet,expression:"deadlineToSet"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"7rem"},attrs:{type:"text",placeholder:"期限"},domProps:{value:e.deadlineToSet},on:{input:function(t){t.target.composing||(e.deadlineToSet=t.target.value)}}}),o("font",{staticStyle:{"font-size":"1rem"}},[e._v("年")]),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"10rem",color:"#333"},on:{click:e.clearCombineSet}},[e._v("\n          取消\n        ")]),o("div",{staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"15rem"},on:{click:e.setCombineToDeadline}},[e._v("\n          确定\n        ")])],1):e._e(),e.showKVFix&&1==e.dicShowType&&!e.computeTypeNumIsAuthor?o("div",{staticStyle:{position:"fixed",top:"40vh",right:"2%","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"30rem",height:"10rem","background-color":"rgb(254, 254, 254)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1rem",width:"20rem","text-align":"center","margin-left":"5rem",color:"#333"}},[e._v("\n          请按提示输入\n        ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.keyToFix,expression:"keyToFix"}],staticStyle:{height:"1.5rem","margin-left":"6rem","margin-top":"2rem",width:"7rem"},attrs:{type:"text",disabled:"true"},domProps:{value:e.keyToFix},on:{input:function(t){t.target.composing||(e.keyToFix=t.target.value)}}}),e._v("   :\n        "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.valueToFix,expression:"valueToFix"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.valueToFix},on:{input:function(t){t.target.composing||(e.valueToFix=t.target.value)}}}),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"5rem",color:"#333"},on:{click:e.clearKV}},[e._v("\n          取消\n        ")]),o("div",{staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"10rem"},on:{click:e.fixTheKV}},[e._v("\n          确定\n        ")])]):e._e(),e.selectRsDAFlag?o("div",{staticStyle:{position:"fixed",top:"40vh",right:"2%","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"30rem",height:"10rem","background-color":"rgb(209, 218, 243)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1rem",width:"20rem","text-align":"center","margin-left":"5rem",color:"#333"}},[e._v("\n          请选择词对应的材料类别\n        ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.keyToSet,expression:"keyToSet"}],staticStyle:{height:"1.5rem","margin-left":"6rem","margin-top":"2rem",width:"7rem"},attrs:{type:"text",disabled:"true"},domProps:{value:e.keyToSet},on:{input:function(t){t.target.composing||(e.keyToSet=t.target.value)}}}),e._v("   :\n        "),o("select",{directives:[{name:"model",rawName:"v-model",value:e.valueToSet,expression:"valueToSet"}],staticStyle:{height:"2rem","margin-left":"1rem",width:"9rem"},attrs:{name:"",id:""},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.valueToSet=t.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"1"}},[e._v("履历材料")]),o("option",{attrs:{value:"2"}},[e._v("自传材料")]),o("option",{attrs:{value:"3"}},[e._v("鉴定、考核、考察材料")]),o("option",{attrs:{value:"4"}},[e._v("学历学位材料")]),o("option",{attrs:{value:"5"}},[e._v("职称材料")]),o("option",{attrs:{value:"6"}},[e._v("政治历史情况审查材料")]),o("option",{attrs:{value:"7"}},[e._v("入党入团材料")]),o("option",{attrs:{value:"8"}},[e._v("奖励材料")]),o("option",{attrs:{value:"9"}},[e._v("处分材料")]),o("option",{attrs:{value:"10"}},[e._v("工资情况材料")]),o("option",{attrs:{value:"11"}},[e._v("任免材料")]),o("option",{attrs:{value:"12"}},[e._v("出国、出境材料")]),o("option",{attrs:{value:"13"}},[e._v("各党派、团体代表登记表")]),o("option",{attrs:{value:"14"}},[e._v("聘用、录用、转干、转业材料")]),o("option",{attrs:{value:"15"}},[e._v("待遇、退（离）休、退职材料")]),o("option",{attrs:{value:"16"}},[e._v("其他可供参考的材料")])]),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"5rem",color:"#333"},on:{click:e.clearRsSet}},[e._v("\n          取消\n        ")]),o("div",{staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"10rem"},on:{click:e.doPresetRs}},[e._v("\n          确定\n        ")])]):e._e(),e.showKVPreset&&e.computeTypeNumIsAuthor?o("div",{staticStyle:{position:"fixed",top:"40vh",right:"2%","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"40rem",height:"10rem","background-color":"rgb(255, 255, 255)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1rem",width:"20rem","text-align":"center","margin-left":"10rem",color:"#333"}},[e._v("\n          请按提示输入\n        ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.keyToSet,expression:"keyToSet"}],staticStyle:{height:"1.5rem","margin-left":"6rem","margin-top":"2rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.keyToSet},on:{input:function(t){t.target.composing||(e.keyToSet=t.target.value)}}}),e._v("   :\n        "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.valueToSet,expression:"valueToSet"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.valueToSet},on:{input:function(t){t.target.composing||(e.valueToSet=t.target.value)}}}),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"10rem",color:"#333"},on:{click:e.clearPreset}},[e._v("\n          取消\n        ")]),o("select",{directives:[{name:"model",rawName:"v-model",value:e.levelToSet,expression:"levelToSet"}],staticStyle:{height:"2rem","margin-left":"2rem",width:"9rem"},attrs:{name:"",id:""},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.levelToSet=t.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"乡级"}},[e._v("乡级")]),o("option",{attrs:{value:"本级"}},[e._v("本级")]),o("option",{attrs:{value:"县级"}},[e._v("县级")]),o("option",{attrs:{value:"市级"}},[e._v("市级")]),o("option",{attrs:{value:"省级"}},[e._v("省级")]),o("option",{attrs:{value:"部级"}},[e._v("部级")])]),o("div",{staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"15rem"},on:{click:e.doPreset}},[e._v("\n          确定\n        ")])]):e._e(),e.showKVPreset&&!e.computeTypeNumIsAuthor?o("div",{staticStyle:{position:"fixed",top:"40vh",right:"2%","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"30rem",height:"10rem","background-color":"rgb(255, 255, 255)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1rem",width:"20rem","text-align":"center","margin-left":"5rem",color:"#333"}},[e._v("\n          请按提示输入\n        ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.keyToSet,expression:"keyToSet"}],staticStyle:{height:"1.5rem","margin-left":"6rem","margin-top":"2rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.keyToSet},on:{click:e.clearKeyToSet,input:function(t){t.target.composing||(e.keyToSet=t.target.value)}}}),e._v("   :\n        "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.valueToSet,expression:"valueToSet"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.valueToSet},on:{click:e.clearValueToSet,input:function(t){t.target.composing||(e.valueToSet=t.target.value)}}}),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"5rem",color:"#333"},on:{click:e.clearPreset}},[e._v("\n          取消\n        ")]),o("div",{staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"10rem"},on:{click:e.doPreset}},[e._v("\n          确定\n        ")])]):e._e(),e.selectShow?o("div",{staticClass:"Card printSetBox"},[o("div",{staticClass:"newTip"},[e._v("选择对照表进行设置")]),o("el-select",{ref:"authSelectref",staticClass:"tableSelectStyle",attrs:{id:"selectAuth",filterable:"",placeholder:"选择档案类型"},on:{change:e.docTypeChange},model:{value:e.selectedDoctype,callback:function(t){e.selectedDoctype=t},expression:"selectedDoctype"}},e._l(e.docTypes,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1),o("el-select",{ref:"authSelectref",staticClass:"tableSelectStyle",staticStyle:{top:"10rem"},attrs:{id:"selectAuth",filterable:"",placeholder:"选择对照表"},model:{value:e.selectedTableType,callback:function(t){e.selectedTableType=t},expression:"selectedTableType"}},e._l(e.tableTypes,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"3rem",position:"absolute",top:"10rem",left:"29rem"},on:{click:e.selectDone}},[e._v("\n          确定\n        ")])],1):e._e(),e._e(),e.selectShow||2!=e.dicShowType?e._e():o("div",{staticClass:"keyValueBox",on:{click:e.boxClick}},[o("div",{staticStyle:{position:"absolute",right:"2rem",top:"-0","font-weight":"700",cursor:"pointer","line-height":"2rem"},on:{click:e.preSetDicButton}},[e._v("\n          点击预设对照规则\n        ")]),o("div",{staticClass:"keyValueItem"},[o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none",position:"relative"}},[e._v("\n            "+e._s(e.computeKeyTitle)+"\n          ")]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v("\n            "+e._s(e.computeValueTitle)+"\n          ")]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v("操作")])]),e._l(e.jsonTable,(function(t,s){return o("div",{key:s,staticClass:"keyValueItem infoItemHighlight",staticStyle:{}},[o("div",{class:[{keyValueInfo:!0},{hideText:!1}],staticStyle:{border:"none"}},[e._v("\n            "+e._s(t[0])+"\n          ")]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v(e._s(t[1]))]),o("div",{staticStyle:{width:"0",position:"absolute"}},[e._v(e._s(t.id))]),o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left","margin-left":"11%"},attrs:{type:"danger"},on:{click:function(o){return e.deleteKV(o,t)}}},[e._v("\n            删除\n          ")])])})),o("div",{staticStyle:{clear:"both"}})],2),e.selectShow||3!=e.dicShowType?e._e():o("div",{staticClass:"keyValueBox",on:{click:e.boxClick}},[o("div",{staticStyle:{position:"absolute",right:"2rem",top:"-0","font-weight":"700",cursor:"pointer","line-height":"2rem"},on:{click:function(t){e.showCombineToDeadlineSet=!0}}},[e._v("\n          点击预设对照规则\n        ")]),o("div",{staticStyle:{float:"left",width:"7rem","text-align":"center",position:"absolute","z-index":"1333"},on:{mouseover:function(t){return e.showFilterDeadline()},mouseleave:e.hideFilterDeadline}},[e._v("\n          "+e._s(e.selectedDeadline)+"\n          "),e.filterDeadlineFlag?o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",positon:"relative"}},[o("span",{attrs:{id:"user_top"}})]):e._e(),e.filterDeadlineFlag?e._e():o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",positon:"relative"}},[o("span",{attrs:{id:"user_topd"}})]),e.filterDeadlineFlag?o("div",{staticClass:"filterStyle",on:{mouseover:function(t){return e.showFilterDeadline()},mouseleave:e.hideFilterDeadline}},e._l(this.deadlineFilter,(function(t,s){return o("div",{key:s,staticClass:"filterItemStyle",on:{click:function(o){return e.filterThisRequest("deadline",t)}}},[e._v("\n              "+e._s(t)+"\n            ")])})),0):e._e()]),o("div",{staticClass:"keyValueItem"},[o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v("\n            "+e._s(e.computeKeyTitle)+"\n          ")]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v("责任者")]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v("操作")])]),e._l(e.jsonTable,(function(t,s){return o("div",{key:s,staticClass:"keyValueItem infoItemHighlight",staticStyle:{}},[o("div",{class:[{keyValueInfo:!0},{hideText:!1}],staticStyle:{border:"none"}},[e._v("\n            "+e._s(t[0])+"\n          ")]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v(e._s(t[1]))]),o("div",{staticStyle:{width:"0",position:"absolute"}},[e._v(e._s(t.id))]),o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left","margin-left":"11%"},attrs:{type:"danger"},on:{click:function(o){return e.deleteKV(o,t)}}},[e._v("\n            删除\n          ")])])})),o("div",{staticStyle:{clear:"both"}})],2),e.selectShow||1!=e.dicShowType?e._e():o("div",{staticClass:"keyValueBox",on:{click:e.boxClick}},[e.backToKeyWordShow||e.computeTypeNumIsAuthor?e._e():o("div",{staticStyle:{position:"absolute",right:"2rem",top:"-0","font-weight":"700",cursor:"pointer","line-height":"2rem"},on:{click:e.preSetButton}},[e._v("\n          点击预设优先级\n        ")]),o("div",{staticClass:"keyValueItem"},[e.computeTypeNumIsAuthor&&!e.selectShow?o("div",{staticStyle:{float:"left",width:"7rem","text-align":"center",position:"absolute","z-index":"1333"},on:{mouseover:function(t){return e.showFilterLevel()},mouseleave:e.hideFilterLevel}},[e._v("\n            "+e._s(e.selectedLevel)+"\n            "),e.filterLevelFlag?e._e():o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",positon:"relative"}},[o("span",{attrs:{id:"user_top"}})]),e.filterLevelFlag?o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",positon:"relative"}},[o("span",{attrs:{id:"user_topd"}})]):e._e(),e.filterLevelFlag?o("div",{staticClass:"filterStyle",on:{mouseover:function(t){return e.showFilterLevel()},mouseleave:e.hideFilterLevel}},e._l(this.levelFilter,(function(t,s){return o("div",{key:s,staticClass:"filterItemStyle",on:{click:function(o){return e.filterLevelFromAuthor(t)}}},[e._v("\n                "+e._s(t)+"\n              ")])})),0):e._e()]):e._e(),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none","z-index":"1334",position:"relative","margin-left":"5rem"}},[e._v("\n            优先级(越大越靠前）\n            "),e.saveBtnShow?o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left","margin-left":"2.5rem"},attrs:{type:"success"},on:{click:e.saveKeyValue}},[e._v("\n              保存修改\n            ")]):e._e()]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v("词")]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v("操作")])]),e._l(e.jsonTable,(function(t,s){return o("div",{key:s,class:[{keyValueItem:!0},{infoItemHighlight:!0}],staticStyle:{},attrs:{draggable:"false"}},[o("div",{class:[{keyValueInfo:!0},{hideText:!1},{upDownHighlight:e.adjHighlightCompute(t)}],staticStyle:{border:"none","margin-left":"5rem"}},[e._v("\n            "+e._s(t[1])+"\n          ")]),o("div",{class:[{keyValueInfo:!0},{upDownHighlight:e.adjHighlightCompute(t)}],staticStyle:{border:"none"}},[e._v("\n            "+e._s(t[0])+"\n          ")]),e._e(),o("div",{staticStyle:{width:"0",position:"absolute"}},[e._v(e._s(t.id))]),o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left","margin-left":"5rem"},attrs:{type:"success"},on:{click:function(o){return e.upClick(o,t)}}},[e._v("\n            上调\n          ")]),o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left"},attrs:{type:"warning"},on:{click:function(o){return e.downClick(o,t)}}},[e._v("\n            下调\n          ")]),e.saveBtnShow?e._e():o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left"},attrs:{type:"danger"},on:{click:function(o){return e.deleteKV(o,t)}}},[e._v("\n            删除\n          ")]),e.saveBtnShow?e._e():o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:function(o){return e.fixKv(o,t)}}},[e._v("\n            修改值\n          ")]),e.saveBtnShow||!e.showKeyWord||e.backToDocAboutShow?e._e():o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left"},attrs:{type:""},on:{click:function(o){return e.thisDocAbout(o,t)}}},[e._v("\n            关键词优先级表\n          ")]),(!e.saveBtnShow&&e.showKeyWord&&e.backToDocAboutShow&&e.backToKeyWordShow,e._e()),e.rsKeywordPage?o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left"},attrs:{type:""},on:{click:function(o){return e.rsKeywordToDocAbout(o,t)}}},[e._v("\n            设置对应材料类别\n          ")]):e._e()])})),o("div",{staticStyle:{clear:"both"}})],2)],1)])},i=[],n=o("46d3"),r=(o("3e38"),o("1bc7"),o("0c84"),o("3441"),o("fc02"),{watch:{authorResultJS:{handler:function(e,t){console.log(e)}}},computed:{authorResultJS:function(){return this.authorSearchResult},adjFilter:function(){return function(e){return this.adjItemId==e[0]}},isSubPage:function(){return 1==sessionStorage.getItem("isSub")},dicShowType:function(){return this.dicShow},computeKeyTitle:function(){return(this.typeNum-6)%10!=0?"文号(不包括数字)":"official"==sessionStorage.getItem("docType")?"问题词":"officialJ"==sessionStorage.getItem("docType")?"机构词":void 0},computeValueTitle:function(){return"责任者"},computeIsAuthorKwDeadline:function(){return(this.typeNum-6)%10==0},backCompute:function(){return this.$store.state.backToDetailFlag},computeTypeNumIsAuthor:function(){return 12==this.typeNum||22==this.typeNum||32==this.typeNum||52==this.typeNum},getAuthName:function(){return sessionStorage.getItem("authName")},rsKeywordPage:function(){return 41==this.typeNum},showKeyWord:function(){return 11==this.typeNum||21==this.typeNum||31==this.typeNum||51==this.typeNum}},created:function(){var e=this;this.setDescKVFlag=!1,window.scrollTo(0,0);var t={};t["3"],console.log(t),this.showWaitingFlag=!0,this.getRequest("/organ/"+sessionStorage.getItem("authId")).then((function(t){e.weightForm=t.data,e.authName=t.data.authName,console.log("加载keyWM页面时某个特定单位的权重表对应的id"),null==e.weightForm.officialDescWig&&(e.weightForm.officialDescWig={}),null==e.weightForm.busDescWig&&(e.weightForm.busDescWig={}),null==e.weightForm.tecDescWig&&(e.weightForm.tecDescWig={}),null==e.weightForm.officialDescAuthor&&(e.weightForm.officialDescAuthor={}),null==e.weightForm.officialAuthorKeywordDeadline&&(e.weightForm.officialAuthorKeywordDeadline={}),null==e.weightForm.tecDescAuthor&&(e.weightForm.tecDescAuthor={}),null==e.weightForm.tecAuthorKeywordDeadline&&(e.weightForm.tecAuthorKeywordDeadline={}),null==e.weightForm.busDescAuthor&&(e.weightForm.busDescAuthor={}),null==e.weightForm.busAuthorKeywordDeadline&&(e.weightForm.busAuthorKeywordDeadline={}),e.weightForm&&(e.showWaitingFlag=!1),console.log(e.weightForm)}))},methods:{saveBatchAuthor:function(){var e=this;for(var t in this.authorSearchResultTotal){if(!this.isNumber(this.authorSearchResultTotal[t][1]))return void this.$confirm("优先级必须为数字",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"确定",type:"warning"});var o=this.authorSearchResultTotal[t][0],s=this.authorSearchResultTotal[t][1],i=this.authorSearchResultTotal[t][2],n={};n.value=s,n.level=i;var r=JSON.stringify(n);this.authorJson[o]=r}var a={authId:sessionStorage.getItem("authId"),type:this.typeNum,tables:this.authorJson,issueKeyword:{},keywordIssue:{}};this.putRequest("/weight/"+this.requestWigId,a).then((function(t){var o;(console.log("更新预设级别下的责任者权重表"),console.log(t),0==t.code)&&(e.$message({type:"success",message:"操作成功"}),e.getRequest("/weight/authorSort/"+e.requestWigId).then((function(t){o=t.data.tables,e.issueTable=t.data.tables,e.authorJson=o,e.jsonTable=[],e.levelAuthorInit(),e.filterLevelFromAuthor(e.selectedLevel,2)})).then((function(){e.showWaitingFlag=!1})))}))},changeText0:function(e,t){},changeText1:function(e,t){for(var o in console.log(e.target.innerHTML),console.log(t),this.authorSearchResultTotal)if(t[0]==this.authorSearchResultTotal[o][0]){this.authorSearchResultTotal[o][1]=e.target.innerHTML,t[1]=e.target.innerHTML;break}},authorSearch:function(){if(this.authorSearchResultTotal=[],this.query1.length>0){for(var e in this.jsonTable)this.jsonTable[e][0].indexOf(this.query1)>-1&&(console.log(this.jsonTable[e][0]),this.authorSearchResultTotal.push(this.jsonTable[e]));if(this.query2.length>0){var t=this.authorSearchResultTotal,o=[];for(var s in t)t[s][0].indexOf(this.query2)>-1&&o.push(t[s]);this.authorSearchResultTotal=o}}else this.authorSearchResultTotal=this.jsonTable;this.authorSearchResult=this.authorSearchResultTotal.slice(12*this.pageAt,12*this.pageAt+12)},nextPage:function(){var e;e=this.authorSearchResultTotal.length/12,this.pageAt<e&&this.pageAt++,this.authorSearchResult=this.authorSearchResultTotal.slice(12*this.pageAt,12*this.pageAt+12)},prePage:function(){this.pageAt>0&&this.pageAt--,this.authorSearchResult=this.authorSearchResultTotal.slice(12*this.pageAt,12*this.pageAt+12)},clearKeyToSet:function(){this.selectShow||2!=this.dicShowType||(this.keyToSet="")},clearValueToSet:function(){this.selectShow||2!=this.dicShowType||(this.valueToSet="")},adjHighlightCompute:function(e){return this.adjItemId==e[0]},setCombineToDeadline:function(){var e=this;if(""!=this.authorToSet.trim()&&""!=this.keywordToSet.trim()&&""!=this.deadlineToSet.trim()){var t=[];if(t.push(this.keywordToSet),t.push(this.authorToSet),null==this.authorKeywordDeadlineJson[this.deadlineToSet]){var o=[];o.push(t),this.authorKeywordDeadlineJson[this.deadlineToSet]=JSON.stringify(o)}else{var s=JSON.parse(this.authorKeywordDeadlineJson[this.deadlineToSet]);console.log("预设时该期限已经有记录"),console.log(s),console.log(t),s.push(t),console.log(s),this.authorKeywordDeadlineJson[this.deadlineToSet]=JSON.stringify(s)}this.weightForm[this.keywordDeadlineColumn]=this.authorKeywordDeadlineJson,this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(t){if(0==t.code){for(var o in e.$message({type:"success",message:"预设成功"}),e.weightForm=t.data,e.showCombineToDeadlineSet=!1,e.deadlineFilter=[],e.authorKeywordDeadlineJson)e.deadlineFilter.push(o);e.filterThisRequest("deadline",e.deadlineToSet)}}))}else this.$message({type:"warning",message:"请填写完整"})},clearCombineSet:function(){this.showCombineToDeadlineSet=!1,this.authorToSet="",this.keywordToSet="",this.deadlineToSet=""},backToKeyWord:function(){this.backToDocAboutShow=!0,this.backToKeyWordShow=!1;var e=1,t=[];t.push(this.deepInThisDocAbout),this.thisDocAbout(e,t)},levelAuthorInit:function(){for(var e in console.log("levelAuthorInit"),this.authorJson)console.log(e),this.jsonTable.push([e,JSON.parse(this.authorJson[e]).value,JSON.parse(this.authorJson[e]).level]);var t=[],o=["乡级","本级","县级","市级","省级","部级"];for(var s in o)for(var i in console.log(s),t=this.jsonTable.filter((function(e,t,i){return e[2]==o[s]})),console.log(t),t){var n=t.length-i,r=JSON.parse(this.authorJson[t[i][0]]);console.log(r),r.value=n;var a=JSON.stringify(r);this.authorJson[t[i][0]]=a}for(var e in console.log(this.authorJson),this.jsonTable=[],this.authorJson)console.log(e),this.jsonTable.push([e,JSON.parse(this.authorJson[e]).value,JSON.parse(this.authorJson[e]).level]);this.tempTable=this.jsonTable;var c={authId:sessionStorage.getItem("authId"),type:this.typeNum,tables:this.authorJson,issueKeyword:{},keywordIssue:{}};this.putRequest("/weight/"+this.requestWigId,c).then((function(e){console.log("初始化时更新责任者权重表，init里面"),console.log(e)}))},filterLevelFromAuthor:function(e,t){2==t||(this.pageAt=0,this.authorSearchResultTotal=[],this.authorSearchResult=[]),console.log(this.jsonTable),this.selectedLevel=e,1==t||window.scrollTo(0,0),this.jsonTable=this.tempTable,this.jsonTable=this.jsonTable.filter((function(t,o,s){return t[2]==e})),2==t&&this.authorSearch()},filterThisRequest:function(e,t){if(window.scrollTo(0,0),"level"==e&&(this.jsonTable=this.tempTable,this.jsonTable=this.jsonTable.filter((function(e,o,s){return e[0].split("~")[0]==t}))),e="deadline"){this.selectedDeadline=t,console.log(this.authorKeywordDeadlineJson);var o=JSON.parse(this.authorKeywordDeadlineJson[t]);console.log(o),this.jsonTable=o}},hideFilterLevel:function(){this.filterLevelFlag=!1},showFilterLevel:function(){this.filterLevelFlag=!0},showFilterDeadline:function(){this.filterDeadlineFlag=!0},hideFilterDeadline:function(){this.filterDeadlineFlag=!1},getAuth:function(){var e=this;this.getRequest("/organ/"+sessionStorage.getItem("authId")).then((function(t){e.weightForm=t.data}))},selectDone:function(){"文书类"==this.selectedDoctype?(this.authorKeywordDeadlineJson=this.weightForm.officialAuthorKeywordDeadline,this.keywordDeadlineColumn="officialAuthorKeywordDeadline","问题优先级表"==this.selectedTableType&&(this.checkFromThisType(11),this.tableTopTip="问题优先级对照表"),"责任者优先级表"==this.selectedTableType&&(this.checkFromThisType(12),this.tableTopTip="责任者优先级对照表"),"文号责任者对照表"==this.selectedTableType&&(this.selectedTableTypeName="officialDescAuthor",this.tableTopTip="文号责任者对照表",this.checkFromThisType(15)),"问题词期限对照表"!=this.selectedTableType&&"机构词期限对照表"!=this.selectedTableType||(this.selectedTableTypeName="officialAuthorKeywordDeadline",this.checkFromThisType(16),this.tableTopTip="特殊期限对照表"),"机构优先级表"==this.selectedTableType&&(this.checkFromThisType(51),this.tableTopTip="机构优先级对照表"),"业务类"==this.selectedDoctype&&(this.authorKeywordDeadlineJson=this.weightForm.busAuthorKeywordDeadline,this.keywordDeadlineColumn="busAuthorKeywordDeadline","业务类档案问题优先级表"==this.selectedTableType&&this.checkFromThisType(31),"业务类档案责任者优先级表"==this.selectedTableType&&this.checkFromThisType(32),"文号责任者对照表"==this.selectedTableType&&(this.selectedTableTypeName="busDescAuthor",this.checkFromThisType(35)),"级别期限对照表"==this.selectedTableType&&(this.selectedTableTypeName="busAuthorKeywordDeadline",this.checkFromThisType(36))),"科技类"==this.selectedDoctype&&(this.authorKeywordDeadlineJson=this.weightForm.tecAuthorKeywordDeadline,this.keywordDeadlineColumn="tecAuthorKeywordDeadline","科技类档案项目优先级表"==this.selectedTableType&&this.checkFromThisType(21),"科技类档案责任者优先级表"==this.selectedTableType&&this.checkFromThisType(22),"文号责任者对照表"==this.selectedTableType&&(this.selectedTableTypeName="tecDescAuthor",this.checkFromThisType(25)),"级别期限对照表"==this.selectedTableType&&(this.selectedTableTypeName="tecAuthorKeywordDeadline",this.checkFromThisType(26))),"人事类"==this.selectedDoctype&&this.checkFromThisType(41)):this.$message({type:"warning",message:"暂时还不支持，敬请期待"})},docTypeChange:function(){this.selectedTableType="","文书类"==this.selectedDoctype?2!=this.weightForm.officialType?(window.sessionStorage.setItem("docType","official"),this.tableTypes=["问题优先级表","责任者优先级表","文号责任者对照表","问题词期限对照表"]):(window.sessionStorage.setItem("docType","officialJ"),this.tableTypes=["机构优先级表","责任者优先级表","文号责任者对照表","机构词期限对照表"]):"业务类"==this.selectedDoctype?this.tableTypes=["业务类档案问题优先级表","业务类档案责任者优先级表","文号责任者对照表","级别期限对照表"]:"科技类"==this.selectedDoctype?this.tableTypes=["科技类档案项目优先级表","科技类档案责任者优先级表","文号责任者对照表","级别期限对照表"]:(this.selectedTableType="",this.tableTypes=["人事类档案关键词优先级表"])},clearRsSet:function(){this.selectRsDAFlag=!1},rsKeywordToDocAbout:function(e,t){this.keyToSet=t[0],this.selectRsDAFlag=!0},getKwTypeNum:function(){return 11==this.typeNum?13:21==this.typeNum?23:31==this.typeNum?33:41==this.typeNum?41:51==this.typeNum?53:void 0},setDescToWeightForm:function(){console.log(this.descJson);var e=JSON.stringify(this.descJson);"official"==sessionStorage.getItem("docType")&&(this.weightForm.officialDescWig[this.deepInThisDocAbout]=e),"business"==sessionStorage.getItem("docType")&&(this.weightForm.busDescWig[this.deepInThisDocAbout]=e),"science"==sessionStorage.getItem("docType")&&(this.weightForm.tecDescWig[this.deepInThisDocAbout]=e)},getDescJsonTableFromWeightForm:function(){var e,t=this.weightForm;this.jsonTable=[],"official"==sessionStorage.getItem("docType")&&(e=t.officialDescWig),"business"==sessionStorage.getItem("docType")&&(e=t.busDescWig),"science"==sessionStorage.getItem("docType")&&(e=t.tecDescWig),null==e&&(e={});var o,s=e[this.deepInThisKeyWord];if(console.log(s),null==s)return s="{}",void(this.jsonTable=[]);for(o in s=JSON.parse(s),s)this.jsonTable.push([o,s[o]]);for(var i in this.jsonTable=this.jsonTable.sort((function(e,t){return parseInt(t[1])-parseInt(e[1])})),this.jsonTable){var n=this.jsonTable.length-i;this.jsonTable[i][1]=n}this.descJson=s,console.log(this.descJson),console.log(this.jsonTable)},thisKeyWordDesc:function(e,t){this.setDescKVFlag=!0,this.showWaitingFlag=!0,this.deepInThisKeyWord=t[0],this.backToDocAboutShow=!1,this.backToKeyWordShow=!0,this.getDescJsonTableFromWeightForm(),this.showWaitingFlag=!1},thisDocAbout:function(e,t){var o,s,i=this;this.showWaitingFlag=!0,this.deepInThisDocAbout=t[0],this.backToDocAboutShow=!0,this.setDescKVFlag=!1;var n=this;Promise.all([new Promise((function(e,t){n.getRequest("/weight/keywordSort/"+n.keywordWigId).then((function(t){o=t.data.tables,s=t.data.keywordIssue,e(t)}))})),new Promise((function(e,o){n.getRequest("/weight/map/about/"+n.requestWigId+"?word="+t[0]).then((function(t){e(t)}))}))]).then((function(e){if(console.log("按问题查关键词数组"),console.log(e[1]),null==e[1].data)return i.jsonTable=[],i.$message({type:"warning",message:"还没有关键词表，点击预设"}),void(i.showWaitingFlag=!1);var t,n=e[1].data;for(t in i.keywordArrFromIssue=n,i.keywordTable=e[0].data.tables,i.keywordIssueTable=e[0].data.keywordIssue,console.log(i.keywordTable),i.jsonTable=[],console.log(i.keywordTable),i.keywordTable)console.log("搜索关键词权重数组的"+t),n.indexOf(t)>=0&&i.jsonTable.push([t,i.keywordTable[t]]);console.log(i.jsonTable);for(var r=0;r<i.jsonTable.length;r++)i.jsonTable[r][1]=i.jsonTable.length-r;for(r=0;r<i.jsonTable.length;r++)i.keywordTable[i.jsonTable[r][0]]=i.jsonTable[r][1];var a={authId:sessionStorage.getItem("authId"),type:i.getKwTypeNum(),tables:o,keywordIssue:s};i.putRequest("/weight/"+i.keywordWigId,a).then((function(e){console.log("更新预设kv权重表数字排序"),console.log(e)}))})).then((function(){i.showWaitingFlag=!1}))},thisDocAbout1:function(e,t){var o=this;this.getRequest("/weight/keywordSort/"+this.keywordWigId).then((function(e){o.keywordTable=e.data.tables,o.keywordIssueTable=e.data.keywordIssue})),this.showWaitingFlag=!0,this.deepInThisDocAbout=t[0],this.getRequest("/weight/map/about/"+this.requestWigId+"?word="+t[0]).then((function(e){if(console.log("按问题查关键词数组"),console.log(e),null==e.data)return o.jsonTable=[],o.$message({type:"warning",message:"还没有关键词表，点击预设"}),void(o.showWaitingFlag=!1);var t,s=e.data;for(t in o.keywordArrFromIssue=s,o.jsonTable=[],o.keywordTable)console.log("搜索关键词权重数组的"+t),s.indexOf(t)>=0&&(console.log("you"),o.jsonTable.push([t,o.keywordTable[t]]));console.log(o.jsonTable),o.showWaitingFlag=!1})),this.backToDocAboutShow=!0},backToDocAbout:function(){this.setDescKVFlag=!1,console.log(this.issueTable),this.saveBtnShow=!1,this.jsonTable=this.level1JsonTable,this.backToDocAboutShow=!1},backToDetail:function(){this.$router.push("/work/docInputD"),this.$store.state.backToDetailFlag=!1},backToOrgans:function(){this.$router.push("/work/modifyOrgan")},backToSelect:function(){this.saveBtnShow=!1,this.selectShow=!0},clearKV:function(){this.keyToFix="",this.valueToFix="",this.showKVFix=!1},clearPreset:function(){this.keyToSet="",this.valueToSet="",this.showKVPreset=!1},isNumber:function(e){return!isNaN(e)},addKeyWordToArr:function(){},doPresetRs:function(){var e=this;this.selectRsDAFlag=!1,this.getRequest("/weight/keywordSort/"+this.requestWigId).then((function(t){var o=t.data.tables,s=t.data.keywordIssue;console.log("设置的材料类型"),console.log(e.valueToSet),s[e.keyToSet]=e.valueToSet;var i={authId:sessionStorage.getItem("authId"),type:e.getKwTypeNum(),tables:o,issueKeyword:{},keywordIssue:s};e.putRequest("/weight/"+e.requestWigId,i).then((function(t){console.log(i),console.log("更新rs预设kv权重表"),console.log(t),e.checkFromThisType(41)}))}))},doPresetSub:function(){var e,t=this;if(this.backToDocAboutShow)this.getRequest("/weight/"+this.requestWigId).then((function(o){e=o.data.tables,t.issueKeywordTable=o.data.issueKeyword,console.log(t.issueKeywordTable),console.log(t.issueKeywordTable[t.deepInThisDocAbout]),null==t.issueKeywordTable[t.deepInThisDocAbout]&&(t.issueKeywordTable[t.deepInThisDocAbout]=[]),t.issueKeywordTable[t.deepInThisDocAbout].indexOf(t.keyToSet)<0&&t.issueKeywordTable[t.deepInThisDocAbout].push(t.keyToSet);var s={authId:sessionStorage.getItem("authId"),type:t.typeNum,tables:e,issueKeyword:t.issueKeywordTable};t.putRequest("/weight/"+t.requestWigId,s).then((function(e){console.log("更新文书问题权重表"),console.log(e),t.issueTable=e.data.tables})),t.getRequest("/weight/keywordSort/"+t.keywordWigId).then((function(e){var o=e.data.tables;o[t.keyToSet]=t.valueToSet;var s=e.data.keywordIssue;console.log(s),console.log(s[t.keyToSet]),null==s[t.keyToSet]&&(s[t.keyToSet]=t.deepInThisDocAbout),o[t.keyToSet]=t.valueToSet;var i={authId:sessionStorage.getItem("authId"),type:t.getKwTypeNum(),tables:o,keywordIssue:s};t.putRequest("/weight/"+t.keywordWigId,i).then((function(e){console.log(i),console.log("更新预设kv权重表"),console.log(e);var o=1,s=[];s.push(t.deepInThisDocAbout),t.thisDocAbout(o,s)}))}))})).then((function(){}));else if(this.computeTypeNumIsAuthor){this.getRequest("/weight/"+this.requestWigId).then((function(e){if(console.log(e.data.tables),t.authorJson=o,o=e.data.tables,0==e.code){var n=t.keyToSet;if(o[n]={},o[n].level=t.levelToSet,o[n].value=t.valueToSet,o[n]=JSON.stringify(o[n]),s=e.data.issueKeyword,i=e.data.keywordIssue,null==i&&(i={}),null==s[t.keyToSet]){var r=[];s[t.keyToSet]=r}}else t.$message({type:"warning",message:"添加失败"})})).then((function(e){var n={authId:sessionStorage.getItem("authId"),type:t.typeNum,tables:o,issueKeyword:s,keywordIssue:i};t.putRequest("/weight/"+t.requestWigId,n).then((function(e){console.log("更新预设kv权重表"),console.log(e),t.issueTable=e.data.tables,t.renewTable()}))})).then((function(e){t.showWaitingFlag=!1,t.showKVPreset=!1}))}else{var o,s,i;this.getRequest("/weight/sort/"+this.requestWigId).then((function(e){if(console.log("添加过，先获取："),console.log(e.data.tables),o=e.data.tables,0==e.code){var n=t.keyToSet;if(o[n]=t.valueToSet,s=e.data.issueKeyword,i=e.data.keywordIssue,null==i&&(i={}),null==s[t.keyToSet]){var r=[];s[t.keyToSet]=r}}else t.$message({type:"warning",message:"添加失败"})})).then((function(e){var n={authId:sessionStorage.getItem("authId"),type:t.typeNum,tables:o,issueKeyword:s,keywordIssue:i};t.putRequest("/weight/"+t.requestWigId,n).then((function(e){console.log("更新预设kv权重表"),console.log(e),t.issueTable=e.data.tables,t.renewTable()}))})).then((function(e){t.showWaitingFlag=!1,t.showKVPreset=!1}))}},doPreset:function(){var e=this;if(console.log(this.weightForm),this.typeNum%5==0||(this.typeNum-6)%10==0){this.selectedLevel,this.keyToSet;if(null!=this.weightForm[this.selectedTableTypeName][this.keyToSet])return this.$message({type:"warning",message:"该对照已存在："+this.keyToSet}),void(this.showWaitingFlag=!1);if(15==this.typeNum&&(this.weightForm.officialDescAuthor[this.keyToSet]=this.valueToSet),25==this.typeNum&&(this.weightForm.tecDescAuthor[this.keyToSet]=this.valueToSet),35==this.typeNum&&(this.weightForm.busDescAuthor[this.keyToSet]=this.valueToSet),16==this.typeNum){var t=this.selectedLevel+"~"+this.keyToSet;console.log(t),console.log(this.weightForm.officialAuthorKeywordDeadline),this.weightForm.officialAuthorKeywordDeadline[this.selectedLevel+"~"+this.keyToSet]=this.valueToSet,console.log(this.weightForm.officialAuthorKeywordDeadline)}return 26==this.typeNum&&(this.weightForm.tecAuthorKeywordDeadline[this.selectedLevel+"~"+this.keyToSet]=this.valueToSet),36==this.typeNum&&(this.weightForm.busAuthorKeywordDeadline[this.selectedLevel+"~"+this.keyToSet]=this.valueToSet),this.jsonTable=[],this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(t){if(0==t.code){e.$message({type:"success",message:"预设成功"});var o,s=t.data,i=s[e.selectedTableTypeName];for(o in i)console.log(o),console.log(i[o]),e.jsonTable.push([o,i[o]]);e.showKVPreset=!1}})),void(this.showWaitingFlag=!1)}if(this.isNumber(this.valueToSet)&&0!=this.valueToSet.length)if(12!=this.typeNum&&22!=this.typeNum&&32!=this.typeNum&&52!=this.typeNum||""!=this.levelToSet){if(this.setDescKVFlag)return this.showWaitingFlag=!0,null!=this.descJson[this.keyToSet]?(this.$message({type:"warning",message:"该文号已存在："+this.keyToSet}),void(this.showWaitingFlag=!1)):(this.descJson[this.keyToSet]=this.valueToSet,console.log(this.descJson),this.setDescToWeightForm(),this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(t){e.weightForm=t.data,e.getDescJsonTableFromWeightForm(),e.showKVPreset=!1})),void(this.showWaitingFlag=!1));this.showWaitingFlag=!0,this.showKVPreset=!1,this.backToDocAboutShow?this.getRequest("/weight/keywordSort/"+this.keywordWigId).then((function(t){if(null!=t.data.tables[e.keyToSet])return e.$message({type:"warning",message:"关键词已存在,大小为"+t.data.tables[e.keyToSet]+",问题为："+t.data.keywordIssue[e.keyToSet]}),void(e.showWaitingFlag=!1);e.doPresetSub()})):this.computeTypeNumIsAuthor?this.getRequest("/weight/"+this.requestWigId).then((function(t){if(null!=t.data.tables[e.keyToSet])return e.$message({type:"warning",message:"已存在"+e.keyToSet}),void(e.showWaitingFlag=!1);e.doPresetSub()})):(this.getRequest("/weight/"+this.requestWigId).then((function(t){if(null!=t.data.tables[e.keyToSet])return e.$message({type:"warning",message:"已存在"+e.keyToSet+",大小为"+t.data.tables[e.keyToSet]}),void(e.showWaitingFlag=!1)})),this.doPresetSub())}else this.$message({type:"warning",message:"请选择级别"});else this.$message({type:"warning",message:"优先级只能是数字"})},renewAuthTable:function(){this.getAuth()},renewTable:function(){var e,t=this;(this.jsonTable=[],this.selectShow=!1,this.computeTypeNumIsAuthor)?this.getRequest("/weight/authorSort/"+this.requestWigId).then((function(o){var s;for(s in e=o.data.tables,t.authorJson=e,t.jsonTable=[],console.log("getRenew"),console.log(o.data),t.authorJson)console.log(s),t.jsonTable.push([s,JSON.parse(t.authorJson[s]).value,JSON.parse(t.authorJson[s]).level]);t.tempTable=t.jsonTable,t.filterLevelFromAuthor(t.selectedLevel,0)})):this.getRequest("/weight/sort/"+this.requestWigId).then((function(o){var s;for(s in e=o.data.tables,console.log("刷新table"),console.log(e),t.jsonTable=[],e)t.jsonTable.push([s,e[s]]);t.level1JsonTable=t.jsonTable}))},checkFromThisTableType:function(e){var t,o;if(this.selectShow=!1,this.dicShow=2,this.jsonTable=[],e%5==0){if(this.descAuthorFlag=!0,15==e)for(o in t=this.weightForm.officialDescAuthor,console.log(t),t)this.jsonTable.push([o,t[o]]);if(25==e)for(o in t=this.weightForm.tecDescAuthor,t)this.jsonTable.push([o,t[o]]);if(35==e)for(o in t=this.weightForm.busDescAuthor,t)this.jsonTable.push([o,t[o]])}if((e-6)%10==0){for(var s in this.dicShow=3,console.log(this.selectedTableTypeName),this.deadlineFilter=[],this.authorKeywordDeadlineJson)this.deadlineFilter.push(s);if("请选择"==this.selectedDeadline)this.jsonTable=[];else{var i=this.authorKeywordDeadlineJson[this.selectedDeadline],n=JSON.parse(i);this.jsonTable=n}}this.showWaitingFlag=!1},checkFromThisType:function(e){var t=this;if(this.typeNum=e,this.showWaitingFlag=!0,this.backToDocAboutShow=!1,(e-5)%10!=0&&(e-6)%10!=0)if(this.dicShow=1,this.jsonTable=[],11==e&&(this.requestWigId=this.weightForm.docIssueWig,this.keywordWigId=this.weightForm.docKeywordWig),12==e&&(this.requestWigId=this.weightForm.docAuthorWig),13==e&&(this.requestWigId=this.weightForm.docKeywordWig),51==e&&(this.requestWigId=this.weightForm.docIssuejWig,this.keywordWigId=this.weightForm.docKeywordjWig),52==e&&(this.requestWigId=this.weightForm.docAuthorjWig),21==e&&(this.requestWigId=this.weightForm.tecProjectWig,this.keywordWigId=this.weightForm.tecKeywordWig),22==e&&(this.requestWigId=this.weightForm.tecAuthorWig),23==e&&(this.requestWigId=this.weightForm.tecKeywordWig),31==e&&(this.requestWigId=this.weightForm.busProjectWig,this.keywordWigId=this.weightForm.busKeywordWig),32==e&&(this.requestWigId=this.weightForm.busAuthorWig),33==e&&(this.requestWigId=this.weightForm.busKeywordWig),41==e&&(this.requestWigId=this.weightForm.perKeywordWig),this.selectShow=!1,this.typeNum=e,this.requestWigId)if(12==e||22==e||32==e||52==e){this.getRequest("/weight/authorSort/"+this.requestWigId).then((function(e){o=e.data.tables,t.issueTable=e.data.tables,t.authorJson=o,t.jsonTable=[],t.levelAuthorInit(),t.filterLevelFromAuthor(t.selectedLevel,0)})).then((function(){t.showWaitingFlag=!1}))}else{var o;this.getRequest("/weight/sort/"+this.requestWigId).then((function(s){var i;for(i in console.log("权重表分类，get到"),console.log(s),o=s.data.tables,t.issueTable=s.data.tables,t.issueKeywordTable=s.data.issueKeyword,41==e&&(console.log(t.issueKeywordTable),t.keywordIssueTable=s.data.keywordIssue,t.keywordTable=s.data.tablses),t.jsonTable=[],o)t.jsonTable.push([i,o[i]]);t.level1JsonTable=t.jsonTable})).then((function(){t.showWaitingFlag=!1}))}else this.jsonTable=[],this.$message({type:"warning",message:"还没有添加过该类型的档案"});else this.checkFromThisTableType(e)},submitFixAuthor:function(){var e=this;for(var t in this.jsonTable){var o=JSON.parse(this.authorJson[this.jsonTable[t][0]]);o.value=this.jsonTable[t][1];var s=JSON.stringify(o);this.authorJson[this.jsonTable[t][0]]=s}var i={authId:sessionStorage.getItem("authId"),type:this.typeNum,tables:this.authorJson,issueKeyword:{},keywordIssue:{}};this.putRequest("/weight/"+this.requestWigId,i).then((function(t){console.log("更新预设级别下的责任者权重表"),console.log(t),0==t.code&&e.$message({type:"success",message:"保存修改成功"}),e.renewTable(),e.saveBtnShow=!1}))},saveKeyValue:function(){console.log("save"),console.log(this.jsonTable),this.computeTypeNumIsAuthor?this.submitFixAuthor():(console.log("continue"),this.submitFixFromQianDuan(),this.saveBtnShow=!1)},boxClick:function(e){},changeFlag:function(){this.valueShow=!0},valueCompute:function(e){clearInterval(this.timer),this.timer=setInterval(this.changeFlag,2e3)},fixKv:function(e,t){this.showKVFix=!0,this.keyToFix=t[0],this.valueToFix=t[1]},preSetButton:function(){this.showKVPreset=!0},preSetDicButton:function(){this.showKVPreset=!0,this.keyToSet=this.computeKeyTitle,this.valueToSet=this.computeValueTitle},fixTheKV:function(){var e=this;if(console.log(this.typeNum-6),this.typeNum%5==0||(this.typeNum-6)%10==0){if(15==this.typeNum&&(this.weightForm.officialDescAuthor[this.keyToFix]=this.valueToFix),25==this.typeNum&&(this.weightForm.tecDescAuthor[this.keyToFix]=this.valueToFix),35==this.typeNum&&(this.weightForm.busDescAuthor[this.keyToFix]=this.valueToFix),16==this.typeNum){var t=this.selectedLevel+"~"+this.keyToFix;console.log(t),console.log(this.weightForm.officialAuthorKeywordDeadline),this.weightForm.officialAuthorKeywordDeadline[this.selectedLevel+"~"+this.keyToFix]=this.valueToFix,console.log(this.weightForm.officialAuthorKeywordDeadline)}return 26==this.typeNum&&(this.weightForm.tecAuthorKeywordDeadline[this.selectedLevel+"~"+this.keyToFix]=this.valueToFix),36==this.typeNum&&(this.weightForm.busAuthorKeywordDeadline[this.selectedLevel+"~"+this.keyToFix]=this.valueToFix),this.jsonTable=[],this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(t){if(0==t.code){e.$message({type:"success",message:"修改成功"});var o,s=t.data,i=s[e.selectedTableTypeName];for(o in i)e.jsonTable.push([o,i[o]]);e.showKVFix=!1}})),void(this.showWaitingFlag=!1)}if(this.isNumber(this.valueToFix)&&0!=this.valueToFix.length)if(12!=this.typeNum&&22!=this.typeNum&&32!=this.typeNum&&52!=this.typeNum){if(this.setDescKVFlag)return this.descJson[this.keyToFix]=this.valueToFix,console.log(this.descJson),this.setDescToWeightForm(),this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(t){e.weightForm=t.data,e.getDescJsonTableFromWeightForm(),e.showKVFix=!1})),void(this.showWaitingFlag=!1);for(var o=this.jsonTable,s=o.length,i=0;i<s;i++)if(this.jsonTable[i][0]==this.keyToFix){o.splice(i,1);var n=[this.keyToFix,this.valueToFix];console.log(n),o.splice(i,0,n)}this.submitFixFromQianDuan(),this.showKVFix=!1}else{if(""==this.levelToSet)return void this.$message({type:"warning",message:"请选择级别"});var r=this.authorJson,a=this.keyToFix;console.log(this.authorJson),r[a]=JSON.parse(r[a]),r[a].level=this.levelToSet,r[a].value=this.valueToFix,r[a]=JSON.stringify(r[a]);var c={authId:sessionStorage.getItem("authId"),type:this.typeNum,tables:r,issueKeyword:{},keywordIssue:{}};this.putRequest("/weight/"+this.requestWigId,c).then((function(t){var o;(console.log("更新预设级别下的责任者权重表"),console.log(t),0==t.code)&&(e.$message({type:"success",message:"操作成功"}),e.getRequest("/weight/authorSort/"+e.requestWigId).then((function(t){o=t.data.tables,e.issueTable=t.data.tables,e.authorJson=o,e.jsonTable=[],e.levelAuthorInit(),e.filterLevelFromAuthor(e.selectedLevel,1)})).then((function(){e.showWaitingFlag=!1})));e.showKVFix=!1}))}else this.$message({type:"warning",message:"优先级只能是数字"})},submitFixFromQianDuan:function(){for(var e=this,t={},o=0;o<this.jsonTable.length;o++)t[this.jsonTable[o][0]]=this.jsonTable[o][1];if(this.descJson=t,this.setDescKVFlag&&this.backToDocAboutShow)return this.setDescToWeightForm(),void this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(t){0==t.code&&(e.$message({type:"warning",message:"操作成功"}),e.weightForm=t.data)})).then((function(){e.getDescJsonTableFromWeightForm()}));if(this.backToDocAboutShow){for(o=0;o<this.jsonTable.length;o++)this.keywordTable[this.jsonTable[o][0]]&&(this.keywordTable[this.jsonTable[o][0]]=this.jsonTable[o][1]);var s={authId:sessionStorage.getItem("authId"),type:this.getKwTypeNum(),tables:this.keywordTable,keywordIssue:this.keywordIssueTable};this.putRequest("/weight/"+this.keywordWigId,s).then((function(e){console.log(s),console.log("调整后，关键词对应的表"),console.log(e)})).then((function(){var t=1,o=[];o.push(e.deepInThisDocAbout),e.thisDocAbout(t,o)}))}else{var i={authId:sessionStorage.getItem("authId"),type:this.typeNum,id:this.requestWigId,tables:t,issueKeyword:this.issueKeywordTable,keywordIssue:this.keywordIssueTable};this.putRequest("/weight/"+this.requestWigId,i).then((function(t){return console.log("修改值的方式更新权重表，类型："+e.typeNum),console.log(t),t})).then((function(t){0==t.code?(e.$message({type:"warning",message:"操作成功"}),e.renewTable()):(e.$message({type:"warning",message:"操作失败"}),location.reload())}))}},deleteDocAbout:function(e){var t=this;console.log(this.issueTable);var o;e[0];this.getRequest("/weight/map/about/"+this.requestWigId+"?word="+e[0]).then((function(e){o=e.data})).then((function(){console.log("按问题查关键词数组 删除某个问题后");var s=o;null==s&&(s=[]),t.getRequest("/weight/keywordSort/"+t.keywordWigId).then((function(e){t.keywordTable=e.data.tables,t.keywordIssueTable=e.data.keywordIssue})).then((function(){for(var e in s)console.log("删除问题对应的关键词："+s[e]),delete t.keywordTable[s[e]],delete t.keywordIssueTable[s[e]]})).then((function(){var e={authId:sessionStorage.getItem("authId"),type:t.getKwTypeNum(),tables:t.keywordTable,keywordIssue:t.keywordIssueTable};t.putRequest("/weight/"+t.keywordWigId,e).then((function(t){console.log(e),console.log("删除问题后，操作关键词权重表"),console.log(t)}))})),console.log("shanchu问题权重表1"),console.log(t.issueTable),delete t.issueTable[e[0]],delete t.issueKeywordTable[e[0]],console.log(t.issueTable);var i={authId:sessionStorage.getItem("authId"),type:t.typeNum,tables:t.issueTable,issueKeyword:t.issueKeywordTable};t.putRequest("/weight/"+t.requestWigId,i).then((function(e){if(console.log("shanchu问题权重表"),console.log(e),0==e.code){for(var o in t.$message({type:"success",message:"删除成功"}),t.issueKeywordTable=e.data.issueKeyword,t.issueTable=e.data.tables,t.jsonTable=[],t.issueTable)t.jsonTable.push([o,t.issueTable[o]]);t.level1JsonTable=t.jsonTable}else t.$message({type:"success",message:"删除失败"}),t.checkFromThisType(t.typeNum)}))}))},deleteKV:function(e,t){var o=this;if((this.typeNum-6)%10==0){var s=this.authorKeywordDeadlineJson[this.selectedDeadline];for(var i in s=JSON.parse(s),s)console.log(s[i]),s[i][0]==t[0]&&s[i][1]==t[1]&&s.splice(i,1);return this.authorKeywordDeadlineJson[this.selectedDeadline]=JSON.stringify(s),this.checkFromThisTableType(this.typeNum),this.weightForm[this.keywordDeadlineColumn]=this.authorKeywordDeadlineJson,void this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(e){0==e.code?o.$message({type:"success",message:"删除成功"}):o.$message({type:"warning",message:"删除失败"})}))}if(this.typeNum%5==0){s=[];var n=this.weightForm[this.selectedTableTypeName];return console.log(n),delete n[t[0]],console.log(n),this.jsonTable=[],this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(e){if(0==e.code){o.$message({type:"success",message:"删除成功"});var t,s=e.data,i=s[o.selectedTableTypeName];for(t in i)o.jsonTable.push([t,i[t]]);o.showKVFix=!1}})),void(this.showWaitingFlag=!1)}if(this.setDescKVFlag)return delete this.descJson[t[0]],this.setDescToWeightForm(),void this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(e){o.$message({type:"success",message:"删除成功"}),o.weightForm=e.data})).then((function(){o.getDescJsonTableFromWeightForm()}));var r={};console.log(1),this.$confirm("确定要删除该条不再使用吗",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){if(console.log("关键词删除进入，需判断"),11!=o.typeNum&&21!=o.typeNum&&31!=o.typeNum||0!=o.backToDocAboutShow)if(o.computeTypeNumIsAuthor){console.log("责任者删除"),delete o.authorJson[t[0]];var e={authId:sessionStorage.getItem("authId"),type:o.typeNum,tables:o.authorJson,issueKeyword:{},keywordIssue:{}};o.putRequest("/weight/"+o.requestWigId,e).then((function(e){console.log("删除预设级别下的责任者权重表"),console.log(e),0==e.code&&o.$message({type:"success",message:"删除成功"}),o.renewTable()}))}else if(3==o.dicShowType);else{console.log("关键词删除");for(var s,i=o.jsonTable,n=i.length,a=0;a<n;a++)if(o.jsonTable[a][0]==t[0]){r=o.jsonTable.splice(a,1);break}if(o.backToDocAboutShow)return o.showWaitingFlag=!0,void o.getRequest("/weight/"+o.requestWigId).then((function(e){s=e.data.tables,o.issueKeywordTable=e.data.issueKeyword;var i=o.issueKeywordTable[o.deepInThisDocAbout].indexOf(t[0]);i>-1&&o.issueKeywordTable[o.deepInThisDocAbout].splice(i,1);var n={authId:sessionStorage.getItem("authId"),type:o.typeNum,tables:s,issueKeyword:o.issueKeywordTable};return o.putRequest("/weight/"+o.requestWigId,n).then((function(e){console.log("更新文书问题权重表"),console.log(e)})),"k"})).then((function(e){console.log(e),console.log("删除关键字"),console.log(r[0][0]),delete o.keywordTable[r[0][0]],console.log(o.keywordTable),delete o.keywordIssueTable[r[0][0]];var t={authId:sessionStorage.getItem("authId"),type:o.getKwTypeNum(),tables:o.keywordTable,keywordIssue:o.keywordIssueTable};o.putRequest("/weight/"+o.keywordWigId,t).then((function(e){console.log(t),console.log("删除后更新 预设kv权重表"),console.log(e);var s=1,i=[];i.push(o.deepInThisDocAbout),o.thisDocAbout(s,i)}))}));console.log(o.jsonTable),o.submitFixFromQianDuan()}else if(console.log("wenti delete"),0==o.backToDocAboutShow)return void o.deleteDocAbout(t)})).catch((function(){}))},downClick:function(e,t){this.adjItemId=t[0],this.saveBtnShow=!0;for(var o=this.jsonTable,s=o.length,i=0;i<s;i++)if(this.jsonTable[i][0]==t[0]&&i!=s-1){o.splice(i,1),o.splice(i+1,0,t);var n=this.jsonTable[i][1];return this.jsonTable[i][1]=this.jsonTable[i+1][1],void(this.jsonTable[i+1][1]=n)}},upClick:function(e,t){this.adjItemId=t[0],this.saveBtnShow=!0;for(var o=this.jsonTable,s=o.length,i=0;i<s;i++)if(this.jsonTable[i][0]==t[0]){if(0!=i){o.splice(i,1),o.splice(i-1,0,t);var n=this.jsonTable[i][1];return this.jsonTable[i][1]=this.jsonTable[i-1][1],void(this.jsonTable[i-1][1]=n)}console.log(1)}}},data:function(){var e;return e={index:1,batchModifyShow:!1,query1:"",query2:"",authorSearchResult:[["输入查询","12","乡级"]],authorSearchResultTotal:[],pageAt:0,tableTopTip:"显示某种对照表",adjItemId:0,keywordToSet:"",authorToSet:"",deadlineToSet:"",showCombineToDeadlineSet:!1,authorKeywordDeadlineJson:{},backToKeyWordShow:!1,setDescKVFlag:!1,descJson:{},authorJson:{},tempTable:[],descAuthorFlag:!1,dicShow:1,selectShow:!0,selectedLevel:"县级",selectedDeadline:"请选择",selectedDoctype:"",selectedTableType:"",selectedTableTypeName:"",filterLevelFlag:!1,filterDeadlineFlag:!1,levelFilter:["乡级","本级","县级","市级","省级","部级"],deadlineFilter:[],docTypes:["文书类","业务类","科技类","人事类"],tableTypes:["请先选择文档类型"],selectRsDAFlag:!1,level1JsonTable:[],keywordIssueTable:{},keywordArrFromIssue:[],docAboutWigTable:{},deepInThisDocAbout:"",issueKeywordTable:{},issueTable:{},typeNum:11,showWaitingFlag:!1,backToDocAboutShow:!1,requestWigId:""},Object(n["a"])(e,"typeNum",""),Object(n["a"])(e,"weightForm",{}),Object(n["a"])(e,"keyToFix",""),Object(n["a"])(e,"valueToFix",""),Object(n["a"])(e,"authName",""),Object(n["a"])(e,"keyToSet",""),Object(n["a"])(e,"valueToSet",""),Object(n["a"])(e,"levelToSet",""),Object(n["a"])(e,"showKVFix",!1),Object(n["a"])(e,"showKVPreset",!1),Object(n["a"])(e,"saveBtnShow",!1),Object(n["a"])(e,"submitMap",new Map),Object(n["a"])(e,"valueShow",!0),Object(n["a"])(e,"timer",""),Object(n["a"])(e,"jsonTable",[]),Object(n["a"])(e,"keywordTable",""),Object(n["a"])(e,"keywordWigId",1),Object(n["a"])(e,"keyWordTemp",[{id:1,tables:{"问题":""}},{id:2,tables:{"责任者1":"4"}},{id:3,tables:{key3:"3"}},{id:4,tables:{"财经类":"2"}},{id:5,tables:{"关键字22":"1"}}]),e}}),a=r,c=(o("7992"),o("4ac2")),l=Object(c["a"])(a,s,i,!1,null,"5fc33c9c",null);t["default"]=l.exports},"96aa":function(e,t,o){"use strict";o("0512")},"975f":function(e,t,o){"use strict";o("a3a1")},a3a1:function(e,t,o){},a836:function(e,t,o){e.exports=o.p+"img/pic3.4cc2d839.png"},b520:function(e,t,o){},b53c:function(e,t){},c04e:function(e,t,o){},c6b4:function(e,t,o){"use strict";o("cfd7")},c736:function(e,t,o){"use strict";o("4785")},cb7f:function(e,t,o){},cfd7:function(e,t,o){},d2cb:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"wrapper"},[o("Left"),o("div",{staticClass:"detailBox"}),e.showWaitingFlag?o("div",{staticStyle:{position:"absolute",width:"20rem",height:"10rem",top:"10rem",left:"50%","margin-left":"-10rem","line-height":"10rem","background-color":"rgba(25, 55, 163, 0.8)","font-size":"1.3rem",color:"white","text-align":"center","z-index":"1000"}},[e._v("\n      提交中，请稍候...\n    ")]):e._e(),e.tipShowFlag?o("div",{staticStyle:{position:"absolute",top:"30vh",left:"40rem","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"20rem","background-color":"rgb(209, 218, 243)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"},attrs:{typeInTipBox:""}},[o("div",{staticStyle:{"font-size":"1rem",height:"2rem",width:"100%","text-align":"center"}},[e._v("\n        历史匹配:\n      ")]),e._l(e.matchedKV,(function(t,s){return o("div",{key:s,staticClass:"matchedKVClass"},[o("div",{staticClass:"matchedItem",staticStyle:{"font-size":"1rem","text-align":"center",width:"80%","margin-left":"10%","line-height":"2rem"},on:{click:function(o){return e.selectThisTip(t)}}},[e._v("\n          "+e._s(t[0])+":"+e._s(t[1])+"\n        ")])])})),o("div",{staticStyle:{height:"2rem","text-align":"right","font-size":"0.8rem","line-height":"2rem",cursor:"pointer"},on:{click:e.closeTip}},[e._v("\n        关闭 \n      ")])],2):e._e(),e.likelyTipShowFlag?o("div",{staticClass:"windowStyle",staticStyle:{position:"absolute",top:"30vh",left:"13rem","z-index":"122","padding-top":"1rem",color:"#eee","font-size":"1.5rem",width:"75rem","padding-bottom":"1rem","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"},attrs:{typeInTipBox:""}},[o("div",{staticStyle:{height:"2rem","text-align":"right","font-size":"1rem","line-height":"2rem",cursor:"pointer",width:"3rem",position:"absolute",right:"1rem",top:"0"},on:{click:e.closeDocTip}},[e._v("\n        关闭 \n      ")]),o("div",{staticStyle:{"font-size":"1rem",height:"2rem",width:"100%","text-align":"center"}},[e._v("\n        智能匹配:\n      ")]),e._l(e.matchedDoc,(function(t,s){return o("div",{key:s,staticClass:"matchedDocClass"},[o("div",{staticClass:"matchedItem",staticStyle:{"font-size":"1rem","text-align":"center",width:"80%","margin-left":"10%","padding-bottom":"0.2rem"},on:{click:function(o){return e.selectThisDoc(t)}}},[o("font",{domProps:{innerHTML:e._s(t.docTitle)}}),e._v(" -\n          "),o("font",{staticStyle:{"font-size":"1.1rem",color:"#abc"}},[e._v("\n            "+e._s(t.docAbout)+" ")]),e._v("-"+e._s(t.keyword)+"-期限："+e._s(t.deadline)+"\n        ")],1)])}))],2):e._e(),e._e(),e.isRS?e._e():o("el-form",{staticClass:"docInForm",attrs:{model:e.docForm,"label-width":"10rem"}},[o("div",{staticClass:"docSequenceTip"},[e._v("\n        文件在该批次中唯一识别号：\n        "),o("div",{staticStyle:{display:"inline-block","font-size":"1.1rem"}},[e._v(e._s(this.docForm.docSequence))]),e.fixDocFlag?o("div",{staticStyle:{display:"inline-block",color:"red"}},[e._v("\n          修改中\n      ")]):e._e()]),o("div",{staticStyle:{width:"60%",position:"absolute",top:"1rem",left:"50%","margin-left":"-30%","text-align":"center"}},[e._v("录入单位："+e._s(e.authName))]),o("el-checkbox",{staticStyle:{position:"absolute",right:"1rem",top:"1rem"},attrs:{"false-label":"false","true-label":"true",checked:!0},on:{change:e.inputChange}},[e._v("智能录入")]),o("el-form-item",{staticClass:"textArea",attrs:{prop:"batchName",label:"文件标题："}},[o("el-input",{ref:"docTitle",staticClass:"textAreaInput",attrs:{type:"textarea",id:"docTitle",rows:3,"auto-complete":"off",placeholder:"输入文件标题"},on:{blur:e.titleComplete},nativeOn:{keydown:function(t){return e.fastNext(t)}},model:{value:e.docForm.docTitle,callback:function(t){e.$set(e.docForm,"docTitle",t)},expression:"docForm.docTitle"}})],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:4}},[o("el-form-item",{attrs:{prop:"batchName",label:"序号信息:"}},[o("el-checkbox",{staticStyle:{position:"absolute",left:"2rem",top:"0.5rem"},attrs:{disabled:e.isLocked,"false-label":"false","true-label":"true",checked:!0},on:{change:e.docDescChange},model:{value:e.docForm.docDescAuthor,callback:function(t){e.$set(e.docForm,"docDescAuthor",t)},expression:"docForm.docDescAuthor"}})],1)],1),o("el-col",{attrs:{span:12}},[e.docForm.docDescAuthor?o("el-form-item",{attrs:{prop:"batchName",label:"文号："}},[o("el-input",{ref:"docDesc",attrs:{size:"normal",type:"text",id:"docDesc",disabled:e.isLocked,"auto-complete":"off",placeholder:"文号"},on:{blur:e.docDescComplete},nativeOn:{keydown:function(t){return e.fastNext(t)}},model:{value:e.docForm.docDesc,callback:function(t){e.$set(e.docForm,"docDesc",t)},expression:"docForm.docDesc"}})],1):e._e()],1),o("el-col",{attrs:{span:8}},[e.docForm.docDescAuthor?o("el-form-item",{attrs:{prop:"batchName",label:"序号："}},[o("el-input",{ref:"docDescNum",staticClass:"DescNumStyle",attrs:{size:"normal",type:"text","auto-complete":"off",id:"docDescNum",disabled:e.isLocked,placeholder:"文号的序号"},nativeOn:{keydown:function(t){return e.fastNext(t)}},model:{value:e.docForm.docDescNum,callback:function(t){e.$set(e.docForm,"docDescNum",t)},expression:"docForm.docDescNum"}})],1):e._e()],1)],1),"officialJ"==e.docType?o("div",[o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"机构："}},[o("el-select",{attrs:{disabled:e.isLocked,filterable:"",placeholder:"填写或选择机构"},on:{blur:e.docAboutBlur,change:e.docAboutChange},model:{value:e.docForm.docAbout,callback:function(t){e.$set(e.docForm,"docAbout",t)},expression:"docForm.docAbout"}},e._l(e.docAboutTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),"officialJ"==e.docType?o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"机构词："}},[o("el-select",{attrs:{filterable:"",placeholder:"选择或填写机构词",disabled:e.isLocked},on:{blur:e.keywordBlur,change:e.keywordComplete},model:{value:e.docForm.keyword,callback:function(t){e.$set(e.docForm,"keyword",t)},expression:"docForm.keyword"}},e._l(e.keywordTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1):e._e()],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"关键词："}},[o("el-select",{attrs:{disabled:e.isLocked,filterable:"",placeholder:"选择或填写关键词(可不填)"},on:{blur:e.keyword2Blur,change:e.keyword2Complete},model:{value:e.docForm.keyword2,callback:function(t){e.$set(e.docForm,"keyword2",t)},expression:"docForm.keyword2"}},e._l(e.keyword2TipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1)],1):e._e(),"officialJ"!=e.docType?o("div",[o("el-row",{attrs:{gutter:24}},[e.isKJ?o("div",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"项目："}},[o("el-select",{attrs:{filterable:"",placeholder:"填写或选择项目"},on:{blur:e.docAboutBlur,change:e.docAboutChange},model:{value:e.docForm.docAbout,callback:function(t){e.$set(e.docForm,"docAbout",t)},expression:"docForm.docAbout"}},e._l(e.docAboutTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"项目词："}},[o("el-select",{attrs:{filterable:"",placeholder:"选择或填写项目词"},on:{blur:e.keywordBlur,change:e.keywordComplete},model:{value:e.docForm.keyword,callback:function(t){e.$set(e.docForm,"keyword",t)},expression:"docForm.keyword"}},e._l(e.keywordTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1):e._e(),e.isKJ?e._e():o("div",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"问题："}},[o("el-select",{ref:"docAbout",attrs:{id:"docAbout",disabled:e.isLocked,filterable:"",placeholder:"填写或选择问题"},on:{blur:e.docAboutBlur,change:e.docAboutChange},nativeOn:{keydown:function(t){return e.fastNext(t)}},model:{value:e.docForm.docAbout,callback:function(t){e.$set(e.docForm,"docAbout",t)},expression:"docForm.docAbout"}},e._l(e.docAboutTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"问题词："}},[o("el-select",{ref:"keyword",attrs:{id:"keyword",disabled:e.isLocked,filterable:"",placeholder:"选择或填写问题词"},on:{blur:e.keywordBlur,change:e.keywordComplete},nativeOn:{keydown:function(t){return e.fastNext(t)}},model:{value:e.docForm.keyword,callback:function(t){e.$set(e.docForm,"keyword",t)},expression:"docForm.keyword"}},e._l(e.keywordTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1)])],1):e._e(),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"文件级别："}},[o("el-select",{ref:"docLevel",attrs:{id:"docLevel",disabled:e.isLocked,filterable:"",placeholder:"选择文件级别"},on:{change:e.levelCompelete},nativeOn:{keydown:function(t){return e.fastNext(t)}},model:{value:e.docForm.docLevel,callback:function(t){e.$set(e.docForm,"docLevel",t)},expression:"docForm.docLevel"}},e._l(e.docLevels,(function(e){return o("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"文件期限(年)："}},[o("el-select",{ref:"deadline",attrs:{id:"deadline",disabled:e.isLocked,filterable:"",placeholder:"选择文件期限"},nativeOn:{keydown:function(t){return e.fastNext(t)}},model:{value:e.docForm.deadline,callback:function(t){e.$set(e.docForm,"deadline",t)},expression:"docForm.deadline"}},e._l(e.docTimeDues,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{prop:"batchName",label:"责任者："}},[o("el-select",{ref:"dutyAuthor",attrs:{id:"dutyAuthor",disabled:e.isLocked,filterable:"","auto-complete":"off",placeholder:"输入档案责任者"},on:{blur:e.dutyAuthorBlur,change:e.dutyAuthorComplete},nativeOn:{keydown:function(t){return e.fastNext(t)}},model:{value:e.docForm.dutyAuthor,callback:function(t){e.$set(e.docForm,"dutyAuthor",t)},expression:"docForm.dutyAuthor"}},e._l(e.dutyAuthorTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"发文日期："}},[o("el-date-picker",{ref:"docDate",attrs:{type:"date",placeholder:"选择发文日期","value-format":"yyyyMMdd","picker-options":e.pickerOptions,"default-value":e.defaultSelectYear,id:"docDate",disabled:e.isLocked},on:{change:e.selectDateChange},nativeOn:{keydown:function(t){return e.fastNext(t)}},model:{value:e.docForm.docDate,callback:function(t){e.$set(e.docForm,"docDate",t)},expression:"docForm.docDate"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"文件页数："}},[o("el-input",{ref:"docPage",attrs:{size:"normal",type:"text",id:"docPage","auto-complete":"off",placeholder:"根据文件填写"},nativeOn:{keydown:function(t){return e.fastNext(t)}},model:{value:e.docForm.docPage,callback:function(t){e.$set(e.docForm,"docPage",t)},expression:"docForm.docPage"}})],1)],1)],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"文件密级："}},[o("el-select",{ref:"docSecret",attrs:{id:"docSecret",disabled:e.isLocked,filterable:"",placeholder:"选择文件密级"},nativeOn:{keydown:function(t){return e.fastNext(t)}},model:{value:e.docForm.docSecret,callback:function(t){e.$set(e.docForm,"docSecret",t)},expression:"docForm.docSecret"}},e._l(e.docSecrets,(function(e){return o("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"整档年度："}},[o("el-date-picker",{ref:"sortYear",attrs:{type:"year",placeholder:"选择整档年度","value-format":"yyyy","picker-options":e.pickerOptions,id:"sortYear",disabled:e.isLocked},on:{change:e.selectDateChange},nativeOn:{keydown:function(t){return e.fastNext(t)}},model:{value:e.docForm.sortYear,callback:function(t){e.$set(e.docForm,"sortYear",t)},expression:"docForm.sortYear"}})],1)],1)],1),o("el-form-item",{staticClass:"textArea",attrs:{prop:"batchName",label:"备注信息："}},[o("el-input",{ref:"remark",staticClass:"textAreaInput",attrs:{type:"textarea",rows:2,"auto-complete":"off",placeholder:"输入备注",id:"remark"},nativeOn:{keydown:function(t){return e.fastNext(t)}},model:{value:e.docForm.remark,callback:function(t){e.$set(e.docForm,"remark",t)},expression:"docForm.remark"}})],1),o("div",{staticClass:"buttonGroup"},[e.fixDocFlag?o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"40%"},attrs:{size:"big"},on:{click:e.fixDoc}},[e._v("\n          修改档案\n        ")]):e._e(),e.fixDocFlag?e._e():o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"30%"},attrs:{type:"success",size:"big"},on:{click:e.addDoc}},[e._v("\n          添加档案\n        ")]),e.fixDocFlag?e._e():o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"10%"},attrs:{type:"primary",size:"big"},on:{click:e.resetDocIn}},[e._v("\n          清空列表\n        ")]),e.fixDocFlag?e._e():o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"10%"},attrs:{type:"warning\n          ",size:"big"},on:{click:e.goDetail}},[e._v("\n          结束录入\n        ")]),e.fixDocFlag?o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"10%"},attrs:{type:"primary",size:"big"},on:{click:e.cancelFix}},[e._v("\n          取消修改\n        ")]):e._e()])],1),e.isRS?o("el-form",{ref:"docForm",staticClass:"docInForm",attrs:{model:e.docFormRS,"label-width":"10rem"}},[o("div",{staticClass:"docSequenceTip"},[e._v("\n        本份文件唯一识别号："+e._s(this.docFormRS.docSequence)+"\n      ")]),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{prop:"batchName",label:"材料标题："}},[o("el-input",{attrs:{oninput:"titleInput()",size:"normal",type:"text","auto-complete":"off",placeholder:"根据材料填写"},on:{blur:e.titleComplete},model:{value:e.docFormRS.docTitle,callback:function(t){e.$set(e.docFormRS,"docTitle",t)},expression:"docFormRS.docTitle"}})],1)],1)],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"关键词："}},[o("el-select",{attrs:{filterable:"",placeholder:"选择或填写关键词"},on:{blur:e.keywordBlur},model:{value:e.docFormRS.keyword,callback:function(t){e.$set(e.docFormRS,"keyword",t)},expression:"docFormRS.keyword"}},e._l(e.keywordTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"姓名："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"填写姓名"},model:{value:e.docFormRS.personName,callback:function(t){e.$set(e.docFormRS,"personName",t)},expression:"docFormRS.personName"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"材料形成时间："}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyyMMdd","picker-options":e.pickerOptions},model:{value:e.docFormRS.docDate,callback:function(t){e.$set(e.docFormRS,"docDate",t)},expression:"docFormRS.docDate"}})],1)],1)],1),o("el-row",{attrs:{gutter:24}}),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"材料类别："}},[o("el-select",{attrs:{placeholder:"选择材料类别"},model:{value:e.docFormRS.docAbout,callback:function(t){e.$set(e.docFormRS,"docAbout",t)},expression:"docFormRS.docAbout"}},e._l(e.RSTypes,(function(e){return o("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"z",label:"子材料类别："}},[o("el-select",{attrs:{placeholder:"选择子材料类别"},model:{value:e.docFormRS.docAboutSub,callback:function(t){e.$set(e.docFormRS,"docAboutSub",t)},expression:"docFormRS.docAboutSub"}},e._l(e.RSSubTypes,(function(e){return o("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1)],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"文件页数："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"根据文件填写"},model:{value:e.docFormRS.docPage,callback:function(t){e.$set(e.docFormRS,"docPage",t)},expression:"docFormRS.docPage"}})],1)],1)],1),o("el-row",[o("el-form-item",{staticClass:"textArea",attrs:{prop:"batchName",label:"备注信息："}},[o("el-input",{staticClass:"textAreaInput",attrs:{type:"textarea",rows:2,"auto-complete":"off",placeholder:"输入备注"},model:{value:e.docFormRS.remark,callback:function(t){e.$set(e.docFormRS,"remark",t)},expression:"docFormRS.remark"}})],1)],1),o("div",{staticClass:"buttonGroup"},[e.fixDocFlag?o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"30%",width:"4rem"},attrs:{type:"warning"},on:{click:e.fixDocRS}},[e._v("\n          修改档案\n        ")]):e._e(),e.fixDocFlag?e._e():o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"20%",width:"4rem"},attrs:{type:"success"},on:{click:e.addDocRS}},[e._v("\n          添加档案\n        ")]),e.fixDocFlag?e._e():o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"20%",width:"4rem"},attrs:{type:"primary"},on:{click:e.resetDocInRS}},[e._v("\n          清空列表\n        ")]),e.fixDocFlag?e._e():o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"20%",width:"4rem"},on:{click:e.goDetail}},[e._v("\n          结束录入\n        ")]),e.fixDocFlag?o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"10%",width:"4rem"},attrs:{type:"primary"},on:{click:e.cancelFixRS}},[e._v("\n          取消修改\n        ")]):e._e()])],1):e._e()],1)},i=[],n=(o("0c84"),o("e680"),o("4057"),o("1bc7"),o("32ea"),o("46d3")),r=(o("fc02"),o("8dee"),o("3269"),o("430a")),a=new r["default"];console.log("1111111111111111111111"),console.log(a);var c=a,l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"left_history_batches"},[o("div",{staticStyle:{height:"100vh","overflow-x":"hidden"}},[o("vue-scroll",{attrs:{ops:e.ops}},[o("div",{staticStyle:{height:"4.8rem"}}),o("div",{staticStyle:{height:"2rem",position:"relative"}},[o("div",{staticClass:"detailList",staticStyle:{"margin-left":"0.5rem","font-size":"0.9rem"},on:{click:e.goDetail}},[e._v("点击查看本批详情")])]),e._l(this.$store.state.alreadyDocs.filter((function(e){return 1!=e.deleted})),(function(t){return o("div",{key:t.docSequence,staticClass:"leftItem animated fadeInLeft",staticStyle:{width:"60%",height:"2rem",float:"left","box-shadow":"0 0 0.5rem #909399","border-radius":".8rem",cursor:"pointer",position:"relative","padding-left":"35%","font-size":"0.8rem","padding-top":"0.8rem"},on:{click:function(o){return e.checkThisDoc(t)},mouseover:function(t){return e.fixShow()},mouseleave:function(t){return e.fixHide()}}},[o("div",{staticClass:"leftMask",on:{click:function(o){return e.checkThisDoc(t)}}},[e._v("修改")]),o("div",{staticClass:"leftPic"}),o("div",{staticClass:"leftSeq"},[e._v("识别号： "+e._s(t.docSequence))])])}))],2)],1)])},d=[],h=(o("96fa"),{data:function(){return{searchContent:"输入识别号",showFixFlag:!1,ops:{vuescroll:{},scrollPanel:{},rail:{background:"#01a99a",opacity:0,size:"1rem",specifyBorderRadius:!1,gutterOfEnds:null,gutterOfSide:"0",keepShow:!1,border:"none"},bar:{hoverStyle:!0,onlyShowBarOnScroll:!1,background:"rgb(72,72,72)"}}}},methods:{searchTheDoc:function(){var e=this,t="/document/list/page/"+sessionStorage.getItem("docType")+"?pageNow=0&pageSize=100",o={docSequence:this.searchContent,docType:sessionStorage.getItem("docType")};this.postRequest(t,JSON.stringify(o)).then((function(t){e.$store.state.alreadyDocs=t.data.content,e.$router.push("/work/docInputd")}))},goDetail:function(){this.$router.push("/work/docInputd")},emitThisDoc:function(e){this.$store.state.noChufa=!0,c.$emit("changeThisDoc",e)},fixShow:function(){this.showFixFlag=!0},fixHide:function(){this.showFixFlag=!1},checkThisDoc:function(e){console.log("侧边点开的item"),console.log(e),"true"==e.docDescAuthor||1==e.docDescAuthor||"1"==e.docDescAuthor?e.docDescAuthor=!0:e.docDescAuthor=!1,this.emitThisDoc(e)}},beforeDestroy:function(){c.$off("changeThisDoc")}}),u=h,m=(o("ec7f"),o("c736"),o("4ac2")),g=Object(m["a"])(u,l,d,!1,null,"3297037a",null),p=g.exports,f=o("82ae"),v=o.n(f),y={name:"docInput",components:{Left:p},destroyed:function(){console.log(this)},mounted:function(){this.keyCodeForEvent();var e=new Date,t=e.getHours()+"-"+e.getMinutes()+"-"+e.getSeconds();console.log("init 一个 docin"+t),this.initTime=t;var o=this;if(c.$on("changeThisDoc",(function(e){console.log(c),console.log(o);Object.assign({},e);o.docForm=Object.assign({},e),o.docFormRS=Object.assign({},e),o.docForm.docDescAuthor=e.docDescAuthor,""!=e.keword2&&(o.keyword2Check=!0),o.fixDocFlag=!0,o.$store.state.tempDocSeq=e.docSequence,o.$store.state.tempDocId=e.id})),this.$store.state.tempDoc){var s=this.$store.state.tempDoc;console.log("详情页得到的"),console.log(this.$store.state.tempDoc),this.fixDocFlag=!0,console.log(this.$store.state.tempDoc),this.docForm=Object.assign({},this.$store.state.tempDoc),this.docFormRS=Object.assign({},this.$store.state.tempDoc),this.docForm.docDescAuthor=this.$store.state.tempDoc.docDescAuthor,"true"==s.docDescAuthor||1==s.docDescAuthor||"1"==s.docDescAuthor?(console.log("勾选变成t"),this.docForm.docDescAuthor=!0):(console.log("勾选变成false"),this.docForm.docDescAuthor=!1),console.log(this.$store.state.tempDoc.docDescAuthor),""!=this.$store.state.tempDoc.keyword2&&(console.log(this.$store.state.tempDoc.keyword2),this.keyword2Check=!0),this.$store.state.tempDoc=""}else this.genId(6,62);sessionStorage.getItem("secretCache")||this.fixDocFlag||window.sessionStorage.setItem("secretCache","无"),this.fixDocFlag||(this.docForm.sortYear=sessionStorage.getItem("sortYearCache")+""||"",this.defaultSelectYear=this.docForm.sortYear+"-01-01"||!1,this.docForm.docSecret=sessionStorage.getItem("secretCache")+""||""),console.log(sessionStorage.getItem("secretCache"))},watch:{docFormJS:{handler:function(e,t){},deep:!0},docFormRSJS:{handler:function(e,t){"工资、任免、退休材料"==e.docAbout?this.RSSubTypes=this.RSSubTypesOrigin:"学历学位、评聘专业职务材料"==e.docAbout?this.RSSubTypes=[{name:"学历学位材料",value:"学历学位材料"},{name:"职称材料",value:"职称材料"}]:(this.docFormRS.docAboutSub="无",this.RSSubTypes=[{name:"无",value:"无"}]),"学历学位、评聘专业职务材料"==e.docAbout&&"学历学位、评聘专业职务材料"!=t.docAbout&&(this.docFormRS.docAboutSub=""),"工资、任免、退休材料"==e.docAbout&&"工资、任免、退休材料"!=t.docAbout&&(this.docFormRS.docAboutSub="")},deep:!0},keyword_docAboutJsonJS:{handler:function(e,t){var o;for(o in this.keywordTipArr=[],this.keyword_docAboutJson)this.keywordTipArr.push(o)}},docAbout_KeywordArrJsonJS:{handler:function(e,t){var o;for(o in this.docAboutTipArr=[],this.docAbout_KeywordArrJson)this.docAboutTipArr.push(o)}},weightFormJS:{handler:function(e,t){var o;for(o in this.keyword2TipArr=[],this.weightForm.instituteKW2)this.keyword2TipArr.push(o)}}},computed:{authName:function(){return sessionStorage.getItem("authName")},isLocked:function(){return 1==this.$store.state.isEnd},docType:function(){return sessionStorage.getItem("docType")},weightFormJS:function(){return this.weightForm},keyword_docAboutJsonJS:function(){return this.keyword_docAboutJson},docAbout_KeywordArrJsonJS:function(){return this.docAbout_KeywordArrJson},replaceval:function(){},docFormRSJS:function(){return JSON.parse(JSON.stringify(this.docFormRS))},docFormJS:function(){return this.docForm.docTitle},docFormDescJS:function(){return this.docForm.docDesc},isRS:function(){return"personnel"==sessionStorage.getItem("docType")},isKJ:function(){return"science"==sessionStorage.getItem("docType")}},data:function(){return{defaultSelectYear:"2019-01-01",nowId:1,docDescRepeatNum:0,initTime:"",DescWigArr:[],levelTemp:"",docSequenceLock:0,selectDocNoTable:!1,docAboutTipArr:[],keywordTipArr:[],dutyAuthorTipArr:[],keyword2TipArr:[],docAbout_KeywordArrJson:{},keyword_docAboutJson:{},authorKwToDeadlineTable:{},chufa:1,likelyTipShowFlag:!1,matchedDoc:[],wordsNum:3,addDocBtnFlg:!0,kwInTitle:[],rsDocTypeMain:"",matchedKV:[],tipShowFlag:!1,keywordTemp:"",keyword2Temp:"",searchForm:{batchId:sessionStorage.getItem("batchId"),docSequence:"",docTitle:"",docDesc:"",docDate:"",dutyAuthor:"",docType:"",personName:"",authId:""},docFormRS:{id:"",docSequence:"",docType:"",docTitle:"填写标题",docAbout:"",docAboutSub:"",keyword:"关键字",docDate:"",docTypeCode:sessionStorage.getItem("docTypeCode"),docSecret:"",docPage:"",remark:"",docNum:"",personName:"",docDescAuthor:!1},docFormRSKong:{id:"",docSequence:"",docType:"",docTitle:"",docAbout:"",docAboutSub:"",keyword:"",docDate:"",docTypeCode:sessionStorage.getItem("docTypeCode"),docSecret:"",docPage:"",remark:"",docNum:"",personName:"",docDescAuthor:!1},showWaitingFlag:!1,weightForm:{},manageKeyWordTime:1,keyWordEdit:!1,fixDocFlag:!1,RSSubTypesOrigin:[{name:"工资情况材料",value:"工资情况材料"},{name:"任免材料",value:"任免材料"},{name:"出国、出境材料",value:"出国、出境材料"},{name:"各党派、团体代表登记表",value:"各党派、团体代表登记表"},{name:"聘用、录用、转干、转业材料",value:"聘用、录用、转干、转业材料"},{name:"待遇、退（离）休、退职材料",value:"待遇、退（离）休、退职材料"}],RSSubTypes:[{name:"工资情况材料",value:"工资情况材料"},{name:"任免材料",value:"任免材料"},{name:"出国、出境材料",value:"出国、出境材料"},{name:"各党派、团体代表登记表",value:"各党派、团体代表登记表"},{name:"聘用、录用、转干、转业材料",value:"聘用、录用、转干、转业材料"},{name:"待遇、退（离）休、退职材料",value:"待遇、退（离）休、退职材料"}],RSTypes:[{name:"履历材料",value:"履历材料"},{name:"自传材料",value:"自传材料"},{name:"鉴定、考核、考察材料",value:"鉴定、考核、考察材料"},{name:"学历学位、评聘专业职务材料",value:"学历学位、评聘专业职务材料"},{name:"政治历史情况审查材料",value:"政治历史情况审查材料"},{name:"入党入团材料",value:"入党入团材料"},{name:"奖励材料",value:"奖励材料"},{name:"处分材料",value:"处分材料"},{name:"工资、任免、退休材料",value:"工资、任免、退休材料"},{name:"其他可供参考的材料",value:"其他可供参考的材料"}],docLevels:[{name:"部级",value:"部级"},{name:"省级",value:"省级"},{name:"市级",value:"市级"},{name:"县级",value:"县级"},{name:"本级",value:"本级"},{name:"乡级",value:"乡级"}],docTimeDues:[{name:"永久",value:"永久"},{name:"备查",value:"备查"},{name:"长期",value:"长期"},{name:"100年",value:"100年"},{name:"30年",value:"30年"},{name:"10年",value:"10年"}],docSecrets:[{name:"无",value:"无"},{name:"秘密",value:"秘密"},{name:"机密",value:"机密"},{name:"绝密",value:"绝密"}],keyword2Check:!1,docForm:{id:"",docSequence:"",docType:"",docTitle:"",docAbout:"",keyword:"",keyword2:"",docDesc:"",sortYear:sessionStorage.getItem("docTypeCode"),docDate:"",docTypeCode:sessionStorage.getItem("docTypeCode"),docLevel:"",docDescNum:"",dutyAuthor:"",deadline:"",docSecret:"",docPage:"",remark:"",docNum:"",boxNumber:"",docDescAuthor:!0,deleted:0},docFormKong:{id:"",docSequence:"",docType:"",docTitle:"",docAbout:"",keyword:"",docDesc:"",sortYear:"",docDate:"",docTypeCode:"",keyword2:"",docLevel:"",docDescNum:"",dutyAuthor:"",deadline:"",docSecret:"",docPage:"",remark:"",docNum:"",boxNumber:"",docDescAuthor:!0,deleted:0},TempdocSequence:"",aiInput:!0,pickerOptions:{disabledDate:function(e){return e.getTime()<new Date("1980/5/1")}}}},methods:{keyCodeForEvent:function(){var e=this,t=0,o=0;document.onkeydown=function(s){var i=s||event,n=i.keyCode||i.which||i.charCode;17===n&&(t=1,console.log("ctl")),13===n&&(o=1),1===t&&1===o&&(e.addDoc(),t=0,o=0)},document.onkeyup=function(e){17===e.keyCode&&(t=0),13===e.keyCode&&(o=0)}},fastNext:function(e){if(console.log(e),"docDate"!=e.srcElement.id&&"sortYear"!=e.srcElement.id){if("ArrowRight"==e.key){console.log(e);var t=!1,o="";for(var s in this.$refs)if(console.log(s),s==e.srcElement.id&&(t=!0,o=s),t&&this.$refs[s]&&s!=e.srcElement.id){console.log("聚焦于下一个有效的"),this.$refs[s].focus(),this.$refs[o].blur();break}}if("ArrowLeft"==e.key){console.log("pre");t=!1,o="";var i=[];for(var s in this.$refs)i.push(s);for(var n=i.length;n>=0;n--){s=i[n];if(console.log(s),s==e.srcElement.id&&(t=!0,o=s),t&&this.$refs[s]&&s!=e.srcElement.id){console.log("聚焦于shang一个有效的"),this.$refs[s].focus(),this.$refs[o].blur();break}}}}else if("Enter"==e.key)for(var s in this.$refs)if(console.log(s),s==e.srcElement.id&&(t=!0,o=s),t&&this.$refs[s]&&s!=e.srcElement.id){console.log("聚焦于下一个有效的"),this.$refs[s].focus(),this.$refs[o].blur();break}},keyword2CkbChange:function(e){"false"!=e&&e?("true"==e||e)&&(keyword2Check=!0):(this.keyword2Check=!1,this.docForm.keyword2="")},sequenceFocus:function(){},docAboutBlur:function(e){var t=e.target.value;if(this.docForm.docAbout=t,""==this.docForm.docAbout)for(var o in console.log("问题没了，换整个数组"),this.keywordTipArr=[],this.keyword_docAboutJson)this.keywordTipArr.push(o)},docAboutChange:function(){console.log(this.keywordTipArr),console.log(this.docAbout_KeywordArrJson),this.keywordTipArr=this.docAbout_KeywordArrJson[this.docForm.docAbout]},dutyAuthorBlur:function(e){var t=this,o=e.target.value;this.docForm.dutyAuthor=o,this.docForm.dutyAuthor.indexOf(" ")>0&&this.$confirm("检查到了空格，多余空格会影响后续记忆录入， 是否去除","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"好的",cancelButtonText:"保留空格",type:"warning"}).then((function(){t.docForm.dutyAuthor=t.docForm.dutyAuthor.replace(/\s+/g,"")})),this.authorAndKwToDeadline()},keywordBlur:function(e){var t=this,o=e.target.value;this.docForm.keyword=o,this.docFormRS.keyword=o,console.log(o),this.docForm.keyword.indexOf(" ")>-1&&this.$confirm("检查到了空格，多余空格会影响后续记忆录入， 是否去除","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"好的",cancelButtonText:"保留空格",type:"warning"}).then((function(){console.log(t.docForm.keyword),t.docForm.keyword=t.docForm.keyword.replace(/\s+/g,""),console.log(t.docForm.keyword)})),this.authorAndKwToDeadline()},keyword2Blur:function(e){var t=this,o=e.target.value;this.docForm.keyword2=o,console.log(o),this.docForm.keyword2.indexOf(" ")>-1&&this.$confirm("检查到了空格，多余空格会影响后续记忆录入， 是否去除","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"好的",cancelButtonText:"保留空格",type:"warning"}).then((function(){t.docForm.keyword2=t.docForm.keyword2.replace(/\s+/g,"")}))},initTable:function(){},initNull:function(){null==this.weightForm.officialDescAuthor&&(this.weightForm.officialDescAuthor={}),null==this.weightForm.officialLevelKeywordDeadline&&(this.weightForm.officialLevelKeywordDeadline={}),null==this.weightForm.tecDescAuthor&&(this.weightForm.tecDescAuthor={}),null==this.weightForm.tecLevelKeywordDeadline&&(this.weightForm.tecLevelKeywordDeadline={}),null==this.weightForm.busDescAuthor&&(this.weightForm.busDescAuthor={}),null==this.weightForm.busLevelKeywordDeadline&&(this.weightForm.busLevelKeywordDeadline={})},closeDocTip:function(){this.matchKvFunc(),this.likelyTipShowFlag=!1},selectThisDoc:function(e){this.selectDocNoTable=!0;var t,o=e.id;for(var s in this.matchedDoc)if(this.matchedDoc[s].id==o){t=this.matchedDoc[s];break}this.genId(6,62);var i=this.docForm.docTitle,n=this.docFormRS.docTitle;this.likelyTipShowFlag=!1,this.docForm.deadline=t.deadline,this.docForm.keyword=t.keyword,this.docForm.docAbout=t.docAbout,this.docForm.docTitle=i,this.docFormRS.docTitle=n,this.docFormRS.personName=t.personName,this.docFormRS.keyword=t.keyword},likelyHoodQuery:function(){var e=this;if(this.aiInput)if(this.$store.state.noChufa)this.$store.state.noChufa=!1;else{var t=this.docForm.docTitle;""==this.docForm.docTitle&&(t="淦淦淦淦淦淦淦"),this.postRequest("/document/list/fulltext/"+sessionStorage.getItem("docType"),t).then((function(t){0==t.code&&t.data.length>0?(e.likelyTipShowFlag=!0,e.matchedDoc=t.data,e.$message({type:"success",message:"识别出可能相似的文件，助您快速录入，请选择后检查是否需要修改"})):0==t.code&&0==t.data.length&&e.matchKvFunc()}))}},titleInput:function(){console.log(this.docForm.docTitle)},docDescComplete:function(){var e=this;if(""!=this.docForm.docDesc)if(this.docForm.docDesc.length<2)console.log("asdsa");else if(this.fixDocFlag)console.log("修改中啊啊啊啊");else{console.log(this.docForm.docDesc);var t=this.docForm.docDesc.replace(/【/g,"["),o=t.replace(/】/g,"]");o=o.replace(/{/g,"["),o=o.replace(/}/g,"]"),this.docForm.docDesc.indexOf(" ")>0&&this.$confirm("检查到了空格，多余空格会影响后续记忆录入， 是否去除","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"好的",cancelButtonText:"保留空格",type:"warning"}).then((function(){e.docForm.docDesc=e.docForm.docDesc.replace(/\s+/g,"")})),this.docForm.docDesc=o;var s="/document/list/page/"+sessionStorage.getItem("docType")+"?pageNow=0&pageSize=900000",i={batchId:sessionStorage.getItem("batchId"),docDesc:this.docForm.docDesc,docType:sessionStorage.getItem("docType")};if(!this.fixDocFlag){var n;if(this.postRequest(s,JSON.stringify(i)).then((function(t){console.log("输完文号后检查是否重复1111111"),console.log(t);var o=["检查是否重复"];for(var s in t.data.content){var i=t.data.content[s],n=i.docSequence+"-"+i.docTitle+" -"+i.docAbout+"-"+i.docDesc+"-"+i.docDate+"-"+i.dutyAuthor+"-"+i.docPage+"页";o.push(n)}var r=e.$createElement,a=[];for(var c in o)a.push(r("p",null,o[c]));0!=t.data.content.length&&(e.docDescRepeatNum=t.data.content.length,e.$confirm("提示",{message:r("div",null,a),cancelButtonClass:"btn-custom-cancel",confirmButtonText:"没有重复，继续录入",cancelButtonText:"好的，清空",type:"warning"}).catch((function(){e.resetDocIn(),e.showWaitingFlag=!1})))})),o.indexOf("[")>0){var r;n=o.split("[")[0];var a=o.split("[")[1];r=a.split("]")[0],this.isNumber(r)?this.defaultSelectYear=r+"-01-01":this.defaultSelectYear=this.docForm.sortYear+"-01-01"}null!=this.descToAuthor[n]&&(this.$message({type:"success",message:"系统根据对照表识别出责任者"}),this.docForm.dutyAuthor=this.descToAuthor[n]),console.log(this.docForm.docDesc);var c,l,d=this.docForm.docDesc.indexOf("号")-1;if(d>0){c=this.docForm.docDesc.charAt(d);while(d>0&&this.isNumber(c))l=c,d--,c=this.docForm.docDesc.charAt(d)+c;this.docForm.docDescNum=l}}}},keyword2Complete:function(){},keywordComplete:function(){console.log("keyword选择"),this.docForm.docAbout!=this.keyword_docAboutJson[this.docForm.keyword]&&this.$message({type:"success",message:"系统根据对照表识别出问题"}),this.docForm.docAbout=this.keyword_docAboutJson[this.docForm.keyword],this.dutyAuthorComplete()},levelCompelete:function(){"本级"==this.docForm.docLevel&&(this.docForm.dutyAuthor=sessionStorage.getItem("authName"),this.docForm.deadline="永久"),this.dutyAuthorComplete()},authorAndKwToDeadline:function(){console.log(11111111111);var e="";for(var t in this.authorKwToDeadlineTable){console.log(t);var o=this.authorKwToDeadlineTable[t];for(var s in o=JSON.parse(o),o){var i=o[s];console.log(i),i[0]==this.docForm.keyword&&i[1]==this.docForm.dutyAuthor&&(e=t)}}if(console.log(this.authorKwToDeadlineTable),e.length>0){this.$message({type:"success",message:"系统根据对照表识别出保管期限"});var n=e;n=n.split("年")[0],this.docForm.deadline=n}},getRsText:function(e){return 1==e||"1"==e?(this.rsDocTypeMain="履历材料","无"):2==e||"2"==e?(this.rsDocTypeMain="自传材料","无"):3==e||"3"==e?(this.rsDocTypeMain="鉴定、考核、考察材料","无"):4==e||"4"==e?(this.rsDocTypeMain="学历学位、评聘专业职务材料","学历学位材料"):5==e||"5"==e?(this.rsDocTypeMain="学历学位、评聘专业职务材料","职称材料"):6==e||"6"==e?(this.rsDocTypeMain="政治历史情况审查材料","无"):7==e||"7"==e?(this.rsDocTypeMain="入党入团材料","无"):8==e||"8"==e?(this.rsDocTypeMain="奖励材料","无"):9==e||"9"==e?(this.rsDocTypeMain="处分材料","无"):10==e||"10"==e?(this.rsDocTypeMain="工资、任免、退休材料","工资情况材料"):11==e||"11"==e?(this.rsDocTypeMain="工资、任免、退休材料","任免材料"):12==e||"12"==e?(this.rsDocTypeMain="工资、任免、退休材料","出国、出境材料"):13==e||"13"==e?(this.rsDocTypeMain="工资、任免、退休材料","各党派、团体代表登记表"):14==e||"14"==e?(this.rsDocTypeMain="工资、任免、退休材料","聘用、录用、转干、转业材料"):15==e||"15"==e?(this.rsDocTypeMain="工资、任免、退休材料","待遇、退（离）休、退职材料"):16==e||"16"==e?(this.rsDocTypeMain="其他可供参考的材料","无"):void 0},closeTip:function(){this.tipShowFlag=!1},selectDateChange:function(e){var t=this;this.docForm.sortYear&&window.sessionStorage.setItem("sortYearCache",this.docForm.sortYear);var o=this.docForm.docDate.substring(0,4);if(console.log(o),console.log(this.docForm.sortYear),null!=o&&null!=this.docForm.sortYear&&""!=o&&""!=this.docForm.sortYear&&""!=this.docForm.docDate&&(o>this.docForm.sortYear&&this.$confirm("发文日期不能迟于整档年度","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"好的",cancelButtonText:"忽略此条规则",type:"warning"}).then((function(){t.docForm.docDate="20190808",t.docForm.sortYear="2019"})),!this.fixDocFlag)){var s="/document/list/page/"+sessionStorage.getItem("docType")+"?pageNow=0&pageSize=900000";this.searchForm.docType=sessionStorage.getItem("docType"),this.searchForm.docTitle=this.docForm.docTitle,this.searchForm.batchId=sessionStorage.getItem("batchId"),this.searchForm.docDesc=this.docForm.docDesc,this.searchForm.docDate=this.docForm.docDate,this.searchForm.dutyAuthor=this.docForm.dutyAuthor,this.searchForm.personName="";var i=Object.assign({},this.searchForm);for(var n in i)""==i[n]&&delete i[n];this.fixDocFlag||this.postRequest(s,JSON.stringify(i)).then((function(e){console.log("添加前检查是否重复"),console.log(e);var o=["检查重复"];for(var s in e.data.content){var i=e.data.content[s],n=i.docSequence+"-"+i.docTitle+" -"+i.docAbout+"-"+i.docDesc+"-"+i.docDate+"-"+i.dutyAuthor+"-"+i.docPage+"页";o.push(n)}var r=t.$createElement,a=[];for(var c in o)a.push(r("p",null,o[c]));0!=e.data.content.length&&t.$confirm("提示",{message:r("div",null,a),cancelButtonClass:"btn-custom-cancel",confirmButtonText:"没有重复，继续",cancelButtonText:"好的，暂不录入",type:"warning"}).catch((function(e){t.resetDocIn()}))}))}},resetDocInRS:function(){this.docFormRSKong.docSequence=this.docFormRS.docSequence,this.docFormRS=Object.assign({},this.docFormRSKong)},resetDocIn:function(){var e=this.docForm.docSecret,t=this.docForm.sortYear;this.docFormKong.docSequence=this.docForm.docSequence,this.docForm=Object.assign({},this.docFormKong),this.docForm.docSecret=e,this.docForm.sortYear=t},isNumber:function(e){return!isNaN(e)},checkAddRS:function(){return!(!isNumber(this.docFormRS.docPage)||""==this.docFormRS.personName||""==this.docFormRS.docPage||""==this.docFormRS.docDate||""==this.docFormRS.docTitle||""==this.docFormRS.docAboutSub||""==this.docFormRS.docAbout||""==this.docFormRS.keyword)},checkDeadline:function(){var e=this.docTimeDues;return!(e.indexOf(this.docForm.deadline)<0)||(this.$message({type:"error",message:"本批整档没有该保管期限"}),!1)},checkKeyword:function(){},dutyAuthorComplete:function(){this.authorAndKwToDeadline()},checkAdd:function(){var e=this.keyword_docAboutJson[this.docForm.keyword];return console.log(this.keyword_docAboutJson),console.log(e),null==this.docForm.keyword2&&(this.docForm.keyword2=""),this.isNumber(this.docForm.docPage)&&this.isNumber(this.docForm.docDescNum)&&""!=this.docForm.docTitle&&""!=this.docForm.keyword&&""!=this.docForm.sortYear&&""!=this.docForm.docAbout&&""!=this.docForm.docDate&&""!=this.docForm.docLevel&&""!=this.docForm.dutyAuthor&&""!=this.docForm.docPage&&""!=this.docForm.deadline&&""!=this.docForm.docSecret?this.docForm.docDescAuthor&&""==this.docForm.docDesc&&""==this.docForm.docDescNum?(this.$message({type:"error",message:"填写文号序号信息"}),!1):!e||e==this.docForm.docAbout||(this.$message({type:"error",message:"关键词和问题与对照表不符合，请修改或前往对照表修改"}),!1):(this.$message({type:"error",message:"填写检查"}),!1)},fixDocRS:function(){var e,t=this;"履历材料"==this.docFormRS.docAbout?e=1:"自传材料"==this.docFormRS.docAbout?e=2:"鉴定、考核、考察材料"==this.docFormRS.docAbout?e=3:"政治历史情况审查材料"==this.docFormRS.docAbout?e=6:"入党入团材料"==this.docFormRS.docAbout?e=7:"奖励材料"==this.docFormRS.docAbout?e=8:"处分材料"==this.docFormRS.docAbout?e=9:"其他可供参考的材料"==this.docFormRS.docAbout&&(e=16),"学历学位材料"==this.docFormRS.docAboutSub?e=4:"职称材料"==this.docFormRS.docAboutSub&&(e=5),"工资情况材料"==this.docFormRS.docAboutSub&&(e=10),"任免材料"==this.docFormRS.docAboutSub&&(e=11),"出国、出境材料"==this.docFormRS.docAboutSub&&(e=12),"各党派、团体代表登记表"==this.docFormRS.docAboutSub&&(e=13),"聘用、录用、转干、转业材料"==this.docFormRS.docAboutSub&&(e=14),"待遇、退（离）休、退职材料"==this.docFormRS.docAboutSub&&(e=15);var o={deleted:0,userId:sessionStorage.getItem("userIdNum"),authId:sessionStorage.getItem("authId"),batchId:sessionStorage.getItem("batchId"),docDate:this.docFormRS.docDate,docNum:"",docPage:this.docFormRS.docPage,docSequence:this.docFormRS.docSequence,docTitle:this.docFormRS.docTitle,docType:sessionStorage.getItem("docType"),keyword:this.docFormRS.keyword,docAbout:this.docFormRS.docAbout,docAboutSub:this.docFormRS.docAboutSub,personName:this.docFormRS.personName,personJob:e,remark:this.docFormRS.remark,docTypeCode:sessionStorage.getItem("docTypeCode")};if(this.checkAddRS()){var s;this.showWaitingFlag=!0;var i="/document/"+sessionStorage.getItem("docType")+"/"+this.$store.state.tempDocId;this.putRequest(i,JSON.stringify(o)).then((function(i){if(console.log("修改人事文件"),console.log(o),console.log("修改人事文件的结果"),console.log(i),0==i.code){var n;t.weightForm.perKeywordWig&&t.getRequest("/weight/sort/"+t.weightForm.perKeywordWig).then((function(o){n=o.data.tables;var i=t.docFormRS.keyword;s=o.keywordIssue,null==s&&(s={}),s[i]=e,null==n[i]&&(n[i]="0")})).then((function(e){var o={authId:sessionStorage.getItem("authId"),type:41,tables:n,keywordIssue:s};t.putRequest("/weight/"+t.weightForm.perKeywordWig,o).then((function(e){console.log("更新人事关键词权重表"),console.log(e),t.showWaitingFlag=!1}))}));for(var r=t.$store.state.alreadyDocs.length||0,a=t.$store.state.alreadyDocs,c=0;c<r;c++)if(a[c].docSequence==t.$store.state.tempDocSeq){a.splice(c,1);break}t.$store.state.alreadyDocs.unshift(Object.assign({},t.docFormRS))}})).then((function(e){t.docFormRS.docTitle="",t.docFormRS.docPage="",t.genId(6,62),t.docFormRS.docDate.replace("-",""),t.showWaitingFlag=!1})),this.$store.state.sortedFlag=!1}else this.showWaitingFlag=!1,this.$message({type:"error",message:"填写检查"})},fixDoc:function(){var e=this;if(this.showWaitingFlag=!0,this.checkAdd()&&this.checkDeadline()){var t,o;o=this.docForm.docDescAuthor?this.docForm.docDescNum&&null!=this.docForm.docDescNum&&""!=this.docForm.docDescNum?this.docForm.docDescNum:99998:99999,this.isNumber(this.docForm.docNum)||(this.docForm.docNum=0),this.isNumber(this.docForm.boxSeq)||(this.docForm.boxSeq=0);var s=(t={deleted:0,keyword2:this.docForm.keyword2,userId:sessionStorage.getItem("userIdNum"),authId:sessionStorage.getItem("authId"),batchId:sessionStorage.getItem("batchId"),docDate:this.docForm.docDate,docNum:this.docForm.docNum,boxSeq:this.docForm.boxSeq,docPage:this.docForm.docPage,docSequence:this.docForm.docSequence,docTitle:this.docForm.docTitle,docType:sessionStorage.getItem("docType"),keyword:this.docForm.keyword,remark:this.docForm.remark,deadline:this.docForm.deadline,docAbout:this.docForm.docAbout,docDesc:this.docForm.docDesc,pageTotal:this.docForm.pageTotal,printed:this.docForm.printed},Object(n["a"])(t,"docPage",this.docForm.docPage),Object(n["a"])(t,"docDescNum",o),Object(n["a"])(t,"docDescAuthor",this.docForm.docDescAuthor),Object(n["a"])(t,"docLevel",this.docForm.docLevel),Object(n["a"])(t,"docSecret",this.docForm.docSecret),Object(n["a"])(t,"docTypeCode",sessionStorage.getItem("docTypeCode")),Object(n["a"])(t,"dutyAuthor",this.docForm.dutyAuthor),Object(n["a"])(t,"sortYear",this.docForm.sortYear),t);1!=this.docForm.docDescAuthor&&(s.docDesc="",s.docDescNum=99999);var i="/document/"+sessionStorage.getItem("docType")+"/"+this.docForm.id;this.putRequest(i,JSON.stringify(s)).then((function(t){if(console.log("修改文件"),console.log(s),console.log("修改文件的结果"),console.log(t),0==t.code){var o,i,n=e.$store.state.alreadyDocs.length||0,r=e.$store.state.alreadyDocs;for(o=0;o<n;o++)if(r[o].docSequence==e.docForm.docSequence){r.splice(o,1);break}if(e.$store.state.isEnd)for(e.$store.state.alreadyDocs.splice(o,0,Object.assign({},s)),i=o;i<n;i++){if(r[i].boxSeq!=(r[i+1].boxSeq||0)){r[i].pageTotal="";break}r[i].pageTotal=""}else e.docForm.docNum="暂无",e.docForm.boxSeq="暂无",e.$store.state.alreadyDocs.splice(0,0,Object.assign({},e.docForm));e.fixDocFlag=!1,e.showWaitingFlag=!1,e.keywordTemp=e.docForm.keyword.trim(),e.keyword2Temp=e.docForm.keyword2.trim(),e.dutyAuthorTemp=e.docForm.dutyAuthor,e.levelTemp=e.docForm.docLevel,e.docAboutTemp=e.docForm.docAbout.trim(),e.optThreeWeightTable()}})).then((function(){e.docForm.docAbout="",e.docForm.deadline="",e.docForm.docLevel="",e.docForm.dutyAuthor="",e.keyWordEdit=!1,e.docForm.keyword="",e.genId(6,62),e.docForm.docSecrets="无",e.docForm.docDate="",e.docForm.docTitle="",e.docForm.docDescAuthor=!0,e.keyword2Check=!1,e.docForm.keword2="",e.docForm.docDescNum="",e.docForm.docDesc="",e.docForm.docDescNum="",e.docForm.docPage=""})),this.$store.state.sortedFlag=!1}else this.showWaitingFlag=!1},goDetail:function(){this.$store.state.organ=this.weightForm,console.log(this.$store.state.organ),this.$router.push("/work/docInputd")},docDescChange:function(e){"false"!=e&&e?("true"==e||e)&&(this.docForm.docDescAuthor=!0,this.docForm.docDesc="",this.docForm.docDescNum=""):(this.docForm.docDescAuthor=!1,this.docForm.docDesc="",this.docForm.docDescNum="")},cancelFixRS:function(){this.$store.state.noChufa=!1,this.tipShowFlag=!1,this.keyWordEdit=!1,this.docFormRS.keyword="",this.docFormRS.personName="",this.genId(6,62),this.docForm.remark="",this.docFormRS.docDate.replace("-",""),this.docFormRS.docTitle="",this.docFormRS.docPage="",this.docFormRS.docAboutSub="",this.docFormRS.docAbout="",this.fixDocFlag=!1},cancelFix:function(){this.$store.state.noChufa=!1,this.fixDocFlag=!1,this.genId(6,62),this.keyWordEdit=!1,this.resetDocIn()},addRS:function(){},optSubmitRS:function(){var e,t=this;"履历材料"==this.docFormRS.docAbout?e=1:"自传材料"==this.docFormRS.docAbout?e=2:"鉴定、考核、考察材料"==this.docFormRS.docAbout?e=3:"政治历史情况审查材料"==this.docFormRS.docAbout?e=6:"入党入团材料"==this.docFormRS.docAbout?e=7:"奖励材料"==this.docFormRS.docAbout?e=8:"处分材料"==this.docFormRS.docAbout?e=9:"其他可供参考的材料"==this.docFormRS.docAbout&&(e=16),"学历学位材料"==this.docFormRS.docAboutSub?e=4:"职称材料"==this.docFormRS.docAboutSub&&(e=5),"工资情况材料"==this.docFormRS.docAboutSub&&(e=10),"任免材料"==this.docFormRS.docAboutSub&&(e=11),"出国、出境材料"==this.docFormRS.docAboutSub&&(e=12),"各党派、团体代表登记表"==this.docFormRS.docAboutSub&&(e=13),"聘用、录用、转干、转业材料"==this.docFormRS.docAboutSub&&(e=14),"待遇、退（离）休、退职材料"==this.docFormRS.docAboutSub&&(e=15);var o,s={deleted:0,userId:sessionStorage.getItem("userIdNum"),authId:sessionStorage.getItem("authId"),batchId:sessionStorage.getItem("batchId"),docDate:this.docFormRS.docDate,docNum:"",docPage:this.docFormRS.docPage,docSequence:this.docFormRS.docSequence,docTitle:this.docFormRS.docTitle,docType:sessionStorage.getItem("docType"),keyword:this.docFormRS.keyword,docAbout:this.docFormRS.docAbout,docAboutSub:this.docFormRS.docAboutSub,personName:this.docFormRS.personName,personJob:e,remark:this.docFormRS.remark,docTypeCode:sessionStorage.getItem("docTypeCode")},i="/document/"+sessionStorage.getItem("docType");this.postRequest(i,JSON.stringify(s)).then((function(e){console.log("tijiao人事文件"),console.log(s),console.log("tijiao人事文件的结果"),console.log(e),t.docFormRS.id=e.data.id})).then((function(s){var i;t.weightForm.perKeywordWig&&t.getRequest("/weight/sort/"+t.weightForm.perKeywordWig).then((function(s){i=s.data.tables;var n=t.docFormRS.keyword;o=s.data.keywordIssue,null==o&&(o={}),o[n]=e,null==i[n]&&(i[n]="0")})).then((function(e){var s={authId:sessionStorage.getItem("authId"),type:41,tables:i,keywordIssue:o};t.putRequest("/weight/"+t.weightForm.perKeywordWig,s).then((function(e){console.log("更新人事关键词权重表"),console.log(e),t.showWaitingFlag=!1}))})),t.$store.state.alreadyDocs.unshift(Object.assign({},t.docFormRS)),t.docFormRS.docTitle="",t.docFormRS.docPage="",t.genId(6,62),t.docFormRS.docDate.replace("-","")}))},addDocTimer:function(){this.addDocBtnFlg=!1;var e=this;setTimeout((function(){e.addDocBtnFlg=!0}),2e3)},addDocRS:function(){var e=this;if(this.tipShowFlag=!1,this.addDocBtnFlg)if(this.addDocTimer(),this.checkAddRS()){this.showWaitingFlag=!0;var t="/document/list/page/"+sessionStorage.getItem("docType")+"?pageNow=0&pageSize=900000";this.searchForm.docType=sessionStorage.getItem("docType"),this.searchForm.personName=this.docFormRS.personName,this.searchForm.docTitle=this.docFormRS.docTitle,this.searchForm.batchId="",this.searchForm.authId=sessionStorage.getItem("authId"),this.searchForm.docDate=this.docFormRS.docDate,this.searchForm.dutyAuthor="",this.searchForm.docDesc="",this.docForm.docDescNum="";var o=Object.assign({},this.searchForm);for(var s in o)""==o[s]&&delete o[s];this.postRequest(t,JSON.stringify(o)).then((function(t){console.log("添加前检查是否重复"),console.log(t);var o=[];for(var s in t.data.content){var i=t.data.content[s],n=i.docSequence+"题名："+i.docTitle+"\nabout："+i.docAbout+",文号："+i.docDesc+",日期："+i.docDate+",责任者"+i.dutyAuthor+",页数："+i.docPage;o.push(n)}0!=t.data.content.length?e.$confirm("请检查是否录入重复："+o,"提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"没有重复，录入此条",cancelButtonText:"好的，暂不录入",type:"warning"}).then((function(){e.optSubmitRS()})).catch((function(){e.resetDocIn(),e.showWaitingFlag=!1})):e.optSubmitRS()})),this.$store.state.sortedFlag=!1}else this.$message({type:"error",message:"填写完整"});else console.log(this.addDocBtnFlg)},addDoc:function(){var e=this;if(window.sessionStorage.setItem("sortYearCache",this.docForm.sortYear),window.sessionStorage.setItem("secretCache",this.docForm.docSecret),this.selectDocNoTable=!1,this.tipShowFlag=!1,this.addDocBtnFlg)if(this.addDocTimer(),this.checkAdd()&&this.checkDeadline()){var t,o;this.showWaitingFlag=!0,o=this.docForm.docDescAuthor?this.docForm.docDescNum&&null!=this.docForm.docDescNum&&""!=this.docForm.docDescNum?this.docForm.docDescNum:99998:99999,null==this.docForm.keyword2&&(this.docForm.keyword2="");var s=(t={deleted:0,keyword2:this.docForm.keyword2.trim(),userId:sessionStorage.getItem("userIdNum"),authId:sessionStorage.getItem("authId"),batchId:sessionStorage.getItem("batchId"),docDate:this.docForm.docDate,docNum:"",docPage:this.docForm.docPage,docSequence:this.docForm.docSequence,docTitle:this.docForm.docTitle,docType:sessionStorage.getItem("docType"),keyword:this.docForm.keyword.trim(),remark:this.docForm.remark,deadline:this.docForm.deadline,docAbout:this.docForm.docAbout.trim(),docDesc:this.docForm.docDesc.trim()},Object(n["a"])(t,"docPage",this.docForm.docPage),Object(n["a"])(t,"docDescNum",o),Object(n["a"])(t,"docDescAuthor",this.docForm.docDescAuthor),Object(n["a"])(t,"docLevel",this.docForm.docLevel),Object(n["a"])(t,"docSecret",this.docForm.docSecret),Object(n["a"])(t,"docTypeCode",sessionStorage.getItem("docTypeCode")),Object(n["a"])(t,"dutyAuthor",this.docForm.dutyAuthor.trim()),Object(n["a"])(t,"sortYear",this.docForm.sortYear),t),i="/document/list/page/"+sessionStorage.getItem("docType")+"?pageNow=0&pageSize=900000";this.searchForm.docType=sessionStorage.getItem("docType"),this.searchForm.docTitle=this.docForm.docTitle,this.searchForm.docDesc=this.docForm.docDesc,this.searchForm.docDate=this.docForm.docDate,this.searchForm.dutyAuthor=this.docForm.dutyAuthor,this.searchForm.personName="",this.searchForm.authId=sessionStorage.getItem("authId"),this.searchForm.batchId="";var r=Object.assign({},this.searchForm);for(var a in r)""==r[a]&&delete r[a];this.postRequest(i,JSON.stringify(r)).then((function(t){console.log("添加前检查是否重复"),console.log(t);var o=["检查重复"];for(var i in t.data.content){var n=t.data.content[i],r=n.docSequence+"-"+n.docTitle+" -"+n.docAbout+"-"+n.docDesc+"-"+n.docDate+"-"+n.dutyAuthor+"-"+n.docPage+"页";n.authId!=sessionStorage.getItem("authId")&&(r+="（--上批次文件，特别检查）"),o.push(r)}var a=e.$createElement,c=[];for(var l in o)c.push(a("p",null,o[l]));if(0!=t.data.content.length)e.$confirm("提示",{message:a("div",null,c),cancelButtonClass:"btn-custom-cancel",confirmButtonText:"没有重复，录入此条",cancelButtonText:"好的，暂不录入",type:"warning"}).then((function(){var t="/document/"+sessionStorage.getItem("docType");e.postRequest(t,JSON.stringify(s)).then((function(t){console.log("tijiao文件"),console.log(s),console.log("tijiao文件的结果"),console.log(t),e.docForm.id=t.data.id})).then((function(t){e.keywordTemp=e.docForm.keyword.trim(),e.keyword2Temp=e.docForm.keyword2.trim(),console.log(e.keyword2Temp),e.dutyAuthorTemp=e.docForm.dutyAuthor.trim(),e.levelTemp=e.docForm.docLevel,e.docAboutTemp=e.docForm.docAbout.trim(),e.optThreeWeightTable(),e.$store.state.alreadyDocs.unshift(Object.assign({},e.docForm)),e.keyWordEdit=!1,e.docForm.docDescAuthor=!0,e.keyword2Check=!1,e.docForm.keword2="",e.docForm.keyword="",e.docForm.docAbout="",e.docForm.deadline="",e.docForm.docLevel="",e.docForm.dutyAuthor="",e.docForm.docDate="",e.genId(6,62),e.docForm.remark="",e.docDescNum="",e.docForm.docDate.replace("-",""),e.docForm.docSecrets="无",console.log(e.docForm),e.docForm.docTitle="",e.docForm.docPage="",e.docForm.docDesc="",e.docForm.docDescNum="",e.docForm.keyword2=""}))})).catch((function(){e.resetDocIn(),e.showWaitingFlag=!1}));else{var d="/document/"+sessionStorage.getItem("docType");e.postRequest(d,JSON.stringify(s)).then((function(t){console.log("tijiao文件"),console.log(s),console.log("tijiao文件的结果"),console.log(t),e.docForm.id=t.data.id})).then((function(t){e.keywordTemp=e.docForm.keyword.trim(),e.keyword2Temp=e.docForm.keyword2.trim(),e.dutyAuthorTemp=e.docForm.dutyAuthor,e.levelTemp=e.docForm.docLevel,e.docAboutTemp=e.docForm.docAbout.trim(),e.optThreeWeightTable(),e.$store.state.alreadyDocs.unshift(Object.assign({},e.docForm)),e.keyWordEdit=!1,e.docForm.docDescAuthor=!0,e.keyword2Check=!1,e.docForm.keword2="",e.docForm.keyword="",e.docForm.docAbout="",e.docForm.deadline="",e.docForm.docLevel="",e.docForm.dutyAuthor="",e.docForm.docDate="",e.docForm.docDesc="",e.docForm.docDescNum="",e.genId(6,62),e.docForm.remark="",e.docForm.docDate.replace("-",""),e.docForm.docSecrets="无",console.log(e.docForm),e.docForm.docTitle="",e.docForm.docPage=""}))}})),this.$store.state.sortedFlag=!1}else this.showWaitingFlag=!1;else console.log(this.addDocBtnFlg)},optDescTable:function(e){var t=this;console.log(""),console.log(this.keyword2Temp);var o="";1!=this.docForm.docDescAuthor&&"true"!=this.docForm.docDescAuthor||(console.log("文号有！"),this.docForm.docDesc.split("[").length>1&&(console.log("分割[得到两段"),o=this.docForm.docDesc.split("[")[0])),console.log(o);var s=!1,i=this.weightForm[e];null==i&&(i={}),o=o.replace(/\d+/g,"");var n=Object.keys(i).length;null==i[o]&&(i[o]=n+1+"",s=!0),s&&this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(e){console.log("修改单位表的文号权重表"),console.log(e),t.weightForm=e.data}))},optDescKwTable:function(e,t){console.log("操作机构法文号权重表和关键词2"),console.log(this.keyword2Temp);var o="";1!=this.docForm.docDescAuthor&&"true"!=this.docForm.docDescAuthor||(console.log("文号有！"),console.log(this.weightForm),this.docForm.docDesc.split("[").length>1&&(console.log("分割[得到两段"),o=this.docForm.docDesc.split("[")[0])),console.log(o);var s=!1,i=this.weightForm[e];null==i&&(i={}),o=o.replace(/\d+/g,"");var n=Object.keys(i).length;null==i[o]&&(i[o]=n+1+"",s=!0);var r=this.weightForm[t],a=this.keyword2Temp;console.log(this.weightForm),console.log(this.keyword2Temp),null==r&&(r={});var c=Object.keys(r).length;null==r[a]&&a.trim().length>0&&(r[a]=c+1+"",s=!0),console.log(s),s&&this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(e){console.log("修改单位表的文号权重表"),console.log(e)}))},optThreeWeightTable:function(){var e,t,o,s=this;console.log("进opt"),this.dutyAuthorTipArr.indexOf(this.docForm.dutyAuthor)<0&&this.dutyAuthorTipArr.push(this.docForm.dutyAuthor);var i,n,r,a,c,l=this.keywordTemp;("official"==sessionStorage.getItem("docType")&&(e=11,t=12,o=13),"science"==sessionStorage.getItem("docType")&&(e=21,t=22,o=23),"business"==sessionStorage.getItem("docType")&&(e=31,t=32,o=33),"officialJ"==sessionStorage.getItem("docType")&&(e=51,t=52,o=53),"officialJ"==sessionStorage.getItem("docType"))&&(this.optDescKwTable("officialDescWig","instituteKW2"),this.weightForm.docIssueWig&&(this.getRequest("/weight/"+this.weightForm.docIssuejWig).then((function(e){i=e.data.tables;var t=s.docAboutTemp;if(null==i[t]&&(i[t]="0"),n=e.data.issueKeyword,console.log(e),null==n[t]){var o=[];o.push(l),n[t]=o}else n[t].indexOf(l)<0&&n[t].push(l)})).then((function(t){var o={authId:sessionStorage.getItem("authId"),type:e,tables:i,issueKeyword:n};s.putRequest("/weight/"+s.weightForm.docIssuejWig,o).then((function(e){console.log("更新文书问题权重表"),console.log(e),s.docAbout_KeywordArrJson=e.data.issueKeyword}))})),this.getRequest("/weight/"+this.weightForm.docAuthorjWig).then((function(e){r=e.data.tables;var t=s.dutyAuthorTemp;null==r[t]&&(r[t]={},console.log(r),r[t].value="1",r[t].level=s.levelTemp,r[t]=JSON.stringify(r[t]),console.log(r))})).then((function(e){var o={authId:sessionStorage.getItem("authId"),type:t,tables:r,issueKeyword:{},keywordIssue:{}};s.putRequest("/weight/"+s.weightForm.docAuthorjWig,o).then((function(e){console.log("更新文书jigoufa责任者权重表"),console.log(e)}))})),this.getRequest("/weight/keywordSort/"+this.weightForm.docKeywordjWig).then((function(e){a=e.data.tables,c=e.data.keywordIssue;var t=s.keywordTemp;null==a[t]&&(a[t]="0"),null==c[t]&&(c[t]=s.docAboutTemp),console.log(t),console.log(a)})).then((function(e){var t={authId:sessionStorage.getItem("authId"),type:o,tables:a,keywordIssue:c};s.putRequest("/weight/"+s.weightForm.docKeywordjWig,t).then((function(e){console.log("更新文书机构法关键词权重表"),console.log(e),s.keyword_docAboutJson=e.data.keywordIssue}))})).then((function(e){s.showWaitingFlag=!1}))));"official"==sessionStorage.getItem("docType")&&(this.optDescTable("officialDescWig"),this.weightForm.docIssueWig&&(this.getRequest("/weight/"+this.weightForm.docIssueWig).then((function(e){i=e.data.tables;var t=s.docAboutTemp;if(null==i[t]&&(i[t]="0"),n=e.data.issueKeyword,console.log(e),null==n[t]){var o=[];o.push(l),n[t]=o}else n[t].indexOf(l)<0&&n[t].push(l)})).then((function(t){var o={authId:sessionStorage.getItem("authId"),type:e,tables:i,issueKeyword:n};s.putRequest("/weight/"+s.weightForm.docIssueWig,o).then((function(e){console.log("更新文书问题权重表"),console.log(e),s.docAbout_KeywordArrJson=e.data.issueKeyword}))})),this.getRequest("/weight/"+this.weightForm.docAuthorWig).then((function(e){r=e.data.tables;var t=s.dutyAuthorTemp;null==r[t]&&(r[t]={},console.log(r),r[t].value="1",r[t].level=s.levelTemp,r[t]=JSON.stringify(r[t]),console.log(r))})).then((function(e){var o={authId:sessionStorage.getItem("authId"),type:t,tables:r,issueKeyword:{},keywordIssue:{}};s.putRequest("/weight/"+s.weightForm.docAuthorWig,o).then((function(e){console.log("更新文书责任者权重表"),console.log(e)}))})),this.getRequest("/weight/keywordSort/"+this.weightForm.docKeywordWig).then((function(e){a=e.data.tables,c=e.data.keywordIssue;var t=s.keywordTemp;null==a[t]&&(a[t]="0"),null==c[t]&&(c[t]=s.docAboutTemp),console.log(t),console.log(a)})).then((function(e){var t={authId:sessionStorage.getItem("authId"),type:o,tables:a,keywordIssue:c};s.putRequest("/weight/"+s.weightForm.docKeywordWig,t).then((function(e){console.log("更新文书关键词权重表"),console.log(e),s.keyword_docAboutJson=e.data.keywordIssue}))})).then((function(e){s.showWaitingFlag=!1}))));"business"==sessionStorage.getItem("docType")&&(this.optDescTable("busDescWig"),this.weightForm.busProjectWig&&(this.getRequest("/weight/"+this.weightForm.busProjectWig).then((function(e){i=e.data.tables;var t=s.docAboutTemp;if(null==i[t]&&(i[t]="0"),n=e.data.issueKeyword,null==n[t]){var o=[];o.push(l),n[t]=o}else n[t].indexOf(l)<0&&n[t].push(l)})).then((function(t){var o={authId:sessionStorage.getItem("authId"),type:e,tables:i,issueKeyword:n};console.log(o),s.putRequest("/weight/"+s.weightForm.busProjectWig,o).then((function(e){console.log("更新yewu问题权重表"),console.log(e),s.docAbout_KeywordArrJson=e.data.issueKeyword}))})),this.getRequest("/weight/sort/"+this.weightForm.busAuthorWig).then((function(e){r=e.data.tables;var t=s.dutyAuthorTemp;null==r[t]&&(r[t]={},console.log(r),r[t].value="1",r[t].level=s.levelTemp,r[t]=JSON.stringify(r[t]),console.log(r))})).then((function(e){var o={authId:sessionStorage.getItem("authId"),type:t,tables:r,issueKeyword:{},keywordIssue:{}};s.putRequest("/weight/"+s.weightForm.busAuthorWig,o).then((function(e){console.log("更新文书责任者权重表"),console.log(e)}))})),this.getRequest("/weight/keywordSort/"+this.weightForm.busKeywordWig).then((function(e){a=e.data.tables,c=e.data.keywordIssue;var t=l;null==a[t]&&(a[t]="0"),null==c[t]&&(c[t]=s.docAboutTemp),console.log(t),console.log(a)})).then((function(e){var t={authId:sessionStorage.getItem("authId"),type:o,tables:a,keywordIssue:c};s.putRequest("/weight/"+s.weightForm.busKeywordWig,t).then((function(e){console.log("更新业务关键词权重表"),console.log(e),s.keyword_docAboutJson=e.data.keywordIssue}))})).then((function(e){s.showWaitingFlag=!1}))));"science"==sessionStorage.getItem("docType")&&(this.optDescTable("tecDescWig"),this.weightForm.tecProjectWig&&(this.getRequest("/weight/sort/"+this.weightForm.tecProjectWig).then((function(e){i=e.data.tables;var t=s.docAboutTemp;if(null==i[t]&&(i[t]="0"),n=e.data.issueKeyword,null==n[t]){var o=[];o.push(l),n[t]=o}else n[t].indexOf(l)<0&&n[t].push(l)})).then((function(t){var o={authId:sessionStorage.getItem("authId"),type:e,tables:i,issueKeyword:n};console.log(o),s.putRequest("/weight/"+s.weightForm.tecProjectWig,o).then((function(e){console.log("更新科技问题权重表"),console.log(e),s.docAbout_KeywordArrJson=e.data.issueKeyword}))})),this.getRequest("/weight/sort/"+this.weightForm.tecAuthorWig).then((function(e){r=e.data.tables;var t=s.dutyAuthorTemp;null==r[t]&&(r[t]={},console.log(r),r[t].value="1",r[t].level=s.levelTemp,r[t]=JSON.stringify(r[t]),console.log(r))})).then((function(e){var o={authId:sessionStorage.getItem("authId"),type:t,tables:r,issueKeyword:{},keywordIssue:{}};s.putRequest("/weight/"+s.weightForm.tecAuthorWig,o).then((function(e){console.log("更新科技责任者权重表"),console.log(e)}))})),this.getRequest("/weight/keywordSort/"+this.weightForm.tecKeywordWig).then((function(e){a=e.data.tables,c=e.data.keywordIssue;var t=l;null==a[t]&&(a[t]="0"),null==c[t]&&(c[t]=s.docAboutTemp),console.log(t),console.log(a)})).then((function(e){var t={authId:sessionStorage.getItem("authId"),type:o,tables:a,keywordIssue:c};s.putRequest("/weight/"+s.weightForm.tecKeywordWig,t).then((function(e){console.log("更新科技关键词权重表"),console.log(e),s.keyword_docAboutJson=e.data.keywordIssue}))})).then((function(e){s.showWaitingFlag=!1}))))},docAboutBlur1:function(){var e=this;if(""!=this.docForm.keyword&&""!=this.docForm.docAbout){this.manageKeyWordTime++,this.manageKeyWordTime%10==0&&this.$confirm("检测到一些新的关键字："+this.docForm.keyword+" , 和对应分类"+this.docForm.docAbout+"，是否添加入库，以便更快录入","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"前往管理",cancelButtonText:"我稍后前往",type:"warning"}).then((function(){e.$router.push("/work/keyWM")})).catch((function(){}))}},weightFormKeywordCode:function(){var e=sessionStorage.getItem("docType");return"official"==e?this.weightForm.docKeywordWig:"business"==e?this.weightForm.busKeywordWig:"science"==e?this.weightForm.tecKeywordWig:"personnel"==e?this.weightForm.perKeywordWig:"officialJ"==e?this.weightForm.docKeywordjWig:void 0},matchKvFunc:function(){var e,t=this;v.a.get(this.baseurl+"/weight/map/"+this.weightFormKeywordCode(),{headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:window.localStorage.getItem("token")?window.localStorage.getItem("token").split('"')[1]||window.localStorage.getItem("token"):null},params:{title:"personnel"==sessionStorage.getItem("docType")?this.docFormRS.docTitle:this.docForm.docTitle}}).then((function(o){for(var s in t.matchedKV=[],null==o.data&&(o.data=e),console.log(o),o.data)if("personnel"==sessionStorage.getItem("docType")){for(var i in console.log(2),splitArr){console.log(splitArr[i]);var n=t.getRsText(splitArr[i]);console.log(n),t.matchedKV.push([s,t.rsDocTypeMain,n])}console.log(t.matchedKV)}else t.matchedKV.push([s,o.data[s]]);console.log(t.matchedKV),console.log(t.matchedKV.length),1==t.matchedKV.length?(console.log("zhiyou1ge"),"personnel"==sessionStorage.getItem("docType")?(t.docFormRS.docAboutSub=t.matchedKV[0][2],t.docFormRS.docAbout=t.matchedKV[0][1]):(t.docForm.docAbout=t.matchedKV[0][1],t.docForm.keyword=t.matchedKV[0][0])):t.matchedKV.length>1&&(t.tipShowFlag=!0)})),this.matchedKV.length>0&&this.$message({type:"success",message:"没有合适的历史文件匹配，根据您的对照表匹配了关键词"})},selectThisTip:function(e){this.docForm.docAbout=e[1],this.docForm.keyword=e[0],"personnel"==sessionStorage.getItem("docType")&&(this.docFormRS.docAbout=e[1],this.docFormRS.docAboutSub=e[2],this.docForm.keyword=e[0]),this.tipShowFlag=!1},titleComplete:function(){this.defaultSelectYear=this.docForm.sortYear+"-01-01",this.matchedDoc=[],this.fixDocFlag||(""==this.docForm.docTitle?this.keyWordEdit=!1:this.keyWordEdit=!0,this.likelyHoodQuery())},checkTitle:function(){},genID:function(e){return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)},getId1:function(e,t){var o=new Date,s=o.getMonth()+1,i=o.getDate(),n=o.getHours(),r=o.getMinutes(),a=o.getSeconds();year},genId:function(e,t){var o=this;this.showWaitingFlag=!0,this.getRequest("/work/"+sessionStorage.getItem("batchId")).then((function(e){e&&0==e.code?(o.docForm.docSequence=e.data.doc_number,o.docFormRS.docSequence=e.data.doc_number,o.showWaitingFlag=!1):(o.$message({type:"success",message:"网络中断，请检查网络"}),o.$router.push("/work/docInputd"))}))},inputChange:function(){this.aiInput=!this.aiInput,this.aiInput&&this.$message({type:"success",message:"将根据历史记录进行快速录入"})}},created:function(){var e=this;window.scrollTo(0,0),this.docTimeDues=[];var t,o=JSON.parse(sessionStorage.getItem("lastBox"));for(t in o)this.docTimeDues.push(t);console.log(this.docTimeDues),this.getRequest("/organ/"+sessionStorage.getItem("authId")).then((function(t){e.weightForm=t.data,e.$store.state.organ=e.weightForm,e.initNull(),console.log(t.data)})).then((function(){var o,s,i;"official"==sessionStorage.getItem("docType")&&(o=e.weightForm.docIssueWig,s=e.weightForm.docKeywordWig,i=e.weightForm.docAuthorWig,e.authorKwToDeadlineTable=e.weightForm.officialAuthorKeywordDeadline,e.descToAuthor=e.weightForm.officialDescAuthor),"science"==sessionStorage.getItem("docType")&&(o=e.weightForm.tecProjectWig,s=e.weightForm.tecKeywordWig,i=e.weightForm.tecAuthorWig,e.authorKwToDeadlineTable=e.weightForm.tecAuthorKeywordDeadline,e.descToAuthor=e.weightForm.tecDescAuthor),"business"==sessionStorage.getItem("docType")&&(o=e.weightForm.busProjectWig,s=e.weightForm.busKeywordWig,i=e.weightForm.busAuthorWig,e.authorKwToDeadlineTable=e.weightForm.busAuthorKeywordDeadline,e.descToAuthor=e.weightForm.busDescAuthor),"personnel"==sessionStorage.getItem("docType")&&(s=e.weightForm.perKeywordWig),"officialJ"==sessionStorage.getItem("docType")&&(o=e.weightForm.docIssuejWig,s=e.weightForm.docKeywordjWig,i=e.weightForm.docAuthorjWig,e.authorKwToDeadlineTable=e.weightForm.officialAuthorKeywordDeadline,e.descToAuthor=e.weightForm.officialDescAuthor);var n={},r={};if("personnel"!=sessionStorage.getItem("docType")){var a=e;Promise.all([new Promise((function(t,s){a.getRequest("/weight/"+o).then((function(o){o.data.tables,e.docAbout_KeywordArrJson=o.data.issueKeyword,t(o)}))})),new Promise((function(t,o){a.getRequest("/weight/"+s).then((function(o){n=o.data.tables,console.log("关键词jsontable"),e.keyword_docAboutJson=o.data.keywordIssue,t(o)}))})),new Promise((function(e,t){a.getRequest("/weight/"+i).then((function(t){r=t.data.tables,e(t)}))}))]).then((function(t){var o;for(o in r)e.dutyAuthorTipArr.push(o)}))}else e.getRequest("/weight/"+s).then((function(e){n=e.data.tables})).then((function(){for(t in n)e.keywordTipArr.push(t)}))}))}},w=y,S=(o("513a"),o("d657"),Object(m["a"])(w,s,i,!1,null,"5bff0cb4",null));t["default"]=S.exports},d657:function(e,t,o){"use strict";o("dd78")},da28:function(e,t,o){"use strict";o("2c29")},da46:function(e,t,o){e.exports=o.p+"img/pic1.0c774dc4.png"},dd78:function(e,t,o){},de46:function(e,t,o){"use strict";o("c04e")},e42f:function(e,t,o){"use strict";var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"printSetBox",staticStyle:{position:"absolute",width:"10cm",top:"5cm",left:"1cm"}},[e._e(),o("el-input",{staticStyle:{width:"7cm",position:"absolute",left:"-50%"},on:{input:e.inputSelect},model:{value:e.selectedDocSequence,callback:function(t){e.selectedDocSequence=t},expression:"selectedDocSequence"}}),o("div",{staticStyle:{position:"relative",left:"-50%",bottom:"0",width:"2cm",height:"2cm"}},[o("div",{staticClass:"topTextButton",staticStyle:{position:"absolute",top:"0cm",left:"8cm",width:"3cm","text-align":"center"},on:{click:e.clickPrint}},[e._v("回车打印")])]),o("div",{directives:[{name:"print",rawName:"v-print",value:"#printArea",expression:"'#printArea' "}],attrs:{id:"printButton"}})],1),"personnel"==e.docType?o("div",{attrs:{id:"printArea"}},[o("div",{ref:"print1",staticStyle:{position:"relative",top:"1cm",border:"solid",height:"1.5cm",width:"30mm",left:"1cm"}},[o("div",{staticStyle:{float:"left",width:"0.7cm","border-right":"solid 0.5mm","line-height":"0.75cm",height:"1.5cm","text-align":"center"}},[e._v("\n      正本\n    ")]),o("div",{staticStyle:{float:"left",width:"2.25cm",height:"0.725cm","text-align":"center","border-bottom":"solid 0.5mm"}},[e._v("\n      类号\n    ")]),o("div",{staticStyle:{float:"left",width:"2.25cm",height:"0.725cm","text-align":"center"}},[o("font",{staticStyle:{"font-size":"1.2rem"}},[e._v(e._s(this.rsPrint))]),o("font",{staticStyle:{"font-size":"1rem"}},[e._v(e._s(this.rsPrintSub))])],1)])]):e._e(),"official"==e.docType||"business"==e.docType||"officialJ"==e.docType?o("div",{attrs:{id:"printArea"}},[o("div",{ref:"print1",staticStyle:{position:"relative",top:"1cm",border:"solid",height:"1.6cm",width:"45mm",left:"1cm"},on:{mouseover:e.showAdjPos,mouseleave:e.hideAdjPos}},[o("div",{staticClass:"clickSmall",staticStyle:{"font-size":"15px",cursor:"pointer",float:"left",width:"14.5mm","border-bottom":"solid 0.5mm","border-right":"solid 0.5mm","line-height":"0.8cm",height:"7.75mm","text-align":"center"}},[e._v("\n      "+e._s(this.authCode||"")+"\n    ")]),o("div",{staticClass:"clickSmall",staticStyle:{"font-size":"15px",cursor:"pointer",float:"left",width:"14.5mm","border-bottom":"solid 0.5mm","border-right":"solid 0.5mm","line-height":"0.8cm",height:"7.75mm","text-align":"center"}},[e._v("\n      "+e._s(this.sortYear)+"\n    ")]),o("div",{staticClass:"clickSmall",staticStyle:{"font-size":"15px",cursor:"pointer",float:"left",width:"15mm","border-bottom":"solid 0.5mm","line-height":"0.8cm",height:"7.75mm","text-align":"center"}},[e._v("\n      "+e._s(this.docNum)+"\n    ")]),o("div",{staticClass:"clickSmall",staticStyle:{"font-size":"15px",cursor:"pointer",float:"left",width:"14.5mm","border-bottom":"solid 0.5mm","border-right":"solid 0.5mm","line-height":"0.8cm",height:"7.75mm","text-align":"center"}},[o("div",{staticStyle:{position:"absolute",left:"2mm",top:"8mm"},style:[{transform:e.smaller},{left:e.leftAbout},{top:e.topAbout}]},[e._v(e._s(this.docAbout))])]),o("div",{staticClass:"clickSmall",staticStyle:{position:"relative","font-size":"15px",cursor:"pointer",float:"left",width:"14.5mm","border-bottom":"solid 0.5mm","border-right":"solid 0.5mm","line-height":"0.8cm",height:"7.75mm","text-align":"center"}},[o("div",[e._v(e._s(this.timedue))]),e.AdjPosFlag?o("div",{staticClass:"controlPos"},[o("div",{staticStyle:{position:"absolute",width:"5mm",height:"5mm",left:"-11mm",top:"-6mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickUp}},[e._v("↑")]),o("div",{staticStyle:{position:"absolute",width:"5mm",height:"5mm",left:"-11mm",bottom:"-6mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickDown}},[e._v("↓")]),o("div",{staticStyle:{position:"absolute",width:"5mm",height:"5mm",left:"-21mm",top:"1mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickLeft}},[e._v("←")]),o("div",{staticStyle:{position:"absolute",width:"5mm",height:"5mm",left:"0mm",top:"1mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickRight}},[e._v("→")]),o("div",{staticStyle:{position:"absolute",width:"10mm",height:"5mm",right:"17mm",top:"1mm",color:"white","font-size":"14px",border:"solid 0.3mm rgb(222,66,66)","background-color":"rgb(222,66,66)","line-height":"5mm"},on:{click:e.Clicksmaller}},[e._v("缩小")])]):e._e()]),o("div",{staticClass:"clickSmall",staticStyle:{"font-size":"15px",cursor:"pointer",float:"left",width:"15mm","border-bottom":"solid 0.5mm","line-height":"0.8cm",height:"7.75mm","text-align":"center"}},[e._v("\n      "+e._s(this.docPage)+"\n    ")])])]):e._e(),"science"==e.docType?o("div",{attrs:{id:"printArea"}},[o("div",{ref:"print1",staticStyle:{position:"relative",left:"1cm",top:"1cm",border:"solid",height:"2cm",width:"50mm"},on:{mouseover:e.showAdjPos,mouseleave:e.hideAdjPos}},[o("div",{staticStyle:{float:"left",width:"35mm","border-bottom":"0.5mm solid","border-right":"solid 0.5mm","line-height":"1cm",height:"10mm","text-align":"center"}},[e._v("\n      档号\n    ")]),e._m(0),o("div",{staticStyle:{float:"left",width:"35mm","border-bottom":"0.5mm","border-right":"solid 0.5mm","line-height":"1cm",height:"10mm","text-align":"center"}},[o("div",{staticStyle:{position:"absolute"},style:[{transform:e.smaller},{left:e.leftAbout},{top:e.topAbout}]},[e._v(e._s(this.danghao))])]),o("div",{staticStyle:{float:"left",position:"relative",width:"14.5mm","border-bottom":"0.5mm","line-height":"1cm",height:"10mm","text-align":"center"}},[e._v("\n      "+e._s(null==this.docNum?"":this.docNum)+"\n       "),e.AdjPosFlag?o("div",{staticClass:"controlPos"},[o("div",{staticStyle:{cursor:"pointer",position:"absolute",width:"5mm",height:"5mm",left:"-20mm",top:"-6mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickUp}},[e._v("↑")]),o("div",{staticStyle:{cursor:"pointer",position:"absolute",width:"5mm",height:"5mm",left:"-20mm",bottom:"-6mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickDown}},[e._v("↓")]),o("div",{staticStyle:{cursor:"pointer",position:"absolute",width:"5mm",height:"5mm",left:"-41mm",top:"1mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickLeft}},[e._v("←")]),o("div",{staticStyle:{cursor:"pointer",position:"absolute",width:"5mm",height:"5mm",left:"0mm",top:"1mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickRight}},[e._v("→")]),o("div",{staticStyle:{cursor:"pointer",position:"absolute",width:"10mm",height:"5mm",right:"25mm",top:"2mm",color:"white","font-size":"14px",border:"solid 0.3mm rgb(222,66,66)","background-color":"rgb(222,66,66)","line-height":"5mm"},on:{click:e.Clicksmaller}},[e._v("缩小")])]):e._e()])])]):e._e()])},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{float:"left",width:"14.5mm","border-bottom":"0.5mm solid","line-height":"1cm",height:"10mm","text-align":"center"}},[o("div",[e._v("序号")])])}],n=o("7ca0"),r={components:{},mounted:function(){var e=this;n["a"].$on("sendInit",(function(t){console,console.log("子getfrom父信号"),e.initData()}));e=this,document.getElementById("printButton");document.onkeydown=function(t){var o=window.event||t,s=o.keyCode||o.which;13!=s&&80!=s||e.clickPrint()}},methods:{inputSelect:function(){for(var e in console.log(this.selectedDocSequence),this.printDocs)this.printDocs[e].docSequence==this.selectedDocSequence&&(this.emitThisDoc(this.printDocs[e]),this.$store.state.printDoc=this.printDocs[e],console.log(this.$store.state.printDoc))},clickPrint:function(){var e=this;if(1!=sessionStorage.getItem("isEnd"))this.$confirm("开始印章后将锁定该批文档不能修改",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.putRequest("/work/"+sessionStorage.getItem("batchId")+"/1/end").then((function(t){console.log(t),0==t.code&&(e.isEnd=!0,window.sessionStorage.setItem("isEnd",1))}));var t=document.getElementById("printButton");return t.click(),!0})).catch((function(){return!1}));else{var t=document.getElementById("printButton");t.click()}},setPrinted:function(){},initData:function(){console.log("initData"),this.printDocs=JSON.parse(localStorage.getItem("docs"));var e=sessionStorage.getItem("aboutTextNum");2==e&&(this.leftPosAbout=3,this.size=1),3==e&&(this.leftPosAbout=1.4,this.size=1),4==e&&(this.leftPosAbout=-.8,this.size=.8),5==e&&(this.leftPosAbout=-2.5,this.size=.67),this.rsPrint=window.sessionStorage.getItem("rsPrint"),this.rsPrintSub=window.sessionStorage.getItem("rsPrintSub"),this.authCode=sessionStorage.getItem("authCode"),this.sortYear=sessionStorage.getItem("sortYear"),this.docNum=sessionStorage.getItem("docNum"),this.docAbout=sessionStorage.getItem("docAbout"),this.docPage=sessionStorage.getItem("docPage"),this.timedue=sessionStorage.getItem("timedue"),this.danghao=sessionStorage.getItem("danghao1"),"science"==window.sessionStorage.getItem("docType")&&(this.topPosAbout=9.5,this.leftPosAbout=4.5,this.docNum=sessionStorage.getItem("kjXuhao"))},selectBlur:function(e){var t=e.target.value;this.selectedDocSequence=t},selectSequenceChange:function(){for(var e in console.log(this.selectedDocSequence),this.printDocs)this.printDocs[e].docSequence==this.selectedDocSequence&&(this.emitThisDoc(this.printDocs[e]),this.$store.state.printDoc=this.printDocs[e],console.log(this.$store.state.printDoc))},emitThisDoc:function(e){console.log("emit"),console.log(e),n["a"].$emit("printBackThisDoc",e),this.initData()},option:function(){},showAdjPos:function(){this.AdjPosFlag=!0},hideAdjPos:function(){this.AdjPosFlag=!1},Clicksmaller:function(){console.log("变小"),this.size=this.size-.05},clickUp:function(){this.topPosAbout=this.topPosAbout-.2},clickDown:function(){this.topPosAbout=this.topPosAbout+.2},clickLeft:function(){this.leftPosAbout=this.leftPosAbout-.2},clickRight:function(){this.leftPosAbout=this.leftPosAbout+.2}},watch:{printJS:{handler:function(e,t){console.log("检测变动后init"),this.initData()},deep:!0}},computed:{printJS:function(){return this.$store.state.printDoc},leftAbout:function(){return this.leftPosAbout+"mm"},topAbout:function(){return this.topPosAbout+"mm"},smaller:function(){return"scale("+this.size+")"},docType:function(){return sessionStorage.getItem("docType")}},created:function(){this.initData()},data:function(){return{printDoc:!0,selectedDocSequence:0,printDocs:[],authCode:88888,docNum:888,sortYear:1999,docAbout:"综合类",timedue:"永久",docPage:88,danghao:"asd",leftPosAbout:3,topPosAbout:8,AdjPosFlag:!1,size:1,rsPrint:"123",nihao:2,rsPrintSub:""}},beforeDestroy:function(){n["a"].$off("printBackThisDoc"),document.onkeydown=void 0},destroyed:function(){console.log("Parent","Destroyed")}},a=r,c=(o("2dec"),o("4ac2")),l=Object(c["a"])(a,s,i,!1,null,null,null);t["a"]=l.exports},e9f5:function(e,t,o){},ec7f:function(e,t,o){"use strict";o("1908")}});
//# sourceMappingURL=app.ebb90ca2.js.map