(function(e){function t(t){for(var s,i,a=t[0],c=t[1],l=t[2],u=0,d=[];u<a.length;u++)i=a[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);h&&h(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],s=!0,i=1;i<o.length;i++){var a=o[i];0!==n[a]&&(s=!1)}s&&(r.splice(t--,1),e=c(c.s=o[0]))}return e}var s={},i={app:0},n={app:0},r=[];function a(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-05d91148":"f74edbdf","chunk-2d237c54":"c18b0877","chunk-18458ebc":"8ceb3d61","chunk-4e552d82":"0b4e617e","chunk-54277bc7":"efceb803","chunk-e094f946":"f0267b3d","chunk-1489a900":"551a07f2","chunk-2d0d03c8":"adc0331f"}[e]+".js"}function c(t){if(s[t])return s[t].exports;var o=s[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(e){var t=[],o={"chunk-05d91148":1,"chunk-e094f946":1};i[e]?t.push(i[e]):0!==i[e]&&o[e]&&t.push(i[e]=new Promise((function(t,o){for(var s="css/"+({}[e]||e)+"."+{"chunk-05d91148":"3755e146","chunk-2d237c54":"31d6cfe0","chunk-18458ebc":"31d6cfe0","chunk-4e552d82":"31d6cfe0","chunk-54277bc7":"31d6cfe0","chunk-e094f946":"6a599082","chunk-1489a900":"31d6cfe0","chunk-2d0d03c8":"31d6cfe0"}[e]+".css",n=c.p+s,r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var l=r[a],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===s||u===n))return t()}var d=document.getElementsByTagName("style");for(a=0;a<d.length;a++){l=d[a],u=l.getAttribute("data-href");if(u===s||u===n)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var s=t&&t.target&&t.target.src||n,r=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=s,delete i[e],h.parentNode.removeChild(h),o(r)},h.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(h)})).then((function(){i[e]=0})));var s=n[e];if(0!==s)if(s)t.push(s[2]);else{var r=new Promise((function(t,o){s=n[e]=[t,o]}));t.push(s[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=a(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(h);var o=n[e];if(0!==o){if(o){var s=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+s+": "+i+")",d.name="ChunkLoadError",d.type=s,d.request=i,o[1](d)}n[e]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=s,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(o,s,function(t){return e[t]}.bind(null,s));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var h=u;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";o("a8fb")},"04c6":function(e,t,o){"use strict";o("722e")},"06fa":function(e,t,o){},"0a08":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:e.showCenterPrint,expression:"showCenterPrint"}],staticStyle:{position:"fixed",left:"30rem",top:"20rem",width:"40rem",height:"20rem","z-index":"2000","background-color":"#fff","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("HidePrint",{directives:[{name:"show",rawName:"v-show",value:!e.showPrint,expression:"!showPrint"}],staticStyle:{"margin-left":"-30mm",position:"relative",width:"80%",left:"50%"},attrs:{printDoc:e.printDoc}}),o("div",{staticStyle:{position:"absolute",right:"0.5rem",top:"0.1rem","font-size":"1.5rem",cursor:"pointer"},on:{click:e.hideCenterPrintBtn}},[o("i",{staticClass:"el-icon-remove"})])],1),o("div",{staticClass:"wrapper",staticStyle:{"padding-bottom":"50rem"}},[o("div",{staticStyle:{height:"6.5rem"}}),e.showWaitingFlag?o("div",{staticStyle:{position:"fixed",width:"20rem",height:"10rem",top:"10rem",left:"50%","margin-left":"-10rem","line-height":"10rem","background-color":"rgba(25, 55, 163, 0.8)","font-size":"1.3rem",color:"white","text-align":"center","z-index":"1000"}},[e._v("\n        请求中，请稍候...\n      ")]):e._e(),e.showStartBoxSet?o("div",{staticStyle:{position:"fixed",top:"15rem",left:"50%","margin-left":"-15rem","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"30rem",height:"10rem","background-color":"rgb(255, 255, 255)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1rem",width:"20rem","text-align":"center","margin-left":"5rem",color:"#333"}},[e._v("\n          输入盒号\n        ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.startBoxNum,expression:"startBoxNum"}],staticStyle:{height:"1.5rem","margin-left":"11rem","margin-top":"2rem",width:"8rem"},attrs:{type:"text"},domProps:{value:e.startBoxNum},on:{input:function(t){t.target.composing||(e.startBoxNum=t.target.value)}}}),o("div",{staticClass:"textButton",staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"17rem"},on:{click:e.cancleManulBox}},[e._v("\n          取消\n        ")]),o("div",{staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"10rem"},on:{click:e.manualBox}},[e._v("\n          确定\n        ")])]):e._e(),o("div",{staticClass:"docDetailBox"},[o("div",{staticClass:"advSearchBox"},[e.advSearchShow&&"personnel"==e.docType?o("el-form",{ref:"searchForm",staticClass:"specialELContainer",attrs:{model:e.searchForm,"label-width":"6rem"}},[o("h3",{staticStyle:{"text-align":"center",width:"100%",color:"#555"}},[e._v("\n              输入一个或多个条件查找文档\n            ")]),o("div",{staticStyle:{position:"absolute",right:"0.5rem",top:"0.1rem","font-size":"1.5rem",cursor:"pointer"},on:{click:e.hideAdvSearchNoReload}},[o("i",{staticClass:"el-icon-remove"})]),o("el-form-item",{attrs:{prop:"username",label:"识别号："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"识别号"},model:{value:e.searchForm.docSequence,callback:function(t){e.$set(e.searchForm,"docSequence",t)},expression:"searchForm.docSequence"}})],1),o("el-form-item",{attrs:{prop:"username",label:"文件标题："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"标题"},model:{value:e.searchForm.docTitle,callback:function(t){e.$set(e.searchForm,"docTitle",t)},expression:"searchForm.docTitle"}})],1),o("el-form-item",{attrs:{prop:"password",label:"姓名："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"姓名"},model:{value:e.searchForm.personName,callback:function(t){e.$set(e.searchForm,"personName",t)},expression:"searchForm.personName"}})],1),o("el-form-item",{attrs:{prop:"password",label:"日期："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"日期"},model:{value:e.searchForm.docDate,callback:function(t){e.$set(e.searchForm,"docDate",t)},expression:"searchForm.docDate"}})],1),o("div",{staticClass:"topTextButtonBlue",staticStyle:{"margin-left":"35%",float:"left"},on:{click:e.advSearch}},[e._v("\n              查找\n            ")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{position:"absolute",left:"60%"},on:{click:e.hideAdvSearch}},[e._v("\n              取消\n            ")])],1):e._e(),e.advSearchShow&&"personnel"!=e.docType?o("el-form",{ref:"searchForm",staticClass:"specialELContainer",attrs:{model:e.searchForm,"label-width":"6rem"}},[o("h3",{staticStyle:{"text-align":"center",color:"#505458"}},[e._v("\n              输入一个或多个条件查找文档\n            ")]),o("div",{staticStyle:{position:"absolute",right:"0.5rem",top:"0.1rem","font-size":"1.5rem",cursor:"pointer"},on:{click:e.hideAdvSearchNoReload}},[o("i",{staticClass:"el-icon-remove"})]),o("el-form-item",{attrs:{prop:"username",label:"识别号："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"识别号"},model:{value:e.searchForm.docSequence,callback:function(t){e.$set(e.searchForm,"docSequence",t)},expression:"searchForm.docSequence"}})],1),o("el-form-item",{attrs:{prop:"username",label:"文件标题："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"标题"},model:{value:e.searchForm.docTitle,callback:function(t){e.$set(e.searchForm,"docTitle",t)},expression:"searchForm.docTitle"}})],1),o("el-form-item",{attrs:{prop:"password",label:"文号："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"文号"},on:{blur:e.likeDescComplete},model:{value:e.searchForm.docDesc,callback:function(t){e.$set(e.searchForm,"docDesc",t)},expression:"searchForm.docDesc"}})],1),o("el-form-item",{attrs:{prop:"password",label:"发文日期"}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"发文日期"},model:{value:e.searchForm.docDate,callback:function(t){e.$set(e.searchForm,"docDate",t)},expression:"searchForm.docDate"}})],1),o("el-form-item",{attrs:{prop:"password",label:"责任者"}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"责任者"},model:{value:e.searchForm.dutyAuthor,callback:function(t){e.$set(e.searchForm,"dutyAuthor",t)},expression:"searchForm.dutyAuthor"}})],1),o("div",{staticClass:"topTextButtonBlue",staticStyle:{"margin-left":"35%",float:"left"},on:{click:e.advSearch}},[e._v("\n              查找\n            ")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{position:"absolute",left:"60%"},on:{click:e.hideAdvSearch}},[e._v("\n              取消\n            ")])],1):e._e()],1),o("div",{staticStyle:{"z-index":"333",height:"3.5rem",position:"fixed",top:"6rem",right:"0px",width:"27%","background-color":"rgb(255, 255, 255)"}},[o("div",{staticClass:"topTextButton",staticStyle:{float:"right","margin-top":"1rem"},on:{click:e.ShowadvSearch}},[e._v("\n            高级搜索\n          ")]),o("div",{staticClass:"topTextButton",staticStyle:{float:"right","margin-top":"1rem"},on:{click:e.cancelSearch}},[e._v("\n            取消\n          ")]),o("div",{staticClass:"topTextButton",staticStyle:{float:"right","margin-top":"1rem"},on:{click:e.searchTheDoc}},[e._v("\n            搜索\n          ")]),o("el-input",{staticClass:"leftInput",on:{focus:e.clearSearchContent,blur:e.putInContent},model:{value:e.searchContent,callback:function(t){e.searchContent=t},expression:"searchContent"}})],1),o("div",{staticStyle:{height:"9rem",width:"100%",position:"fixed","background-color":"rgb(255, 255, 255)",top:"3rem"}}),o("div",{staticStyle:{position:"fixed",left:"0.5rem",top:"6.5rem","z-index":"5","font-size":"1.1rem"}},[o("div",{staticClass:"hoverStyle",staticStyle:{"margin-top":"0.4rem",float:"left","text-align":"center"},on:{click:e.backToOrgans}},[e._v("\n            选项：\n          ")]),o("div",{staticClass:"hoverStyle topTextButton",staticStyle:{float:"left"},on:{click:e.goDocIn}},[e._v("\n            录入界面\n          ")]),"personnel"!=e.docType?o("div",{staticClass:"hoverStyle topTextButton",staticStyle:{float:"left"},on:{click:e.sortThisBatch}},[e._v("\n            排件号盒号\n          ")]):e._e(),"personnel"==e.docType?o("div",{staticClass:"hoverStyle topTextButton",staticStyle:{float:"left"},on:{click:e.sortThisBatchRS}},[e._v("\n            排件号\n          ")]):e._e(),o("div",{staticClass:"hoverStyle topTextButton",staticStyle:{float:"left"},on:{click:e.getExcel}},[e._v("\n            下载表格\n          ")]),o("div",{staticClass:"topTextButton hoverStyle",staticStyle:{float:"left"},on:{click:e.backToOrgans}},[e._v("\n           单位其他批次\n          ")]),"personnel"!=e.docType?o("div",{staticClass:"hoverStyle topTextButton",staticStyle:{float:"left"},on:{click:e.myBoxNum}},[e._v("\n            "+e._s(e.myBoxNumSwitch?"保存盒号":"手动排盒号")+"\n          ")]):e._e(),e.isEnd?e._e():o("div",{staticClass:"hoverStyle topTextButton",staticStyle:{float:"left"},on:{click:e.lockThisBatch}},[e._v("\n            锁定本批\n          ")]),e.isEnd?o("div",{staticClass:"hoverStyle topTextButton",staticStyle:{float:"left"},on:{click:e.unLockThisBatch}},[e._v("\n            解除锁定\n          ")]):e._e(),o("div",{staticClass:"hoverStyle",staticStyle:{float:"left","text-align":"center","margin-left":"1rem","margin-top":"0.3rem"},on:{click:e.goSetRule}},[e._v("\n            顺序有问题？请前往设置本单位规则\n          ")]),o("div",{staticStyle:{clear:"both"}}),o("div",{staticStyle:{"margin-top":"0.4rem"}},[o("div",{staticStyle:{float:"left"}},[e._v("筛选：")]),"personnel"!=e.docType?o("div",{staticStyle:{float:"left",width:"7rem","text-align":"center",position:"relative"},on:{mouseover:function(t){return e.showFilterSortYear()},mouseleave:e.hideFilterSortYear}},[e.filterSortYearFlag||"personnel"==e.docType?e._e():o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",position:"absolute",right:"1rem"}},[o("span",{attrs:{id:"user_top"}})]),e.filterSortYearFlag?o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",position:"absolute",right:"1rem"}},[o("span",{attrs:{id:"user_topd"}})]):e._e(),o("el-checkbox",{staticStyle:{position:"relative",right:"1rem",top:"0rem"},attrs:{"false-label":"false","true-label":"true"},on:{change:e.sortYearCheckChange},model:{value:e.sortYearCheck,callback:function(t){e.sortYearCheck=t},expression:"sortYearCheck"}},[e._v(e._s(e.yearReq)+"\n\n              ")]),e.filterSortYearFlag?o("div",{staticClass:"filterStyle",on:{mouseover:function(t){return e.showFilterSortYear()},mouseleave:e.hideFilterSortYear}},e._l(this.yearFilter,(function(t,s){return o("div",{key:s,staticClass:"filterItemStyle",on:{click:function(o){return e.filterFromRequests1(t)}}},[e._v("\n                  "+e._s(t)+"\n                ")])})),0):e._e()],1):e._e(),"personnel"!=e.docType?o("div",{staticStyle:{float:"left",width:"12rem","text-align":"center",position:"relative"},on:{mouseover:function(t){return e.showFilterDocAbout()},mouseleave:e.hideFilterDocAbout}},[e.filterDocAboutFlag||"personnel"==e.docType?e._e():o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",position:"absolute",right:"1rem"}},[o("span",{attrs:{id:"user_top"}})]),e.filterDocAboutFlag?o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",position:"absolute",right:"1rem"}},[o("span",{attrs:{id:"user_topd"}})]):e._e(),o("el-checkbox",{staticStyle:{position:"relative",right:"1rem",top:"0rem"},attrs:{"false-label":"false","true-label":"true"},on:{change:e.dabCheckChange},model:{value:e.dabCheck,callback:function(t){e.dabCheck=t},expression:"dabCheck"}},[e._v(e._s(e.docAboutReq)+"\n\n              ")]),e.filterDocAboutFlag?o("div",{staticClass:"filterStyle",staticStyle:{width:"12rem"},on:{mouseover:function(t){return e.showFilterDocAbout()},mouseleave:e.hideFilterDocAbout}},e._l(this.docAboutFilter,(function(t,s){return o("div",{key:s,staticClass:"filterItemStyle",on:{click:function(o){return e.filterFromRequests2(t)}}},[e._v("\n                  "+e._s(t)+"\n                ")])})),0):e._e()],1):e._e(),"personnel"!=e.docType?o("div",{staticStyle:{float:"left",width:"7rem","text-align":"center",position:"relative"},on:{mouseover:function(t){return e.showFilterDeadline()},mouseleave:e.hideFilterDeadline}},[o("el-checkbox",{staticStyle:{position:"relative",right:"1rem",top:"0rem"},attrs:{"false-label":"false","true-label":"true"},on:{change:e.ddlCheckChange},model:{value:e.ddlCheck,callback:function(t){e.ddlCheck=t},expression:"ddlCheck"}},[e._v(e._s(e.deadlineReq))]),o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",positon:"relative"}},[e.filterDeadlineFlag?e._e():o("span",{attrs:{id:"user_top"}}),e.filterDeadlineFlag?o("span",{attrs:{id:"user_topd"}}):e._e()]),e.filterDeadlineFlag?o("div",{staticClass:"filterStyle",on:{mouseover:function(t){return e.showFilterDeadline()},mouseleave:e.hideFilterDeadline}},e._l(this.deadlineFilter,(function(t,s){return o("div",{key:s,staticClass:"filterItemStyle",on:{click:function(o){return e.filterFromRequests3(t)}}},[e._v("\n                  "+e._s(t)+"\n                ")])})),0):e._e()],1):e._e(),"personnel"==e.docType?o("div",{staticStyle:{float:"left",width:"7rem","text-align":"center",position:"relative"},on:{mouseover:function(t){return e.showFilterName()},mouseleave:e.hideFilterName}},[e._v("\n              姓名\n              "),o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",positon:"relative"}},[e.filterNameFlag?e._e():o("span",{attrs:{id:"user_top"}}),e.filterNameFlag?o("span",{attrs:{id:"user_topd"}}):e._e()]),e.filterNameFlag?o("div",{staticClass:"filterStyle",on:{mouseover:function(t){return e.showFilterName()},mouseleave:e.hideFilterDeadline}},e._l(this.nameFilter,(function(t,s){return o("div",{key:s,staticClass:"filterItemStyle",on:{click:function(o){return e.filterThisRequest("name",t)}}},[e._v("\n                  "+e._s(t)+"\n                ")])})),0):e._e()]):e._e(),o("div",{staticStyle:{float:"left",width:"10rem","text-align":"center",position:"relative",cursor:"pointer"},on:{click:e.showAllDocs}},[e._v("\n              取消筛选\n            ")]),o("div",{staticStyle:{float:"left",width:"8rem","text-align":"center",position:"relative",cursor:"pointer"},on:{click:e.showDeleted}},[e._v("\n              "+e._s(1==e.deletedShowSwitch?"已删文件":"返回列表")+"\n            ")])])]),"personnel"!=e.docType?o("div",{staticStyle:{height:"4.5rem",width:"100%"}}):e._e(),"personnel"==e.docType?o("div",{staticStyle:{height:"2.5rem",width:"100%"}}):e._e(),"science"!=e.docType&&"personnel"!=e.docType?o("div",{},[o("div",{staticClass:"detailItem detailItemTitle",staticStyle:{height:"2rem"}},[o("div",{staticClass:"itemInfo",staticStyle:{width:"3%"}},[e._v("识别号")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"6%"}},[e._v(e._s("officialJ"==e.docType?"机构":"问题"))]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v(e._s("officialJ"==e.docType?"机构词":"问题词"))]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v("档号")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v("文号")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"12%"}},[e._v("责任者")]),o("div",{staticClass:"itemInfo",staticStyle:{"font-size":"0.6rem",width:"12%"}},[e._v("\n              题名\n            ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("成文时间")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("密级")]),o("div",{staticClass:"itemInfo",staticStyle:{"font-size":"0.6rem",width:"6%"}},[e._v("\n              备注\n            ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"2%"}},[e._v("页数")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"2%"}},[e._v("计")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("件号")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("盒号")]),o("div",{staticStyle:{clear:"both"}})]),e._l(this.$store.state.alreadyDocs.filter((function(t){return t.deleted!=e.deletedShowSwitch})),(function(t,s){return o("div",{key:s,staticClass:"detailItem infoItemHighlight"},[o("div",{staticClass:"itemInfo",staticStyle:{width:"3%"}},[e._v(e._s(t.docSequence))]),o("div",{staticClass:"itemInfo",staticStyle:{width:"6%"}},[e._v(e._s(t.docAbout))]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v(e._s(t.keyword))]),o("div",{staticClass:"itemInfo",staticStyle:{"font-size":"0.6rem",width:"10%"}},[e._v("\n              "+e._s(e.authCode+"-"+t.docTypeCode+"·")+e._s(e._f("formatSortYear")(t.sortYear))+"-"+e._s(e._f("deadlineFormat")(t.deadline))+"-"+e._s(t.docAbout+"-")+e._s(e._f("formatFourNum")(t.docNum))+"\n            ")]),o("div",{staticClass:"itemInfo",staticStyle:{"font-size":"0.6rem",width:"10%"}},[e._v("\n              "+e._s(t.docDesc?t.docDesc:" ")+"\n            ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"12%"}},[e._v(e._s(t.dutyAuthor))]),o("div",{staticClass:"itemInfo",staticStyle:{"font-size":"0.6rem",width:"12%"}},[e._v("\n              "+e._s(t.docTitle)+"\n            ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v(e._s(t.docDate))]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("\n              "+e._s("无"!=t.docSecret&&t.docSecret?t.docSecret:" ")+"\n            ")]),o("div",{staticClass:"itemInfo",staticStyle:{"font-size":"0.6rem",width:"6%"}},[e._v("\n              "+e._s(t.remark?t.remark:" ")+"\n            ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"2%"}},[e._v(e._s(t.docPage))]),o("div",{staticClass:"itemInfo",class:[{itemInfo:!0},{endStyle:t.docSequence==e.endInfo.docSequence}],staticStyle:{width:"2%"}},[e._v("\n              "+e._s(e._f("pageTotalformat")(t.pageTotal))+"\n            ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("\n              "+e._s(t.docNum?t.docNum:"暂无")+"\n            ")]),o("div",{class:[{itemInfo:!0},{startStyle:t.docSequence==e.startInfo.docSequence},{endStyle:t.docSequence==e.endInfo.docSequence}],staticStyle:{width:"4%"},on:{mouseleave:function(o){return e.boxLeave(t)},mouseenter:function(o){return e.boxOver(t)},click:function(o){return e.boxClick(t)}}},[e._v("\n              "+e._s(t.boxSeq?t.boxSeq:"暂无")+"\n\n              \n            ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"7%"}},[0==t.deleted?o("div",[o("div",{staticClass:"optionDiv",staticStyle:{float:"left"},on:{click:function(o){return e.fixThisItem(t)}}},[e._v("\n                修改\n              ")]),o("div",{staticClass:"optionDiv",staticStyle:{float:"left"},on:{click:function(o){return e.deleteThisItem(t)}}},[e._v("\n                删除\n              ")]),null==t.printed?o("div",{staticClass:"optionDiv",staticStyle:{float:"left"},on:{click:function(o){return e.printBtn(t)}}},[e._v("\n                印章\n              ")]):e._e()]):e._e(),1==t.deleted?o("div",{staticClass:"optionDiv",staticStyle:{float:"left",cursor:"arrow",color:"red"}},[e._v("\n                已作废\n              ")]):e._e(),t.printed?o("div",{staticClass:"optionDiv",staticStyle:{float:"left",color:"#ccc"},on:{click:function(o){return e.printBtn(t)}}},[e._v("\n                已印\n              ")]):e._e()]),o("div",{staticStyle:{clear:"both"}})])}))],2):e._e(),"personnel"==e.docType?o("div",[o("div",{staticStyle:{height:"2rem",width:"3rem"}}),e._m(0),e._l(this.$store.state.alreadyDocs,(function(t,s){return o("div",{key:s,staticClass:"detailItemRS infoItemHighlight"},[o("div",{staticClass:"itemInfo",staticStyle:{width:"3%"}},[e._v(e._s(t.docSequence))]),o("div",{staticClass:"itemInfo"},[e._v(e._s(t.personName))]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v(e._s(t.docAbout))]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v("\n              "+e._s(t.docAboutSub)+"\n            ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"15%"}},[e._v(e._s(t.docTitle))]),o("div",{staticClass:"itemInfo"},[e._v(e._s(t.docDate))]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v(e._s(t.docPage))]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("\n              "+e._s(t.docNum?t.docNum:"暂无")+"\n            ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v(e._s(t.remark))]),o("div",{staticClass:"itemInfo"},[e._v(" ")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"14%"}},[e._v(" ")]),o("div",{staticStyle:{clear:"both"}})])}))],2):e._e(),"science"==e.docType?o("div",[e._m(1),e._l(this.$store.state.alreadyDocs,(function(t,s){return o("div",{key:s,staticClass:"detailItem infoItemHighlight"},[o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("\n              "+e._s(t.docSequence)+"\n            ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"6%"}},[e._v(e._s(t.keyword))]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v(e._s(t.docAbout))]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"10%"}},[e._v("\n              "+e._s(e.authCode+"-"+t.docTypeCode+"-")+e._s(e._f("formatFiveKJ")(t.boxSeq))+"-"+e._s(e._f("formatThreeKJ")(t.docNum))+"\n            ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v(e._s(e.authCode))]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v("\n              "+e._s(t.docTypeCode?t.docTypeCode:" ")+"\n            ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"10%"}},[e._v("\n              "+e._s(t.dutyAuthor)+"\n            ")]),o("div",{staticClass:"itemInfo2",staticStyle:{"font-size":"0.6rem",width:"10%"}},[e._v("\n              "+e._s(t.docTitle)+"\n            ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v(e._s(t.docDate))]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v(e._s(t.deadline))]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("\n              "+e._s("无"==t.docSecret?" ":t.docSecret)+"\n            ")]),o("div",{staticClass:"itemInfo2",staticStyle:{"font-size":"0.6rem",width:"8%"}},[e._v("\n              "+e._s(t.remark?t.remark:" ")+"\n            ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v(e._s(t.docPage))]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("\n              "+e._s(e._f("pageTotalformat")(t.pageTotal))+"\n            ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("\n              "+e._s(t.boxSeq?t.boxSeq:"暂无")+"\n            ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("\n              "+e._s(t.docNum?t.docNum:"暂无")+"\n            ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"7%"}},[o("div",{staticClass:"optionDiv",staticStyle:{float:"left"},on:{click:function(o){return e.fixThisItem(t)}}},[e._v("\n                修改\n              ")]),o("div",{staticClass:"optionDiv",staticStyle:{float:"left"},on:{click:function(o){return e.deleteThisItem(t)}}},[e._v("\n                删除\n              ")]),o("div",{staticClass:"optionDiv",staticStyle:{float:"left"},on:{click:function(o){return e.printBtn(t)}}},[e._v("\n                印章\n              ")])]),o("div",{staticStyle:{clear:"both"}})])}))],2):e._e(),o("div",{staticStyle:{"boder-top":"solid 0.2rem"}})]),o("div",{staticStyle:{height:"2rem"}})])])},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"detailTopLine"},[o("div",{staticClass:"itemInfo",staticStyle:{width:"3%"}},[e._v("识别号")]),o("div",{staticClass:"itemInfo"},[e._v("姓名")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v("材料类型")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v("子材料类型")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"15%"}},[e._v("标题")]),o("div",{staticClass:"itemInfo"},[e._v("日期")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("页数")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"4%"}},[e._v("材料序号")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"10%"}},[e._v("备注")]),o("div",{staticClass:"itemInfo"},[e._v("操作")]),o("div",{staticClass:"itemInfo",staticStyle:{width:"14%"}},[e._v(" ")]),o("div",{staticStyle:{clear:"both"}})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"detailItem detailItemTitle"},[o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("识别号")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"6%"}},[e._v("关键词")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v("项目")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"10%"}},[e._v("档号")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v("全宗号")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v("目录号")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"10%"}},[e._v("责任者")]),o("div",{staticClass:"itemInfo2",staticStyle:{"font-size":"0.6rem",width:"10%"}},[e._v("\n              题名\n            ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v("成文时间")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"4%"}},[e._v("期限")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("密级")]),o("div",{staticClass:"itemInfo2",staticStyle:{"font-size":"0.6rem",width:"8%"}},[e._v("\n              备注\n            ")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("页数")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("计")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("案卷号")]),o("div",{staticClass:"itemInfo2",staticStyle:{width:"3%"}},[e._v("顺序号")]),o("div",{staticStyle:{clear:"both"}})])}],n=(o("d0f2"),o("1bc7"),o("32ea"),o("3e83")),r=(o("8dee"),o("fc02"),o("7ca0")),a=o("d2cb"),c=o("82ae"),l=o.n(c),u=o("e42f"),d={components:{HidePrint:u["a"],DocIn:a["default"]},watch:{},computed:{docType:function(){return sessionStorage.getItem("docType")},authCode:function(){return sessionStorage.getItem("authCode")||""},getDocInShow:function(){return this.$store.state.showDocIn}},data:function(){return{boxNumMap:{},startBoxNum:0,showStartBoxSet:!1,startStyleCtrl:!1,myBoxNumSwitch:!1,boxSeqTemp:"",boxSeqText:"开始",startSeq:"",endSeq:"",startInfo:{docSequence:0,boxSeq:0},endInfo:{docSequence:0,boxSeq:0},deletedShowSwitch:1,showDocIn:!1,destoryFlag:!0,initTime:"",printDoc:!1,deadlineReq:"期限",yearReq:"年度",docAboutReq:"机构",showCenterPrint:!1,showPrint:!1,reSend:!0,isEnd:null,onceFlag:!1,alreadyDocsRestore:[],filterDocAboutFlag:!1,filterDeadlineFlag:!1,filterSortYearFlag:!1,filterNameFlag:!1,sortYearCheck:!1,dabCheck:!1,ddlCheck:!1,nameFilter:[],yearFilter:[],docAboutFilter:[],deadlineFilter:[],advSearchShow:!1,searchContent:"输入识别号",searchForm:{authId:sessionStorage.getItem("authId"),batchId:sessionStorage.getItem("batchId"),docSequence:"",docTitle:"",docDesc:"",docDate:"",dutyAuthor:"",docType:"",personName:""},RsDocs:[[[{id:"1",docSequence:"123qwe",docType:"personnel",docTitle:"材料1巴拉巴拉",docAbout:"履历材料",docAboutSub:"无",keyword:"关键字",docDate:"20180808",docTypeCode:"RS",docSecret:"",docPage:"23",remark:"",docNumber:"1",personName:"陈海林",docDescNum:"0"},{id:"2",docSequence:"321qwe",docType:"personnel",docTitle:"材料1巴拉巴拉2",docAbout:"履历材料",docAboutSub:"无",keyword:"关键字2",docDate:"20180808",docTypeCode:"RS",docSecret:"",docPage:"23",remark:"",docNumber:"2",personName:"陈海林",docDescNum:"0"}],[{id:"1",docSequence:"12aswe",docType:"personnel",docTitle:"材料2巴拉巴拉",docAbout:"自传材料",docAboutSub:"无",keyword:"关键字1",docDate:"20180808",docTypeCode:"RS",docSecret:"",docPage:"23",remark:"",docNumber:"1",personName:"陈海林",docDescNum:"0"},{id:"2",docSequence:"32asde",docType:"personnel",docTitle:"材料2巴拉巴拉2",docAbout:"自传材料",docAboutSub:"无",keyword:"关键字2",docDate:"20180808",docTypeCode:"RS",docSecret:"",docPage:"23",remark:"",docNumber:"2",personName:"陈海林",docDescNum:"0"}],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]]],showWaitingFlag:!1,tempOrganName:"name",tempOrganCode:123}},methods:{enterToPrint:function(){console.log("p")},boxOver:function(e){if(this.myBoxNumSwitch){if(this.startSeq){if(e.docSequence==this.startSeq)return;this.endInfo.docSequence=e.docSequence,this.endInfo.boxSeq=e.boxSeq,e.boxSeq="结束",this.endSeq=e.docSequence,this.preComputeBox()}""==this.startSeq&&(this.startInfo.docSequence=e.docSequence,this.startInfo.boxSeq=e.boxSeq,e.boxSeq="开始")}},boxLeave:function(e){this.startSeq!=e.docSequence&&(this.startInfo.docSequence==e.docSequence&&(e.boxSeq=this.startInfo.boxSeq),this.endInfo.docSequence==e.docSequence&&(e.boxSeq=this.endInfo.boxSeq))},boxClick:function(e){if(this.myBoxNumSwitch){if(""==this.startSeq)return void(this.startSeq=e.docSequence);this.endSeq=e.docSequence,this.startSeq&&this.endSeq&&(this.showStartBoxSet=!0,this.$message({type:"success",message:"修改完成后请点击“保存盒号”"}))}},manualBox:function(){this.showStartBoxSet=!1;for(var e=-1,t=-1,o=this.$store.state.alreadyDocs,s=0;s<o.length;s++)o[s].docSequence==this.startSeq&&(e=s),o[s].docSequence==this.endSeq&&(t=s);var i=e;if(e>=0)for(;i<=t;i++)o[i].boxSeq=this.startBoxNum,this.boxNumMap[o[i].id]=this.startBoxNum;this.startSeq="",this.endSeq="",console.log(this.boxNumMap)},cancleManulBox:function(){this.showStartBoxSet=!1,this.startSeq="",this.endSeq=""},preComputeBox:function(){for(var e=-1,t=-1,o=this.$store.state.alreadyDocs,s=0;s<o.length;s++)o[s].docSequence==this.startSeq&&(e=s),o[s].docSequence==this.endSeq&&(t=s);if(e>=0){var i=o[e].docPage;console.log(i),o[e].pageTotal=i;for(var n=e+1;n<=t;n++)i+=o[n].docPage,o[n].pageTotal=i,console.log(i)}console.log(o)},myBoxNum:function(){var e=this;this.boxNumMap;if(this.myBoxNumSwitch)return this.postRequest("/work/boxSet/"+sessionStorage.getItem("batchId"),JSON.stringify(this.boxNumMap)).then((function(t){console.log(t),0==t.code&&e.$message({type:"success",message:"保存成功，若重新排件号将覆盖已保存盒号"})})),void(this.myBoxNumSwitch=!1);this.myBoxNumSwitch||(this.myBoxNumSwitch=!0)},showDeleted:function(){var e=this;if(this.deletedShowSwitch=!this.deletedShowSwitch,0==this.deletedShowSwitch){this.showWaitingFlag=!0;var t="/document/page/"+sessionStorage.getItem("docType")+"/"+sessionStorage.getItem("batchId")+"?pageNow=0&pageSize=100000";l.a.get(this.baseurl+t,{headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:localStorage.getItem("token")?localStorage.getItem("token").split('"')[1]||localStorage.getItem("token"):null}}).then((function(t){t&&(e.$store.state.sequenceDocs=t.data.content,e.showWaitingFlag=!1,e.$store.state.alreadyDocs=e.$store.state.sequenceDocs)})),console.log("全部的文件按照序列号，开关处于已删除文件")}else this.showAllDocs()},lockThisBatch:function(){var e=this;this.putRequest("/work/"+sessionStorage.getItem("batchId")+"/1/end").then((function(t){console.log(t),0==t.code&&(e.isEnd=!0,window.sessionStorage.setItem("isEnd",1))}))},unLockThisBatch:function(){var e=this;this.putRequest("/work/"+sessionStorage.getItem("batchId")+"/0/end").then((function(t){console.log(t),0==t.code&&(e.isEnd=!1,window.sessionStorage.setItem("isEnd",0))}))},sortYearCheckChange:function(){this.filterFromRequests()},dabCheckChange:function(){this.filterFromRequests()},ddlCheckChange:function(){this.filterFromRequests()},hideCenterPrintBtn:function(){this.showCenterPrint=!1},showCenterPrintBtn:function(){},likeDescComplete:function(){var e=this.searchForm.docDesc.replace(/【/g,"["),t=e.replace(/】/g,"]");this.searchForm.docDesc=t},showFilterName:function(){this.filterNameFlag=!0},hideFilterName:function(){this.filterNameFlag=!1},showFilterSortYear:function(){this.filterSortYearFlag=!0},hideFilterSortYear:function(){this.filterSortYearFlag=!1},showAllDocs:function(){window.scrollTo(0,0),this.ddlCheck=!1,this.dabCheck=!1,this.sortYearCheck=!1,this.$store.state.alreadyDocs=this.$store.state.rawDocs},filterFromRequests1:function(e){this.yearReq=e,this.filterFromRequests()},filterFromRequests2:function(e){this.docAboutReq=e,console.log(e),console.log(this.docAboutReq),this.filterFromRequests()},filterFromRequests3:function(e){this.deadlineReq=e,this.filterFromRequests()},filterFromRequests:function(){window.scrollTo(0,0),console.log(this.alreadyDocsRestore),this.alreadyDocsRestore=this.$store.state.rawDocs,this.alreadyDocsRestore.length>0&&(console.log("把显示的列表设为储存的数据alreadyDocsRestore"),this.$store.state.alreadyDocs=this.$store.state.rawDocs);var e=this.alreadyDocsRestore,t=this;this.dabCheck&&(console.log(this.dabCheck),console.log(Object(n["a"])(this.dabCheck))),"机构"==this.docAboutReq||!this.dabCheck&&"true"!=this.dabCheck||"false"==this.dabCheck||(console.log("筛选勾选了的条件"),e=e.filter((function(e,o,s){return e.docAbout==t.docAboutReq}))),console.log(this.docAboutReq),console.log(e),"年度"!=this.yearReq&&(this.sortYearCheck||"true"==this.sortYearCheck&&"false"!=this.sortYearCheck)&&(e=e.filter((function(e,o,s){return e.sortYear==t.yearReq}))),"期限"==this.deadlineReq||!this.ddlCheck&&"true"!=this.ddlCheck||"false"==this.ddlCheck||(e=e.filter((function(e,o,s){return e.deadline==t.deadlineReq}))),this.alreadyDocsRestore=e,console.log("筛选后的docs"),console.log(e),console.log("vux存的docs"),console.log(this.$store.state.rawDocs),this.$store.state.alreadyDocs=e},filterThisRequest:function(e,t){window.scrollTo(0,0),this.alreadyDocsRestore.length>0&&(this.$store.state.alreadyDocs=this.alreadyDocsRestore);var o,s=this.$store.state.alreadyDocs;"docAbout"==e?(this.docAboutReq=t,o=s.filter((function(e,o,s){return e.docAbout==t}))):"deadline"==e?(this.deadlineReq=t,o=s.filter((function(e,o,s){return e.deadline==t}))):"year"==e?(this.yearReq=t,o=s.filter((function(e,o,s){return e.sortYear==t}))):"name"==e&&(o=s.filter((function(e,o,s){return e.personName==t}))),console.log(o),this.$store.state.alreadyDocs=o},hideFilterDocAbout:function(){this.filterDocAboutFlag=!1},showFilterDocAbout:function(){this.filterDocAboutFlag=!0},showFilterDeadline:function(){this.filterDeadlineFlag=!0},hideFilterDeadline:function(){this.filterDeadlineFlag=!1},isNumber:function(e){return!isNaN(e)},filterAlreadyDocs:function(){if("personnel"==sessionStorage.getItem("docType")){var e=[];for(var t in console.log(this.$store.state.alreadyDocs),this.$store.state.alreadyDocs)e.indexOf(this.$store.state.alreadyDocs[t].personName)<0&&e.push(this.$store.state.alreadyDocs[t].personName);return this.nameFilter=e,void console.log(e)}var o=[];for(var t in this.$store.state.rawDocs)o.indexOf(this.$store.state.rawDocs[t].sortYear)<0&&o.push(this.$store.state.rawDocs[t].sortYear);this.yearFilter=o},nullJson:function(e){var t=Object.keys(e);return 0==t.length},getDocAboutFilter:function(){var e,t=this,o=sessionStorage.getItem("organ");o=JSON.parse(o),"official"==sessionStorage.getItem("docType")&&(e=o.docIssueWig),"science"==sessionStorage.getItem("docType")&&(e=o.tecProjectWig),"business"==sessionStorage.getItem("docType")&&(e=o.busProjectWig),"officialJ"==sessionStorage.getItem("docType")&&(e=o.docIssuejWig),this.docAboutFilter=[],this.getRequest("/weight/"+e).then((function(e){for(var o in e.data.tables)console.log(e.data.tables),t.docAboutFilter.push(o)}))},preLoadDocs:function(){var e=this;this.getDocAboutFilter(),console.log("preload");0==this.$store.state.alreadyDocs.length?this.getRequest("/work/sorted/"+sessionStorage.getItem("batchId")).then((function(t){var o=t.data;if(null!=o.sorted&&!e.nullJson(o.sorted)&&e.$store.state.sortedFlag){console.log("sorted！");var s=JSON.parse(o.sorted.sorted);console.log(s),e.$store.state.alreadyDocs=s,e.$store.state.rawDocs=s,e.alreadyDocsRestore=s,e.filterAlreadyDocs()}else console.log("no sorted"),e.loadDocs()})):(this.alreadyDocsRestore=this.$store.state.rawDocs,setTimeout((function(){console.log(e.$store.state.docDetialBar),window.scrollTo(0,e.$store.state.docDetialBar)}),50),this.filterAlreadyDocs()),this.getRequest("/work/"+sessionStorage.getItem("batchId")).then((function(t){var o=t.data,s=o.lastBox;for(var i in e.deadlineFilter=[],e.isEnd=t.data.end,null==t.data.end&&(e.isEnd=0),console.log(e.isEnd),window.sessionStorage.setItem("isEnd",e.isEnd),s)e.deadlineFilter.push(i)}))},loadDocs:function(){var e=this;console.log("load"),this.showWaitingFlag=!0;var t="/document/page/"+sessionStorage.getItem("docType")+"/"+sessionStorage.getItem("batchId")+"?pageNow=0&pageSize=100000";l.a.get(this.baseurl+t,{headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:localStorage.getItem("token")?localStorage.getItem("token").split('"')[1]||localStorage.getItem("token"):null}}).then((function(t){t&&(e.$store.state.alreadyDocs=t.data.content,e.$store.state.rawDocs=t.data.content,e.alreadyDocsRestore=t.data.content,console.log(t.data.content),e.showWaitingFlag=!1)})).then((function(){e.filterAlreadyDocs()}))},putInContent:function(){},clearSearchContent:function(){this.searchContent=""},cancelSearch:function(){this.searchContent="输入识别号",this.alreadyDocsRestore.length>0?this.$store.state.alreadyDocs=this.alreadyDocsRestore:this.preLoadDocs()},goSetRule:function(){this.$store.state.backToDetailFlag=!0,this.$router.push("/work/keyWM")},hideAdvSearch:function(){this.advSearchShow=!1,this.alreadyDocsRestore.length>0?this.$store.state.alreadyDocs=this.alreadyDocsRestore:this.preLoadDocs()},hideAdvSearchNoReload:function(){this.advSearchShow=!1},ShowadvSearch:function(){this.advSearchShow=!0},advSearch:function(){var e=this;this.showWaitingFlag=!0;var t="/document/list/like/"+sessionStorage.getItem("docType")+"?pageNow=0&pageSize=900000";this.searchForm.docType=sessionStorage.getItem("docType");var o=this.searchForm;for(var s in o)""==o[s]&&delete o[s];this.postRequest(t,JSON.stringify(o)).then((function(t){e.showWaitingFlag=!1,e.alreadyDocsRestore=e.$store.state.alreadyDocs,e.$store.state.alreadyDocs=t.data.content}))},searchTheDoc:function(){var e=this;window.scrollTo(0,0),this.showWaitingFlag=!0;var t="/document/list/page/"+sessionStorage.getItem("docType")+"?pageNow=0&pageSize=900000",o={docSequence:this.searchContent,docType:sessionStorage.getItem("docType"),authId:sessionStorage.getItem("authId"),batchId:sessionStorage.getItem("batchId")};this.postRequest(t,JSON.stringify(o)).then((function(t){e.showWaitingFlag=!1,e.alreadyDocsRestore=e.$store.state.alreadyDocs,e.$store.state.alreadyDocs=t.data.content}))},sortThisBatchRS1:function(){var e=this;window.scrollTo(0,0),console.log("查看批次item"),console.log(item),l.a.get(this.baseurl+"/work/list",{headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:localStorage.getItem("token")?localStorage.getItem("token").split('"')[1]||localStorage.getItem("token"):null}}).then((function(t){0==t.code&&(e.organsShow=!1,e.batches=t.data,e.batches.reverse())})).catch((function(e){console.log(e)}))},sortThisBatchRS:function(){var e=this,t="/document/"+sessionStorage.getItem("docType")+"/sort/"+sessionStorage.getItem("batchId")+"?pageNow=0&pageSize=90000";this.$confirm("将对本批人事信息排序，本批工作是否已经完成录入，并且所有关键词都已经设置优先级","提示",{cancelButtonClass:"btn-custom-cancel",cancelButtonText:"设置优先级",confirmButtonText:"是",type:"warning"}).then((function(){e.$store.state.sortedFlag=!0,e.showWaitingFlag=!0,e.isEnd=1,e.getRequest(t).then((function(t){if(console.log("排件号盒号人事"),console.log(t),0==t.code){e.showWaitingFlag=!1;var o=t.data;for(var s in e.$store.state.alreadyDocs=[],o)for(var i in o[s])for(var n in o[s][i])e.$store.state.alreadyDocs.push(o[s][i][n]);e.filterAlreadyDocs()}}))}))},sortThisBatch:function(){var e=this,t="/document/"+sessionStorage.getItem("docType")+"/sort/"+sessionStorage.getItem("batchId")+"?pageNow=0&pageSize=90000";this.$confirm("将生成件号盒号，本批工作是否已经完成录入，并且所有关键词责任者等都已经设置优先级","提示",{cancelButtonClass:"btn-custom-cancel",cancelButtonText:"设置优先级",confirmButtonText:"是",type:"warning"}).then((function(){e.showWaitingFlag=!0,e.$store.state.sortedFlag=!0,e.getRequest(t).then((function(t){if(console.log("排件号盒号"),console.log(t),0==t.code){e.showWaitingFlag=!1,e.$store.state.alreadyDocs=[];for(var o=0;o<t.data.length;o++)for(var s=0;s<t.data[o].length;s++)e.$store.state.alreadyDocs.push(t.data[o][s]);e.$store.state.rawDocs=e.$store.state.alreadyDocs,e.filterAlreadyDocs()}}))}))},goDocIn:function(){1!=this.isEnd?(this.showDocIn=!0,this.$store.state.docDetialBar=0,this.$router.push("/work/docInput")):this.$confirm("该批档案已经锁定","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"是",type:"warning"}).then((function(){}))},reloadTable:function(){var e=this,t="/document/page/"+sessionStorage.getItem("docType")+"/"+sessionStorage.getItem("batchId")+"?pageNow=0&pageSize=1000";l.a.get(this.baseurl+t,{headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("checkAuthId"),token:window.localStorage.getItem("token")?window.localStorage.getItem("token").split('"')[1]||window.localStorage.getItem("token"):null}}).then((function(t){console.log(t),e.$store.state.alreadyDocs=t.data.content}))},backToOrgans:function(){this.$store.state.organIdForJump=sessionStorage.getItem("authId"),this.$router.push("/work/modifyOrgan")},focusOnThis:function(e){},getExcel:function(){var e=this;this.$confirm("下载前请确保已排序","提示",{cancelButtonClass:"btn-custom-cancel",cancelButtonText:"否",confirmButtonText:"是",type:"warning"}).then((function(){var t="/document/excel/"+sessionStorage.getItem("docType")+"/"+sessionStorage.getItem("batchId");if("personnel"!=sessionStorage.getItem("docType"))return e.showWaitingFlag=!0,void l()({method:"get",url:e.baseurl+t,responseType:"arraybuffer",headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:window.localStorage.getItem("token")?window.localStorage.getItem("token").split('"')[1]||window.localStorage.getItem("token"):null}}).then((function(t){console.log(t);var o=new Blob([t]),s="文件名称.xls",i=document.createElement("a");i.download=s,i.style.display="none",i.href=URL.createObjectURL(o),document.body.appendChild(i),i.click(),URL.revokeObjectURL(i.href),document.body.removeChild(i),e.showWaitingFlag=!1}));e.showWaitingFlag=!0,l()({method:"get",url:e.baseurl+t,headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:window.localStorage.getItem("token")?window.localStorage.getItem("token").split('"')[1]||window.localStorage.getItem("token"):null},responseType:"blob"}).then((function(t){if(navigator.userAgent.match(/MSIE\s([\d.]+)/)||navigator.userAgent.indexOf("Trident")>-1)window.navigator.msSaveBlob(t,"人员信息.zip");else{var o=window.URL.createObjectURL(t),s=document.createElement("a");s.style.display="none",s.href=o,s.download="人员信息.zip",document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(o),e.showWaitingFlag=!1}})).catch((function(t){e.$message.warning("导出失败")}))}))},fixThisItem:function(e){if(this.$store.state.noChufa=!0,1!=this.isEnd){"true"==e.docDescAuthor||e.docDescAuthor||"1"==e.docDescAuthor?e.docDescAuthor=!0:e.docDescAuthor=!1,this.$message.warning("修改后请重新排件号盒号"),console.log(e),this.$store.state.tempDoc=Object.assign({},e),this.$store.state.tempDocId=e.id,this.$store.state.tempDocSeq=e.docSequence;var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;console.log(t),this.$store.state.docDetialBar=t,this.$router.push("/work/docInput")}else this.$confirm("该批档案已经锁定","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"是",type:"warning"}).then((function(){}))},aaa:function(){},printReal:function(){},printBtn:function(e){if(this.$store.state.printDoc=e,console.log(this.$store.state.printDoc),window.sessionStorage.setItem("docId",e.id),"personnel"==sessionStorage.getItem("docType")){4!=e.personJob&&5!=e.personJob||(window.sessionStorage.setItem("rsPrint",4),window.sessionStorage.setItem("rsPrintSub",e.personJob-3+"-"+e.docNum)),e.personJob<4?(window.sessionStorage.setItem("rsPrint",e.personJob),window.sessionStorage.setItem("rsPrintSub","-"+e.docNum)):e.personJob<10?(window.sessionStorage.setItem("rsPrint",e.personJob-1),window.sessionStorage.setItem("rsPrintSub","-"+e.docNum)):e.personJob>9&&e.personJob<16?(window.sessionStorage.setItem("rsPrint",e.personJob-9),window.sessionStorage.setItem("rsPrintSub",e.personJob-9+"-"+e.docNum)):(window.sessionStorage.setItem("rsPrint",10),window.sessionStorage.setItem("rsPrintSub","-"+e.docNum));var t=sessionStorage.getItem("rsPrint");window.sessionStorage.setItem("rsPrint",t+" ")}else if("official"==sessionStorage.getItem("docType")||"business"==sessionStorage.getItem("docType")||"officialJ"==sessionStorage.getItem("docType")){window.sessionStorage.setItem("authCode",sessionStorage.getItem("authCode")),window.sessionStorage.setItem("sortYear",e.sortYear),window.sessionStorage.setItem("docNum",e.docNum),window.sessionStorage.setItem("docAbout",e.docAbout),window.sessionStorage.setItem("aboutTextNum",e.docAbout.length);var o=e.deadline;this.isNumber(o)&&(console.log(o),o+="年"),window.sessionStorage.setItem("timedue",o),window.sessionStorage.setItem("docPage",e.docPage)}else if("science"==sessionStorage.getItem("docType")){var s=sessionStorage.getItem("authCode"),i=s;while("0"==i.charAt(0))i=i.substring(1);var n=i+"-"+sessionStorage.getItem("docTypeCode")+"-"+e.boxSeq;window.sessionStorage.setItem("danghao1",n),window.sessionStorage.setItem("kjXuhao",e.docNum)}this.showCenterPrint=!0;var r=this.$store.state.alreadyDocs;window.localStorage.setItem("docs",JSON.stringify(r))},formatFourNum1:function(e){var t=e+"";if(void 0!=t&&"null"!=t&&t&&""!=t){var o=t;while(o.length<4)o="0"+o;return o}return"暂无"},formatFiveKJ:function(e){var t=e+"";if(void 0!=t&&"null"!=t&&t&&""!=t){var o=t;while(o.length<5)o="0"+o;return o}return"暂无"},formatThreeKJ:function(e){var t=e+"";if(void 0!=t&&"null"!=t&&t&&""!=t){var o=t;while(o.length<3)o="0"+o;return o}return"暂无"},deleteThisItem:function(e){var t=this;1!=this.isEnd?this.$confirm("是否删除这条档案数据，删除后请排件号盒号再导出，否则可能会出错","提示",{cancelButtonClass:"btn-custom-cancel",cancelButtonText:"否",confirmButtonText:"是",type:"warning"}).then((function(){t.showWaitingFlag=!0;var o="/document/"+sessionStorage.getItem("docType")+"/"+e.id;l.a.delete(t.baseurl+o,{headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:window.localStorage.getItem("token")?window.localStorage.getItem("token").split('"')[1]||window.localStorage.getItem("token"):null}}).then((function(e){0==e.code&&(t.showWaitingFlag=!1,t.loadDocs())}))})):this.$confirm("该批档案已经锁定","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"好的",type:"warning"}).then((function(){}))}},created:function(){this.alreadyDocsRestore=[],this.preLoadDocs()},mounted:function(){var e=new Date,t=e.getHours()+"-"+e.getMinutes()+"-"+e.getSeconds();console.log("init 一个detail"+t),this.initTime=t;var o=this;r["a"].$on("printBackThisDoc",(function(e){o.$store.state.printDoc=e,console.log(e.id+o.initTime+"收到并且设置!!!!"),o.printBtn(e)}))},destroyed:function(){this.destoryFlag=!1,console.log("destory")}},h=d,m=(o("db4c"),o("5d22")),f=Object(m["a"])(h,s,i,!1,null,"0a765e10",null);t["default"]=f.exports},1413:function(e,t,o){},"1b91":function(e,t,o){},"1f6c":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"wrapper"},[o("div",{staticStyle:{height:"6.5rem",position:"relative"}},[e.organsShow?e._e():o("div",{staticClass:"topTextButton",staticStyle:{position:"absolute",bottom:"-1.1rem",right:"20%","font-size":"1.2rem",cursor:"pointer"},on:{click:e.backOrgans}},[e._v("\n          返回\n        ")]),e.organsShow?o("div",{staticClass:"topTextButton",staticStyle:{position:"fixed",top:"5.5rem",right:"24%","font-size":"1.1rem",cursor:"pointer"},on:{click:e.presetNameShow}},[e._v("\n          预设单位\n        ")]):e._e(),e.organsShow?o("div",{staticClass:"topTextButton",staticStyle:{position:"fixed",top:"5.5rem",right:"17%","font-size":"1.1rem",cursor:"pointer"},on:{click:e.showUsusal}},[e._v("\n          常用单位\n        ")]):e._e(),e.organsShow?o("div",{staticClass:"topTextButton",staticStyle:{position:"fixed",top:"5.5rem",right:"10%","font-size":"1.1rem",cursor:"pointer"},on:{click:e.showAll}},[e._v("\n          所有单位\n        ")]):e._e()]),e.presetNameShowFlag?o("div",{staticClass:"windowStyle",staticStyle:{position:"fixed",top:"40vh",left:"50%","margin-left":"-15rem","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"30rem",height:"10rem","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1.2rem",width:"100%","text-align":"center",color:"#ddd"}},[e._v("\n          请预设单位名和全宗号\n        ")]),o("el-checkbox",{staticClass:"organShowCheckbox",staticStyle:{position:"absolute",right:"1rem",top:"8rem"},attrs:{"false-label":"false","true-label":"true"},on:{change:e.logShowtoSet},model:{value:e.showToSet,callback:function(t){e.showToSet=t},expression:"showToSet"}},[e._v("设为常用")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.nameToSet,expression:"nameToSet"}],staticStyle:{height:"1.5rem","margin-left":"6rem","margin-top":"2rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.nameToSet},on:{input:function(t){t.target.composing||(e.nameToSet=t.target.value)}}}),e._v("   :\n        "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.authCodeToSet,expression:"authCodeToSet"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.authCodeToSet},on:{input:function(t){t.target.composing||(e.authCodeToSet=t.target.value)}}}),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"5rem",color:"#ddd"},on:{click:e.clearFixNA}},[e._v("\n          取消\n        ")]),o("div",{staticClass:"textButton",staticStyle:{color:"#ddd",position:"absolute"},on:{click:e.dopreSetNA}},[e._v("\n          确定\n        ")])],1):e._e(),e.fixNameShow?o("div",{staticClass:"windowStyle",staticStyle:{position:"fixed",top:"40vh",left:"50%","margin-left":"-15rem","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"30rem",height:"10rem","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1.2rem",width:"100%","text-align":"center",color:"#ddd"}},[e._v("\n          请修改单位名或全宗号\n        ")]),o("el-checkbox",{staticClass:"organShowCheckbox",staticStyle:{position:"absolute",right:"1rem",top:"8rem"},attrs:{"false-label":"false","true-label":"true"},model:{value:e.showToSet,callback:function(t){e.showToSet=t},expression:"showToSet"}},[e._v("是否显示")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.nameToSet,expression:"nameToSet"}],staticStyle:{height:"1.5rem","margin-left":"6rem","margin-top":"2rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.nameToSet},on:{input:function(t){t.target.composing||(e.nameToSet=t.target.value)}}}),e._v("   :\n        "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.authCodeToSet,expression:"authCodeToSet"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.authCodeToSet},on:{input:function(t){t.target.composing||(e.authCodeToSet=t.target.value)}}}),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"5rem",color:"#ddd"},on:{click:e.clearFixNA}},[e._v("\n          取消\n        ")]),o("div",{staticClass:"textButton",staticStyle:{color:"#ddd"},on:{click:function(t){return e.doFixNA()}}},[e._v("\n          确定\n        ")])],1):e._e(),e.organsShow?o("div",[o("div",{staticStyle:{width:"100%","text-align":"center","font-size":"1.2rem","/* border-bottom":"0.2rem solid rgb(44, 44, 44)","*/\n    margin-bottom":"1rem",height:"5rem","line-height":"2rem",position:"fixed","background-color":"rgb(255,255,255)",top:"4.5rem"}},[e._v("\n          您的档案单位\n        ")]),o("div",{staticClass:"organItem",staticStyle:{height:"3rem"}}),e._m(0),e._l(this.organs,(function(t,s){return o("div",{key:t.id,staticClass:"organItem infoItemHighlight"},[o("div",{staticClass:"organInfo",staticStyle:{width:"12%","font-size":"0.8rem",border:"none"}},[e._v("\n            "+e._s(s+1)+"\n          ")]),o("div",{staticClass:"organInfo",staticStyle:{"font-size":"0.8rem",border:"none"},attrs:{"v-model":e.tempOrganName},on:{focus:function(o){return e.focusOnThis(t)},blur:function(o){return e.loseThis(t)}}},[e._v("\n            "+e._s(t.authName)+"\n          ")]),o("div",{staticClass:"organInfo",staticStyle:{"font-size":"0.8rem",border:"none"},attrs:{"v-model":e.tempOrganCode},on:{focus:e.focusOnThis,blur:function(t){e.isLocked=!1}}},[e._v("\n            "+e._s(e._f("formatAuthCode")(t.authCode))+"\n          ")]),o("div",{staticClass:"organInfo hoverStyle",staticStyle:{border:"none","font-size":"0.9rem"},on:{click:function(o){return e.fixThisOrgan(t)}}},[e._v("\n            修改对照表\n          ")]),o("div",{staticClass:"organInfo hoverStyle",staticStyle:{border:"none"},on:{click:function(o){return e.checkThisOrganBat(t)}}},[e._v("\n            查看批次\n          ")]),o("div",{staticClass:"organInfo hoverStyle",staticStyle:{border:"none"},on:{click:function(o){return e.delThisOrgan(t)}}},[e._v("\n            删除单位记录\n          ")]),o("div",{staticClass:"organInfo hoverStyle",staticStyle:{border:"none"},on:{click:function(o){return e.fixOrganName(t)}}},[e._v("\n            修改单位\n          ")]),o("div",{staticStyle:{clear:"both"}})])}))],2):e._e(),e.organsShow?e._e():o("div",[o("div",{staticClass:"organIrem",staticStyle:{height:"4rem"}}),o("div",{staticClass:"organIrem",staticStyle:{height:"4rem",width:"100%",position:"fixed","background-color":"rgb(255,255,255)",top:"4.5rem"}}),e._m(1),e._l(this.batches,(function(t){return o("div",{key:t.id,staticClass:"organItem infoItemHighlight",staticStyle:{height:"2.2rem"}},[o("div",{staticClass:"BatchInfo"},[e._v(e._s(t.batchName))]),o("div",{staticClass:"BatchInfo"},[e._v(e._s(e._f("formatdocType")(t.docType)))]),o("div",{staticClass:"BatchInfo"},[e._v(e._s(t.createTime))]),o("div",{staticClass:"BatchInfo"},[e._v("已完成")]),o("div",{staticClass:"BatchInfo hoverStyle",staticStyle:{width:"6%"},on:{click:function(o){return e.batchDocs(t)}}},[e._v("\n            查看\n          ")]),o("div",{staticClass:"BatchInfo hoverStyle",staticStyle:{width:"6%"},on:{click:function(o){return e.deleteTheBatch(t)}}},[e._v("\n            删除\n          ")])])}))],2)])])},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"organItem topFix",staticStyle:{"border-bottom":"none",height:"2rem","line-height":"2rem",top:"7rem",position:"fixed"}},[o("div",{staticClass:"organInfo tip",staticStyle:{width:"12%","margin-left":"2rem"}},[e._v("序号")]),o("div",{staticClass:"organInfo tip"},[e._v("单位名")]),o("div",{staticClass:"organInfo tip"},[e._v("单位全宗号")]),o("div",{staticClass:"organInfo tip"},[e._v("权重表修改")]),o("div",{staticClass:"organInfo tip"},[e._v("操作")]),o("div",{staticClass:"organInfo tip"},[e._v(" ")]),o("div",{staticClass:"organInfo tip"})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"organItem ",staticStyle:{"border-bottom":"solid",height:"2rem","line-height":"2rem",top:"7.8rem",position:"fixed","margin-left":"2.5%","background-color":"rgb(255,255,255)"}},[o("div"),o("div",{staticClass:"BatchInfo"},[e._v("批次名")]),o("div",{staticClass:"BatchInfo"},[e._v("类型")]),o("div",{staticClass:"BatchInfo"},[e._v("时间")]),o("div",{staticClass:"BatchInfo"},[e._v("状态")]),o("div",{staticStyle:{clear:"both"}})])}],n=(o("fc02"),o("1bc7"),o("0c84"),o("3e38"),o("82ae")),r=o.n(n),a={data:function(){return{showToSetReal:!0,organsOrigin:[],usualOrgans:[],showToSet:"",presetNameShowFlag:!1,fixNameShow:!1,nameToSet:"",authCodeToSet:"",authfix:"",tempOrganName:"name",tempOrganCode:123,organsShow:!0,organs:"",organMap:new Map,batches:""}},methods:{logShowtoSet:function(){console.log(this.showToSet),this.showToSet?this.showToSetReal=!0:this.showToSetReal=!1},showUsusal:function(){for(var e in window.scrollTo(0,0),this.organsOrigin=JSON.parse(JSON.stringify(this.organs)),this.usualOrgans=[],this.organs)this.organs[e].show&&this.usualOrgans.push(this.organs[e]);this.organs=JSON.parse(JSON.stringify(this.usualOrgans))},showAll:function(){window.scrollTo(0,0),this.organs=JSON.parse(JSON.stringify(this.organsOrigin))},deleteTheBatch:function(e){var t=this;this.$confirm("确定要删除该批次及相关记录吗",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var o="/work/"+e.id;t.deleteRequest(o).then((function(o){0==o.code&&(t.batches=t.batches.filter((function(t){return t.id!=e.id})),t.$message({type:"success",message:"删除成功"}))}))})).catch((function(){}))},fixOrganName:function(e){this.nameToSet=e.authName,this.authCodeToSet=e.authCode,this.authfix=e,console.log(e),console.log(e.show);var t=e.show;this.showToSet=t,this.fixNameShow=!0},clearFixNA:function(){this.fixNameShow=!1,this.presetNameShowFlag=!1},presetNameShow:function(){this.nameToSet="单位名",this.authCodeToSet="全宗号",this.presetNameShowFlag=!0},dopreSetNA:function(){var e=this;console.log("预设"),console.log(this.showToSet);var t=this.showToSet;console.log(t);var o={authName:this.nameToSet,authCode:this.authCodeToSet,show:t};console.log(o),this.postRequest("/organ",JSON.stringify(o)).then((function(t){t&&(1201==t.code?e.getRequest("/organ/"+t.data).then((function(t){e.$message({type:"error",message:"单位名已存在，若重复请前往管理"})})):1202==t.code?e.$message({type:"error",message:"单位代码已存在，若重复请前往管理"}):0==t.code&&(e.$message({type:"success",message:"预设成功"}),e.presetNameShowFlag=!1))})).then((function(){e.getRequest("/organs").then((function(t){0==t.code&&(console.log("修改单位后请求单位列表"),e.organs=t.data,e.organs.reverse(),e.showUsusal())}))}))},doFixNA:function(){var e=this;this.authfix.authName=this.nameToSet,this.authfix.authCode=this.authCodeToSet,console.log("修改单位"),console.log(this.showToSet);var t=this.showToSet;this.authfix.show=t,this.putRequest("/organ/"+this.authfix.id,JSON.stringify(this.authfix)).then((function(t){0==t.code&&e.getRequest("/organs").then((function(t){0==t.code&&(console.log("修改单位后请求单位列表"),e.organs=t.data,e.organs.reverse(),e.showUsusal())}))})),this.fixNameShow=!1},fixThisOrgan:function(e){window.sessionStorage.setItem("authId",e.id),window.sessionStorage.setItem("authCode",e.authCode),window.sessionStorage.setItem("authName",e.authName),this.$router.push("/work/keyWM")},batchDocs:function(e){window.scrollTo(0,0),this.$store.state.alreadyDocs=[],console.log(e),console.log("查看某批"),window.sessionStorage.setItem("docType",e.docType),window.sessionStorage.setItem("docTypeCode",e.docTypeCode),window.sessionStorage.setItem("batchId",e.id),window.sessionStorage.setItem("lastBox",JSON.stringify(e.lastBox)),this.$router.push("/work/docInputD")},backOrgans:function(){this.organsShow=!0},checkThisOrganBat:function(e){var t=this;window.scrollTo(0,0),console.log("查看批次item"),console.log(e),window.sessionStorage.setItem("authId",e.id),window.sessionStorage.setItem("authCode",e.authCode),window.sessionStorage.setItem("authName",e.authName),window.sessionStorage.setItem("organ",JSON.stringify(e)),r.a.get(this.baseurl+"/work/list",{headers:{"Content-Type":"application/json",authId:e.id,token:localStorage.getItem("token")?localStorage.getItem("token").split('"')[1]||localStorage.getItem("token"):null}}).then((function(e){0==e.code&&(t.organsShow=!1,t.batches=e.data,t.batches.reverse())})).catch((function(e){console.log(e)}))},delThisOrgan:function(e){var t=this;this.$confirm("确定要删除该单位及相关记录吗",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var o="/organ/"+e.id;t.deleteRequest(o).then((function(o){0==o.code&&(t.organs=t.organs.filter((function(t){return t.id!=e.id})),t.$message({type:"success",message:"删除成功"}))}))})).catch((function(){}))},focusOnThis:function(e){},loseThis:function(e){}},created:function(){var e=this;window.scrollTo(0,0),this.getRequest("/organs").then((function(t){0==t.code&&(console.log("加载时请求单位列表"),e.organs=t.data,e.organs.reverse())})).then((function(){console.log(e.$store.state.organIdForJump);var t=e.$store.state.organIdForJump;if(t){console.log(t);for(var o=0;o<e.organs.length;o++)console.log(e.organs[o].id),e.organs[o].id==t&&e.checkThisOrganBat(e.organs[o]);e.$store.state.organIdForJump=null}else e.showUsusal()}))}},c=a,l=(o("835a"),o("4779"),o("59a8"),o("5d22")),u=Object(l["a"])(c,s,i,!1,null,"5a46e126",null);t["default"]=u.exports},"25f8":function(e,t,o){"use strict";o("d369")},"28eb":function(e,t,o){},2956:function(e,t,o){},"2cfd":function(e,t,o){"use strict";o("4703")},"2dec":function(e,t,o){"use strict";o("1b91")},"347d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAMAAAArteDzAAAAk1BMVEUAAAAAhP8AhP8AhP8Ag/8Ag/8AhP8AhP8Akv8Ajf8AlP8AhP8Ag/8Ag/8Ahf8AhP8AhP8AhP8Aqv8Ahf8Ag/8AhP8AhP8Ahv8AhP8Aiv8AhP8AhP8Ag/8Ahf8AhP8Ah/8AiP8AhP8AhP8Ag/8Ahf8AhP8AhP8Ag/8Ahv8Ahv8AhP8Ahf8AhP8Ahf8Ah/8AhP8Ag/8zldTyAAAAMHRSTlMA/NrK+dL2ogsOCOm12F3l4M8ET8HDx1NIFLy4rFlWLhj1sWFFQe1oSjS0mYtzJ36r6wYGAAACP0lEQVRYw+3X25KiMBAGYCLhIIwnUGAdRwbxfJp+/6fbqmyGHjRms032jv9O0n4mRZfVcfr06aNLcvBmqfM1mR0tmisA4BcAYGOrpgyq3U3barIBsKeiaVuN3gBsq9E7gD0VTdtqtIQXYTUZxX0+q2uiefgG3J/hILL/RUMzicatp1P5NKehIy16oKGBFj3R0HulQd8dYnbVS3T0+a/YMK1Pf1RfgdLMfA8AG9EyW1+FSvN0ns6+IjNzzMQBPaEWXIEOPrGN3aGxiWrKH1Fp1gDG6oc0UWUPqDDFb6NqaKKaT1oVSzRlsqGxieq23RpYh6qZiaoqOQMwU9HkXpNA1TIpmn9V19+1A0eb0p012aOqNxE1/9OBhVLdMiChWtWFbihcFctxVzRWLF+7oq5qvgm6oZNSsVz43dBN9D9e1EWx7NFQ/bduXdGNZmCmotVdM94S0WqnLkjOsoCPmng7M9TfmY/NbKzs6EGTSppb8yGXfajnggza4YX5mMvWgmhVlOLRom0ezYdnngpg3ioYiIOGc2jV6YLlaGZ+a33iF6JsaWKiusAziU8PqESaI7HcaDwTe5UbmsMTCjzHl2o8/Cc3b7oqpalAJRQFABAXhCuPAsX2Les8JFzNFGjHe1QAalSoJc0sQYPCiobWWnRAQ3MtmtHQUM5J7O1nuERvDi0Fg5dZJA4xa/bSDB1ycmbPxKScYBJUNOk5PqlzNMkpuEUTVd+6KW69lk28969iNK3kfp5eopMbX0OnT58+mvwG1brmVjD/BKgAAAAASUVORK5CYII="},"3bbc":function(e,t,o){},"3f87":function(e,t,o){e.exports=o.p+"img/pic2.9ec895f2.png"},"45a3":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"wrapper"},[o("div",{staticStyle:{height:"6.5rem",position:"relative"}},[o("div",{staticStyle:{position:"absolute",top:"6rem","font-size":"1.4rem",width:"50rem",left:"50%","margin-left":"-25rem","text-align":"center"}},[e._v(" 用户管理")]),o("div",{staticStyle:{position:"absolute",top:"7rem",right:"3rem","font-size":"1.2rem","text-align":"center",cursor:"pointer"},on:{click:e.fixPswShowFunc}},[e._v(" 修改密码")]),o("div",{staticClass:"fixPswBox"},[e.fixPswShow?o("el-form",{staticClass:"specialELContainer",staticStyle:{"background-color":"rgb(209, 218, 243) !important"},attrs:{model:e.searchForm,"label-width":"6rem"}},[o("h3",{staticStyle:{"text-align":"center",color:"#505458"}},[e._v("输入密码")]),o("el-form-item",{attrs:{prop:"username",label:"用户名："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"用户名"},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),o("el-form-item",{attrs:{prop:"password",label:"密码："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"密码"},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),o("el-button",{staticStyle:{"margin-left":"35%",float:"left"},attrs:{size:"normal",type:"primary"},on:{click:e.fixPswSubmit}},[e._v("修改")]),o("el-button",{staticStyle:{position:"absolute",left:"60%"},attrs:{size:"normal",type:"warning"},on:{click:e.cancleFixPsw}},[e._v("取消")])],1):e._e()],1)]),o("div",{staticStyle:{"margin-top":"3rem"}},[e._m(0),e._l(e.userTable,(function(t,s){return o("div",{key:s,staticClass:"userItem"},[o("div",{staticClass:"userInfo"},[e._v(e._s(t.user.username))]),o("div",{staticClass:"userInfo"},[e._v(e._s(e._f("formatTime")(t.user.registryTime)))]),o("div",{staticClass:"userInfo"},[e._v(e._s("湖南溇澧档案管理服务有限公司"==t.user.workplace?"":t.user.workplace))]),o("div",{staticClass:"userInfo"},[e._v(e._s(t.user.phone))]),o("div",{staticClass:"userInfo"},[e._v(e._s(t.role))]),o("div",{staticClass:"userInfo"},[e._v(e._s(e._f("formatEndTime")(t.endTime)))]),o("el-button",{staticClass:"kvButton",attrs:{type:"primary"},on:{click:function(o){return e.continueFee(o,t)}}},[e._v("续费")]),"可用"==t.state?o("el-button",{staticClass:"kvButton",attrs:{type:"danger"},on:{click:function(o){return e.banUser(o,t)}}},[e._v("禁用")]):e._e(),"禁用"==t.state?o("el-button",{staticClass:"kvButton",attrs:{type:"info"},on:{click:function(o){return e.unBanUser(o,t)}}},[e._v("解禁")]):e._e(),o("el-button",{staticClass:"kvButton",attrs:{type:"warning"},on:{click:function(o){return e.fixPswUser(o,t)}}},[e._v("改密")])],1)}))],2)])])},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"userItem",staticStyle:{"border-top":"0.2rem solid"}},[o("div",{staticClass:"userInfo"},[e._v("用户名")]),o("div",{staticClass:"userInfo"},[e._v("注册时间")]),o("div",{staticClass:"userInfo"},[e._v("工作地点")]),o("div",{staticClass:"userInfo"},[e._v("手机号码")]),o("div",{staticClass:"userInfo"},[e._v("权限")]),o("div",{staticClass:"userInfo"},[e._v("到期时间")]),o("div",{staticClass:"userInfo"},[e._v("操作")])])}],n=(o("82ae"),{data:function(){return{fixPswShow:!1,userForm:{username:"",password:""},userTable:[]}},methods:{fixPswShowFunc:function(){this.fixPswShow=!0,this.userForm.username=""},cancleFixPsw:function(){this.fixPswShow=!1},fixPswUser:function(e,t){var o=this;this.$confirm("确定和用户协商好，修改此用户密码吗","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){o.userForm.username=t.user.username,o.fixPswShow=!0}))},unBanUser:function(e,t){var o=this;this.$confirm("解除禁用此用户使用权限吗","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){var e="/admin/user/"+t.user.username+"/1";o.postRequest(e).then((function(e){0==e.code&&(o.$message({type:"sucess",message:"解除成功"}),o.renewTable())}))}))},banUser:function(e,t){var o=this;this.$confirm("禁用此用户使用权限吗","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){var e="/admin/user/"+t.user.username+"/103";o.postRequest(e).then((function(e){0==e.code&&(o.$message({type:"success",message:"禁用成功"}),o.renewTable())}))}))},continueFee:function(e,t){var o=this;console.log(t);var s=t.user.username;this.$confirm("续费一年此用户使用权限吗","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){console.log("改变用户权限");var e="/admin/user/"+s;o.putRequest(e).then((function(e){0==e.code&&(o.$message({type:"success",message:"赋权成功"}),o.renewTable()),console.log(e)}))}))},renewTable:function(){var e=this;this.getRequest("/admin/users?pageNow=0&pageSize=100000").then((function(t){e.userTable=t.data}))},loseThis:function(e){},fixPswSubmit:function(){var e=this,t="/admin/user";this.postRequest(t,JSON.stringify(this.userForm)).then((function(t){0==t.code?(e.$message({type:"success",message:"修改成功"}),e.fixPswShow=!1):(e.fixPswShow=!1,e.$message({type:"warning",message:t.message})),console.log(t)}))}},created:function(){var e=this;this.getRequest("/admin/users?pageNow=0&pageSize=100000").then((function(t){e.userTable=t.data}))}}),r=n,a=(o("6ad8"),o("5d22")),c=Object(a["a"])(r,s,i,!1,null,"86ee6982",null);t["default"]=c.exports},"45e5":function(e,t,o){},4703:function(e,t,o){},4779:function(e,t,o){"use strict";o("e138")},4827:function(e,t,o){},"513a":function(e,t,o){"use strict";o("5e1e")},"55b0":function(e,t,o){"use strict";o("f3c4")},"55ba":function(e,t,o){"use strict";o("3bbc")},"56d7":function(e,t,o){"use strict";o.r(t);o("b3d7"),o("1bc7"),o("32ea"),o("fc02"),o("25ba"),o("5f1c"),o("6ba0"),o("b47f");var s=o("a593"),i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[e.$route.meta.hideflg?e._e():o("TopHeader"),o("router-view")],1)},n=[],r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:e.classObject},[o("div",{class:[{selectPull:!0},{switchdeepColor:e.switchColorflag}],on:{click:e.fixTheTopHeader,mouseover:function(t){return e.topHeaderShow()},mouseleave:function(t){return e.topHeaderHide()}}},[o("i",{staticClass:"fa fa-paperclip"})]),o("div",{staticClass:"content"},[o("ul",{on:{mouseover:function(t){return e.topHeaderShow()},mouseleave:function(t){return e.topHeaderHide()}}},[o("li",{staticClass:"logo",staticStyle:{"font-size":"2rem"},on:{click:function(t){return e.goHome()}}},[e._v("\n          国安智能档案\n         "),o("div",{staticClass:"topHeaderIcon"})]),o("li",{staticClass:"a",on:{click:function(t){return e.goHome()}}},[e._v("首页")]),o("li",{staticClass:"a",on:{click:function(t){return e.goDocIn()}}},[e._v("档案录入")]),o("li",{staticClass:"a wrjlb",on:{click:e.goCheckHistoryBat}},[e._v("单位列表")]),1==e.admin?o("li",{staticClass:"a wrjlb",on:{click:e.ManageUser}},[e._v("\n         管理用户\n       ")]):e._e(),o("li"),e.user?e._e():o("li",{staticClass:"user_controll a",staticStyle:{float:"right","margin-right":"3rem"},on:{click:e.gologin}},[e._v("\n         登录\n       ")]),e.user?o("li",{staticClass:"user_controll a",staticStyle:{float:"right","margin-right":"3rem"},on:{click:function(t){return e.goUser(1)},mouseleave:function(t){return e.resetUserShow()},mouseover:function(t){return e.changeUserShow()}}},[e._v("\n         "+e._s(e.user)+"\n       ")]):e._e(),e.user?o("li",{staticClass:"a user_controll",staticStyle:{float:"right",width:"3rem"},on:{click:e.exit}},[e._v("\n        退出\n       ")]):e._e()])]),o("transition",{attrs:{name:"fade"}},[e.showuser&&e.user?o("div",{staticClass:"user_center",on:{mouseleave:function(t){return e.resetUserShow()},mouseover:function(t){return e.changeUserShow()}}},[o("div",{staticClass:"userinfo_items"},[o("div",{staticStyle:{width:"0.7rem",height:"0.7rem"}},[o("span",{attrs:{id:"user_top"}})]),o("span",{staticClass:"userLevel",staticStyle:{"font-size":"600",color:"#ddd"}},[o("i",{staticClass:"el-icon-user-solid"}),e._v("\n            vip1")]),o("li",{on:{click:e.showExpireTime}},[o("i",{staticClass:"el-icon-date"}),e._v("\n         到期时间")]),o("li",{on:{click:e.exit}},[o("i",{staticClass:"el-icon-circle-close"}),e._v("\n           注销账号")]),o("li",{on:{click:e.fixPassword}},[o("i",{staticClass:"el-icon-edit"}),e._v("\n           修改密码")])])]):e._e()])],1)},a=[],c=o("3e83"),l=o("8880"),u=o.n(l),d=o("6067"),h=o.n(d),m=(o("347d"),{data:function(){return{switchColorflag:!0,showIllManage:!1,topHeaderFix:!0,picmale:u.a,picfemale:h.a,showuser:!1,show:!1,state:!1,topHeaderState:!1,showTopHeader:!0,top_header_a:"top_header_a",top_header_c:"top_header_c",drawer:!1,curNav:this.$store.state.curNav}},components:{},computed:{user:function(){return null==this.$store.state.username?"":this.$store.state.username},admin:function(){return this.$store.state.admin},classObject:function(){return{top_header_b:this.topHeaderState,top_header_a:!0,top_header_c:!this.showTopHeader&&!this.topHeaderFix}},kind:function(){return this.$store.state.kind}},ready:function(){},created:function(){this.getUserInfo();var e=this;setInterval((function(){e.getUserInfo()}),3e4),this.$store.info_state=1,this.$store.state.username=null==sessionStorage.getItem("userId")?"":sessionStorage.getItem("userId"),this.$store.state.admin=sessionStorage.getItem("admin")},mounted:function(){},methods:{fixPassword:function(){this.$message({type:"warning",message:"请联系管理员"})},fomatTime:function(e){console.log(e),console.log(Object(c["a"])(e));var t=e+"";return"null"!=t&&t?t.substring(0,10):""},showExpireTime:function(){var e=sessionStorage.getItem("expireTime");e=this.fomatTime(e),this.$message({type:"warning",message:"将于"+e+"过期"})},ManageUser:function(){this.$router.push("/admin/userManage")},exit:function(){var e=this;this.$confirm("是否退出","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){var t=sessionStorage.getItem("userIdNum");t=parseInt(t);var o={userId:t};e.postRequest("/logout?userId="+t,o).then((function(t){0==t.code&&e.$message({type:"success",message:"注销成功!"}),window.sessionStorage.setItem("userId",""),window.localStorage.setItem("token",""),window.sessionStorage.setItem("admin",""),e.$store.state.username="",e.$store.state.admin="0",window.sessionStorage.setItem("userId","")})),e.$router.push("/login")}))},goKWM:function(){this.$router.push("/work/keyWM")},goCheckHistoryBat:function(){this.$router.push("/work/modifyOrgan")},fixTheTopHeader:function(){this.topHeaderFix=!this.topHeaderFix,this.switchColorflag=!this.switchColorflag},topHeaderShow:function(){this.showTopHeader=!0},topHeaderHide:function(){this.showTopHeader=!1},goDocIn:function(){this.$router.push("/work/newBatch")},goRecovery:function(){this.$router.push("/recovery")},gologin:function(){this.$router.push("/login")},goHome:function(){this.$router.push("/home")},unLogin:function(){var e=this;this.$confirm("确认注销账号?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message({type:"success",message:"注销成功!"}),e.$store.state.user=null,e.$store.state.kind=0,sessionStorage.removeItem("user"),e.$router.push("/login")})).catch((function(){}))},toHistory:function(){localStorage.getItem("token")?this.$router.push("/history"):(this.$message({type:"info",message:"请登录"}),this.$router.push("/login"))},toIllManage:function(){this.$router.push("/illManage")},getUserInfo:function(){var e=this,t=sessionStorage.getItem("userId");console.log(t),localStorage.getItem("token")&&t&&(console.log(t),this.postRequest("/getUserInfo").then((function(t){var o=t.data.token.split('"')[1];null==o&&(o=t.data.token),window.window.localStorage.setItem("token",o),window.sessionStorage.setItem("expireTime",t.data.endTime),window.sessionStorage.setItem("userIdNum",t.data.userId),window.sessionStorage.setItem("admin",""),"管理员"==t.data.role&&(window.sessionStorage.setItem("admin","1"),e.$store.state.admin=1)})))},handleScroll:function(){var e=window.scrollY;e>60?this.topHeaderState=!0:0===e&&(this.show?this.toHeaderState=!0:this.topHeaderState=!1)},changeShow:function(){this.show=!0,this.topHeaderState=!0},changeUserShow:function(){this.showuser=!0},resetUserShow:function(){this.showuser=!1},changeIllShow:function(){this.showIllManage=!0},resetIllShow:function(){this.showIllManage=!1}}}),f=m,p=(o("de46"),o("5d22")),g=Object(p["a"])(f,r,a,!1,null,"59d4e252",null),v=g.exports,y=(o("8c62"),{components:{TopHeader:v},data:function(){return{header_show:!0}},methods:{fullScreen:function(){var e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;"undefined"!=typeof t&&t&&t.call(e)},isIE:function(){if(window.ActiveXObject||"ActiveXObject"in window){var e=document.createElement("script");e.type="text/javascript",e.src="/js/unity/bluebird.js",document.getElementsByTagName("head")[0].appendChild(e)}},optHeader:function(e){this.header_show=e},setRootFontSize:function(){var e=document.documentElement,t=window.screen.width,o=t/100;e.style.fontSize="".concat(o,"px")}},mounted:function(){this.setRootFontSize(),this.isIE(),this.fullScreen()}}),b=y,w=(o("034f"),Object(p["a"])(b,i,n,!1,null,null,null)),S=w.exports,T=o("a81e"),F=o("bb51"),k=o("8a18"),x=o("92d8"),_=o("73cf"),I=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},D=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"wrapper",staticStyle:{position:"relative"}},[o("div",{staticStyle:{height:"10rem"}}),o("div",{staticClass:"topTip"},[o("div",{staticClass:"topicon"}),o("div",{staticClass:"toptext"},[e._v("欢迎来到国安智能档案系统")])]),o("div",{staticClass:"introduce"},[o("div",[o("span",{staticStyle:{"font-weight":"600"}},[e._v("关于本软件：")]),e._v("\n国安档案智能软件是由专业软件精英工程师，档案专业人员组建为团队，经过多年的实际档案从业经验，严格遵照档案行业的国家相关法规标准，运用现代计算机技术，先进的运算法，共同研发出来的首款智能档案组卷软件。\n\t\t  ")]),o("div",[e._v(" ")]),o("span",{staticStyle:{"font-weight":"600"}},[e._v("软件用途：")]),e._v("\n不仅专用于机关企事业单位档案行业，还能适用于其他行业文件资料的统计，分类，整理的综合性软件工具。\n"),o("div"),e._v("\n它能大量减少从业人员的劳动强度，大幅提高工作效率，还能保证工作结果的准确率，标准的统一性，作业的规范性。\n\t\t  "),o("div",[e._v(" ")]),o("div",[e._v("注意：请使用谷歌内核的浏览器(谷歌、360)达到最佳使用效果")]),o("div",[e._v(" ")]),o("div",[e._v("注册购买请联系作者 ：电话15386181680      微信:zgan108    QQ：2460947088")])])])}],C=o("da46"),A=o.n(C),N=o("3f87"),R=o.n(N),j=o("a836"),O=o.n(j),q={data:function(){return{dataList:[A.a,R.a,O.a],currentIndex:0,timer:null}},mounted:function(){window.scrollTo(0,0),this.runInv(),console.log(this.baseurl),document.onkeydown=function(e){var t=window.event||e,o=t.keyCode||t.which;81==o&&console.log("首页qqqqqqqqqqqqqq")}},methods:{runInv:function(){var e=this;this.timer=setInterval((function(){e.gotoPage(e.nextIndex1())}),2e3)},gotoPage:function(e){this.currentIndex=e},prevIndex1:function(){return 0==this.currentIndex?this.dataList.length-1:this.currentIndex-1},nextIndex1:function(){return this.currentIndex==this.dataList.length-1?0:this.currentIndex+1}},computed:{prevIndex:function(){return 0==this.currentIndex?this.dataList.length-1:this.currentIndex-1},nextIndex:function(){return this.currentIndex==this.dataList.length-1?0:this.currentIndex+1}}},B=q,$=(o("96aa"),Object(p["a"])(B,I,D,!1,null,"014decd3",null)),E=$.exports,P=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},W=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"wrapper",staticStyle:{position:"relative"}},[o("div",{staticStyle:{height:"10rem"}}),o("div",{staticClass:"topTip"},[o("div",{staticClass:"topicon"}),o("div",{staticClass:"toptext"},[e._v("欢迎来到档案管理系统")])]),o("div",{staticClass:"introduce"},[o("div",[o("span",{staticStyle:{"font-weight":"600"}},[e._v("关于本软件：")]),e._v("\n国安档案智能软件是由专业软件精英工程师，档案专业人员组建为团队，经过多年的实际档案从业经验，严格遵照档案行业的国家相关法规标准，运用现代计算机技术，先进的运算法，共同研发出来的首款智能档案组卷软件。\n\t\t  ")]),o("div",[e._v(" ")]),o("span",{staticStyle:{"font-weight":"600"}},[e._v("软件用途：")]),e._v("\n不仅专用于机关企事业单位档案行业，还能适用于其他行业文件资料的统计，分类，整理的综合性软件工具。\n"),o("div"),e._v("\n它能大量减少从业人员的劳动强度，大幅提高工作效率，还能保证工作结果的准确率，标准的统一性，作业的规范性。\n\t\t  "),o("div",[e._v(" ")]),o("div",[e._v("注意：请使用谷歌内核的浏览器达到最佳使用效果")]),o("div",[e._v(" ")]),o("div",[e._v("注册购买请联系作者 ：电话15386181680      微信:zgan108    QQ：2460947088")])])])}],K={data:function(){return{dataList:[A.a,R.a,O.a],currentIndex:0,timer:null}},mounted:function(){this.runInv(),console.log(this.baseurl)},methods:{runInv:function(){var e=this;this.timer=setInterval((function(){e.gotoPage(e.nextIndex1())}),2e3)},gotoPage:function(e){this.currentIndex=e},prevIndex1:function(){return 0==this.currentIndex?this.dataList.length-1:this.currentIndex-1},nextIndex1:function(){return this.currentIndex==this.dataList.length-1?0:this.currentIndex+1}},computed:{prevIndex:function(){return 0==this.currentIndex?this.dataList.length-1:this.currentIndex-1},nextIndex:function(){return this.currentIndex==this.dataList.length-1?0:this.currentIndex+1}}},J=K,z=(o("af2d"),Object(p["a"])(J,P,W,!1,null,"4260ea81",null)),L=(z.exports,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"Loginwrapper",staticStyle:{position:"relative"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitLogin(t)}}},[o("div",{staticClass:"bgpic"}),o("transition",{attrs:{"enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutRight"}},[e._v("\n    >\n  "),e.flag?o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"loginForm",staticClass:"specialELContainer",attrs:{rules:e.rules,"element-loading-text":"正在登录...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",model:e.loginForm,"label-width":"6rem"}},[o("h3",{staticClass:"loginTitle"},[e._v("登录智能档案系统")]),o("el-form-item",{attrs:{prop:"username",label:"账号："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),o("el-form-item",{attrs:{prop:"password",label:"密码："}},[o("el-input",{attrs:{size:"normal",type:"password","auto-complete":"off",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),o("div",{staticClass:"goRegister",on:{click:e.goRegister}},[e._v("尚未注册？前往注册")]),o("div",{staticStyle:{width:"3rem",height:"3rem"}}),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"6rem","margin-left":"40%"},on:{click:e.submitLogin}},[e._v("登录")])],1):e._e()],1),o("transition",{attrs:{"enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutRight"}},[e.flag2?o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"regiForm",staticClass:"specialELContainer",attrs:{rules:e.regirules,"element-loading-text":"注册中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(22, 44,22, 0.8)",model:e.regiForm,"label-width":"6rem"}},[o("h3",{staticClass:"loginTitle"},[e._v("注册")]),o("el-form-item",{attrs:{prop:"phone",label:"手机号："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"输入手机号"},model:{value:e.regiForm.phone,callback:function(t){e.$set(e.regiForm,"phone",t)},expression:"regiForm.phone"}})],1),o("el-form-item",{attrs:{prop:"username",label:"账号："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"用户名"},model:{value:e.regiForm.username,callback:function(t){e.$set(e.regiForm,"username",t)},expression:"regiForm.username"}})],1),o("el-form-item",{attrs:{prop:"password",label:"密码："}},[o("el-input",{attrs:{size:"normal",type:"password","auto-complete":"off",placeholder:"请输入密码"},model:{value:e.regiForm.password,callback:function(t){e.$set(e.regiForm,"password",t)},expression:"regiForm.password"}})],1),o("el-form-item",{attrs:{prop:"repassword",label:"确认密码："}},[o("el-input",{attrs:{size:"normal",type:"password","auto-complete":"off",placeholder:"请确认密码"},model:{value:e.regiForm.repassword,callback:function(t){e.$set(e.regiForm,"repassword",t)},expression:"regiForm.repassword"}})],1),o("el-form-item",{attrs:{prop:"workplace",label:"单位："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"输入所在的单位"},model:{value:e.regiForm.workplace,callback:function(t){e.$set(e.regiForm,"workplace",t)},expression:"regiForm.workplace"}})],1),o("div",{staticClass:"goRegister",on:{click:e.goLogin}},[e._v("已有账号？请登录")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"6rem","margin-left":"40%"},on:{click:e.submitRegi}},[e._v("注册")])],1):e._e()],1)],1)}),V=[],M={name:"Login",created:function(){window.scrollTo(0,0)},data:function(){var e=this,t=function(t,o,s){""===o?s(new Error("请再1次输入密码")):o!=e.regiForm.password?s(new Error("两次输入密码不一致!")):s()};return{flag:!0,flag2:!1,loading:!1,vcUrl:"/verifyCode?time="+new Date,loginForm:{username:"",password:""},regiForm:{username:"",password:"",phone:"",workplace:"",repassword:""},checked:!0,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},regirules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:25,message:"长度在 5 到 25个字符"}],repassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:t,trigger:"blur"},{min:5,max:16,message:"长度在 5 到 16 个字符",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(e,t,o){0==/^1[34578]\d{9}$/.test(t)?o(new Error("请输入正确的手机号")):o()},trigger:"blur"}],workplace:[{required:!0,message:"请输入单位名称",trigger:"blur"}]}}},methods:{submitRegi:function(){var e=this;this.$refs.regiForm.validate((function(t){if(!t)return!1;e.loading=!0;var o=JSON.stringify(e.regiForm);console.log(o),e.postKeyValueRequest("/register",o).then((function(t){t?(console.log(t),0==t.code&&(e.$message({type:"success",message:"注册成功!"}),e.flag2=!1,setTimeout((function(){e.flag=!0}),850))):alert("服务器错误")})).then((function(){e.loading=!1}))}))},goRegister:function(){var e=this;this.flag=!1,setTimeout((function(){e.flag2=!0}),850)},goLogin:function(){var e=this;this.flag2=!1,setTimeout((function(){e.flag=!0}),850)},updateVerifyCode:function(){this.vcUrl="/verifyCode?time="+new Date},submitLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return!1;e.loading=!0;var o=JSON.stringify(e.loginForm);console.log(o),e.postKeyValueRequest("/login",o).then((function(t){if(t){if(1701==t.code)return e.$message({type:"warning",message:"您的账户已经在另一台设备在线!"}),void(e.loading=!1);if(console.log(t),0==t.code){var o=t.data.token.split('"')[1];null==o&&(o=t.data.token),window.window.localStorage.setItem("token",o),window.sessionStorage.setItem("userId",e.loginForm.username),window.sessionStorage.setItem("expireTime",t.data.endTime),window.sessionStorage.setItem("userIdNum",t.data.userId),window.sessionStorage.setItem("admin",""),"管理员"==t.data.role&&(window.sessionStorage.setItem("admin","1"),e.$store.state.admin=1),e.$message({type:"success",message:"登录成功!"}),e.$router.push("/work/newBatch")}}else alert("服务器错误")})).then((function(){e.loading=!1}))}))}}},U=M,H=(o("c6b4"),o("bbad"),Object(p["a"])(U,L,V,!1,null,"37f817d6",null)),Y=H.exports,G=(o("7d0f"),o("d2cb"),o("1f6c"),o("946a"),o("0a08"),o("45a3"),o("e42f"));o("221f");s["default"].use(T["a"]);var Q=new T["a"]({base:"",routes:[{path:"/login",name:"loginAndRegi",component:Y,hidden:!0},{path:"/login",name:"loginAndRegi",component:Y,hidden:!0},{path:"/admin/userManage",name:"hsit",component:function(e){return Promise.resolve().then(function(){var t=[o("45a3")];e.apply(null,t)}.bind(this)).catch(o.oe)},hidden:!0},{path:"/work/print",name:"print",component:G["a"],hidden:!0,meta:{hideflg:!0}},{path:"/work/docInputd",name:"docInputd",component:function(e){return Promise.resolve().then(function(){var t=[o("0a08")];e.apply(null,t)}.bind(this)).catch(o.oe)},hidden:!0},{path:"/work/modifyOrgan",name:"modifyOrgan",component:function(e){return Promise.resolve().then(function(){var t=[o("1f6c")];e.apply(null,t)}.bind(this)).catch(o.oe)},hidden:!0},{path:"/work/newBatch",name:"ma",component:function(e){return Promise.resolve().then(function(){var t=[o("7d0f")];e.apply(null,t)}.bind(this)).catch(o.oe)}},{path:"/work/docInput",name:"docInput",component:function(e){return Promise.resolve().then(function(){var t=[o("d2cb")];e.apply(null,t)}.bind(this)).catch(o.oe)}},{path:"/work/keyWM",name:"ma",component:function(e){return Promise.resolve().then(function(){var t=[o("946a")];e.apply(null,t)}.bind(this)).catch(o.oe)}},{path:"/home",name:"m",component:E,hidden:!0},{path:"/login",name:"Login",component:Y,hidden:!0},{path:"/register",name:"r",component:_["default"],hidden:!0},{path:"/home",name:"Home",component:F["default"],hidden:!0,meta:{roles:["admin","user"]},children:[{path:"/chat",name:"在线聊天",component:k["default"],hidden:!0},{path:"/hrinfo",name:"个人中心",component:x["default"],hidden:!0}]},{path:"*",redirect:"/home"}]}),Z=o("cf6b"),X=o("6255"),ee=o.n(X),te=o("82ae"),oe=o.n(te);oe.a.interceptors.response.use((function(e){if(!e.status||500!=e.status)return 200==e.data.code?X["Message"].success({message:e.data.message}):401==e.data.code?X["Message"].error({message:"请登录或退出重新登录"}):1102==e.data.code?X["Message"].error({message:"用户名或手机号已被注册"}):1107==e.data.code?(X["Message"].error({message:"未获得授权，请重新登录或联系管理员购买"}),window.sessionStorage.setItem("userId",""),de.state.username=""):1103==e.data.code?X["Message"].error({message:"用户不存在，请注册"}):1105==e.data.code&&X["Message"].error({message:"密码有误"}),e.data;X["Message"].error({message:e.data.message})}),(function(e){return 100==e.response.status?e.response:500==e.response.status?(X["Message"].error({message:"未知错误"}),e.response):void(504==e.response.status||404==e.response.status?X["Message"].error({message:"服务器被吃了( ╯□╰ )"}):403==e.response.status?(window.sessionStorage.clear("userId"),X["Message"].error({message:"权限不足，请联系管理员"})):401==e.response.status?(window.sessionStorage.clear("userId"),X["Message"].error({message:"尚未登录，请登录!!"}),Q.push("/")):e.response.data.massage?X["Message"].error({message:e.response.data.msg}):X["Message"].error({message:"未知错误!"}))}));var se="http://106.52.85.131:8080",ie=se,ne=function(e,t){return oe()({method:"post",url:"".concat(se).concat(e),data:t,headers:{"Content-Type":"application/json"}})},re=function(e,t){return oe()({method:"post",url:"".concat(se).concat(e),data:t,headers:{"Content-Type":"application/json",token:localStorage.getItem("token")?localStorage.getItem("token").split('"')[1]||localStorage.getItem("token"):null,authId:sessionStorage.getItem("authId")||""}})},ae=function(e,t){return oe()({method:"put",url:"".concat(se).concat(e),data:t,headers:{"Content-Type":"application/json;charset=UTF-8",token:localStorage.getItem("token")?localStorage.getItem("token").split('"')[1]||localStorage.getItem("token"):null,authId:sessionStorage.getItem("authId")||""}})},ce=function(e,t){return oe()({method:"get",url:"".concat(se).concat(e),params:t,headers:{authId:sessionStorage.getItem("authId")||"","Content-Type":"application/json;charset=UTF-8",token:localStorage.getItem("token")?localStorage.getItem("token").split('"')[1]||localStorage.getItem("token"):null}})},le=function(e,t){return oe()({method:"delete",url:"".concat(se).concat(e),data:t,headers:{authId:sessionStorage.getItem("authId")||"","Content-Type":"application/json",token:localStorage.getItem("token")}})};o("b76b"),o("4057"),o("8dee"),o("3269"),o("d91d"),o("d0f2"),o("a450");(function(){var e,t,o,s,i={}.hasOwnProperty,n=[].slice;e={LF:"\n",NULL:"\0"},o=function(){var t;function o(e,t,o){this.command=e,this.headers=null!=t?t:{},this.body=null!=o?o:""}return o.prototype.toString=function(){var t,s,n,r,a;for(s in t=[this.command],n=!1===this.headers["content-length"],n&&delete this.headers["content-length"],a=this.headers,a)i.call(a,s)&&(r=a[s],t.push(s+":"+r));return this.body&&!n&&t.push("content-length:"+o.sizeOfUTF8(this.body)),t.push(e.LF+this.body),t.join(e.LF)},o.sizeOfUTF8=function(e){return e?encodeURI(e).match(/%..|./g).length:0},t=function(t){var s,i,n,r,a,c,l,u,d,h,m,f,p,g,v,y,b;for(r=t.search(RegExp(""+e.LF+e.LF)),a=t.substring(0,r).split(e.LF),n=a.shift(),c={},f=function(e){return e.replace(/^\s+|\s+$/g,"")},y=a.reverse(),p=0,v=y.length;p<v;p++)h=y[p],u=h.indexOf(":"),c[f(h.substring(0,u))]=f(h.substring(u+1));if(s="",m=r+2,c["content-length"])d=parseInt(c["content-length"]),s=(""+t).substring(m,m+d);else for(i=null,l=g=m,b=t.length;m<=b?g<b:g>b;l=m<=b?++g:--g){if(i=t.charAt(l),i===e.NULL)break;s+=i}return new o(n,c,s)},o.unmarshall=function(o){var s,i,n,r;return i=o.split(RegExp(""+e.NULL+e.LF+"*")),r={frames:[],partial:""},r.frames=function(){var e,o,n,r;for(n=i.slice(0,-1),r=[],e=0,o=n.length;e<o;e++)s=n[e],r.push(t(s));return r}(),n=i.slice(-1)[0],n===e.LF||-1!==n.search(RegExp(""+e.NULL+e.LF+"*$"))?r.frames.push(t(n)):r.partial=n,r},o.marshall=function(t,s,i){var n;return n=new o(t,s,i),n.toString()+e.NULL},o}(),t=function(){var t;function i(e){this.ws=e,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={},this.partialData=""}return i.prototype.debug=function(e){var t;return"undefined"!==typeof window&&null!==window&&null!=(t=window.console)?t.log(e):void 0},t=function(){return Date.now?Date.now():(new Date).valueOf},i.prototype._transmit=function(e,t,s){var i;i=o.marshall(e,t,s),"function"===typeof this.debug&&this.debug(">>> "+i);while(1){if(!(i.length>this.maxWebSocketFrameSize))return this.ws.send(i);this.ws.send(i.substring(0,this.maxWebSocketFrameSize)),i=i.substring(this.maxWebSocketFrameSize),"function"===typeof this.debug&&this.debug("remaining = "+i.length)}},i.prototype._setupHeartbeat=function(o){var i,n,r,a,c,l;if((c=o.version)===s.VERSIONS.V1_1||c===s.VERSIONS.V1_2)return l=function(){var e,t,s,i;for(s=o["heart-beat"].split(","),i=[],e=0,t=s.length;e<t;e++)a=s[e],i.push(parseInt(a));return i}(),n=l[0],i=l[1],0!==this.heartbeat.outgoing&&0!==i&&(r=Math.max(this.heartbeat.outgoing,i),"function"===typeof this.debug&&this.debug("send PING every "+r+"ms"),this.pinger=s.setInterval(r,function(t){return function(){return t.ws.send(e.LF),"function"===typeof t.debug?t.debug(">>> PING"):void 0}}(this))),0!==this.heartbeat.incoming&&0!==n?(r=Math.max(this.heartbeat.incoming,n),"function"===typeof this.debug&&this.debug("check PONG every "+r+"ms"),this.ponger=s.setInterval(r,function(e){return function(){var o;if(o=t()-e.serverActivity,o>2*r)return"function"===typeof e.debug&&e.debug("did not receive server activity for the last "+o+"ms"),e.ws.close()}}(this))):void 0},i.prototype._parseConnect=function(){var e,t,o,s;switch(e=1<=arguments.length?n.call(arguments,0):[],s={},e.length){case 2:s=e[0],t=e[1];break;case 3:e[1]instanceof Function?(s=e[0],t=e[1],o=e[2]):(s.login=e[0],s.passcode=e[1],t=e[2]);break;case 4:s.login=e[0],s.passcode=e[1],t=e[2],o=e[3];break;default:s.login=e[0],s.passcode=e[1],t=e[2],o=e[3],s.host=e[4]}return[s,t,o]},i.prototype.connect=function(){var i,r,a,c;return i=1<=arguments.length?n.call(arguments,0):[],c=this._parseConnect.apply(this,i),a=c[0],this.connectCallback=c[1],r=c[2],"function"===typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(s){return function(i){var n,a,c,l,u,d,h,m,f,p,g,v,y;if(l="undefined"!==typeof ArrayBuffer&&i.data instanceof ArrayBuffer?(n=new Uint8Array(i.data),"function"===typeof s.debug&&s.debug("--- got data length: "+n.length),function(){var e,t,o;for(o=[],e=0,t=n.length;e<t;e++)a=n[e],o.push(String.fromCharCode(a));return o}().join("")):i.data,s.serverActivity=t(),l!==e.LF){for("function"===typeof s.debug&&s.debug("<<< "+l),f=o.unmarshall(s.partialData+l),s.partialData=f.partial,v=f.frames,y=[],p=0,g=v.length;p<g;p++)switch(u=v[p],u.command){case"CONNECTED":"function"===typeof s.debug&&s.debug("connected to server "+u.headers.server),s.connected=!0,s._setupHeartbeat(u.headers),y.push("function"===typeof s.connectCallback?s.connectCallback(u):void 0);break;case"MESSAGE":m=u.headers.subscription,h=s.subscriptions[m]||s.onreceive,h?(c=s,d=u.headers["message-id"],u.ack=function(e){return null==e&&(e={}),c.ack(d,m,e)},u.nack=function(e){return null==e&&(e={}),c.nack(d,m,e)},y.push(h(u))):y.push("function"===typeof s.debug?s.debug("Unhandled received MESSAGE: "+u):void 0);break;case"RECEIPT":y.push("function"===typeof s.onreceipt?s.onreceipt(u):void 0);break;case"ERROR":y.push("function"===typeof r?r(u):void 0);break;default:y.push("function"===typeof s.debug?s.debug("Unhandled frame: "+u):void 0)}return y}"function"===typeof s.debug&&s.debug("<<< PONG")}}(this),this.ws.onclose=function(e){return function(){var t;return t="Whoops! Lost connection to "+e.ws.url,"function"===typeof e.debug&&e.debug(t),e._cleanUp(),"function"===typeof r?r(t):void 0}}(this),this.ws.onopen=function(e){return function(){return"function"===typeof e.debug&&e.debug("Web Socket Opened..."),a["accept-version"]=s.VERSIONS.supportedVersions(),a["heart-beat"]=[e.heartbeat.outgoing,e.heartbeat.incoming].join(","),e._transmit("CONNECT",a)}}(this)},i.prototype.disconnect=function(e,t){return null==t&&(t={}),this._transmit("DISCONNECT",t),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"===typeof e?e():void 0},i.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&s.clearInterval(this.pinger),this.ponger)return s.clearInterval(this.ponger)},i.prototype.send=function(e,t,o){return null==t&&(t={}),null==o&&(o=""),t.destination=e,this._transmit("SEND",t,o)},i.prototype.subscribe=function(e,t,o){var s;return null==o&&(o={}),o.id||(o.id="sub-"+this.counter++),o.destination=e,this.subscriptions[o.id]=t,this._transmit("SUBSCRIBE",o),s=this,{id:o.id,unsubscribe:function(){return s.unsubscribe(o.id)}}},i.prototype.unsubscribe=function(e){return delete this.subscriptions[e],this._transmit("UNSUBSCRIBE",{id:e})},i.prototype.begin=function(e){var t,o;return o=e||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:o}),t=this,{id:o,commit:function(){return t.commit(o)},abort:function(){return t.abort(o)}}},i.prototype.commit=function(e){return this._transmit("COMMIT",{transaction:e})},i.prototype.abort=function(e){return this._transmit("ABORT",{transaction:e})},i.prototype.ack=function(e,t,o){return null==o&&(o={}),o["message-id"]=e,o.subscription=t,this._transmit("ACK",o)},i.prototype.nack=function(e,t,o){return null==o&&(o={}),o["message-id"]=e,o.subscription=t,this._transmit("NACK",o)},i}(),s={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(e,o){var i,n;return null==o&&(o=["v10.stomp","v11.stomp"]),i=s.WebSocketClass||WebSocket,n=new i(e,o),new t(n)},over:function(e){return new t(e)},Frame:o},"undefined"!==typeof exports&&null!==exports&&(exports.Stomp=s),"undefined"!==typeof window&&null!==window?(s.setInterval=function(e,t){return window.setInterval(t,e)},s.clearInterval=function(e){return window.clearInterval(e)},window.Stomp=s):exports||(self.Stomp=s)}).call(void 0);o("a360");s["default"].use(Z["a"]);new Date;var ue=new Z["a"].Store({state:{organIdForJump:null,showDocIn:!1,docDetialBar:0,printDoc:{},backToDetailFlag:!1,noChufa:!1,rsPrint:0,rsPrintSub:2,hi:2,username:"",admin:"",whichRuleSet:1,tempDocSeq:"",tempDocId:"",tempDoc:"",alreadyDocs:[],sortedFlag:!0,rawDocs:[],sequenceDocs:[],kind:1,routes:[],sessions:{},hrs:[],currentSession:null,filterKey:"",stomp:null,isDot:{},user:JSON.parse(window.sessionStorage.getItem("user"))},mutations:{INIT_CURRENTHR:function(e,t){e.user=t},initRoutes:function(e,t){e.routes=t},changeCurrentSession:function(e,t){s["default"].set(e.isDot,e.currentHr.username+"#"+t.username,!1),e.currentSession=t},addMessage:function(e,t){var o=e.sessions[e.currentHr.username+"#"+t.to];o||s["default"].set(e.sessions,e.currentHr.username+"#"+t.to,[]),e.sessions[e.currentHr.username+"#"+t.to].push({content:t.content,date:new Date,self:!t.notSelf})},INIT_DATA:function(e){var t=localStorage.getItem("vue-chat-session");t&&(e.sessions=JSON.parse(t))},INIT_HR:function(e,t){e.hrs=t}},actions:{connect:function(e){e.state.stomp=Stomp.over(new SockJS("/ws/ep")),e.state.stomp.connect({},(function(t){e.state.stomp.subscribe("/user/queue/chat",(function(t){var o=JSON.parse(t.body);e.state.currentSession&&o.from==e.state.currentSession.username||(X["Notification"].info({title:"【"+o.fromNickname+"】发来一条消息",message:o.content.length>10?o.content.substr(0,10):o.content,position:"bottom-right"}),s["default"].set(e.state.isDot,e.state.currentHr.username+"#"+o.from,!0)),o.notSelf=!0,o.to=o.from,e.commit("addMessage",o)}))}),(function(e){}))},initData:function(e){e.commit("INIT_DATA"),ce("/chat/hrs").then((function(t){t&&e.commit("INIT_HR",t)}))}}});ue.watch((function(e){return e.sessions}),(function(e){localStorage.setItem("vue-chat-session",JSON.stringify(e))}),{deep:!0});var de=ue,he=(o("a675"),o("d31c"),o("508f"),o("3c69")),me=o.n(he),fe=o("157a"),pe=o.n(fe),ge=o("1531"),ve=o.n(ge);o("96fa");s["default"].prototype.postRequest=re,s["default"].prototype.baseurl=ie,s["default"].prototype.postKeyValueRequest=ne,s["default"].prototype.putRequest=ae,s["default"].prototype.deleteRequest=le,s["default"].prototype.getRequest=ce,s["default"].config.productionTip=!1,s["default"].use(ee.a,{size:"small"}),s["default"].use(ve.a),s["default"].use(pe.a),s["default"].use(me.a),s["default"].filter("formatdocType",(function(e){var t=e+"";return void 0!=t&&"null"!=t&&t&&""!=t?"official"==t?"文书问题法":"personnel"==t?"人事":"science"==t?"科技":"business"==t?"业务":"officialJ"==t?"文书机构法":void 0:"暂无"})),s["default"].filter("formatFiveKJ",(function(e){var t=e+"";if(void 0!=t&&"null"!=t&&t&&""!=t){var o=t;while(o.length<5)o="0"+o;return o}return"暂无"})),s["default"].filter("formatThreeKJ",(function(e){var t=e+"";if(void 0!=t&&"null"!=t&&t&&""!=t){var o=t;while(o.length<3)o="0"+o;return o}return"暂无"})),s["default"].filter("formatFourNum",(function(e){var t=e+"";if(void 0!=t&&"null"!=t&&t&&""!=t){var o=t;while(o.length<4)o="0"+o;return o}return"暂无"})),s["default"].filter("formatLevelKeyword",(function(e){return e.split("~").length>0?e.split("~")[1]:e})),s["default"].filter("deadlineFormat",(function(e){return"永久"==e||"备查"==e||"长期"==e?e:e+"年"})),s["default"].filter("formatKeyWordKey",(function(e){return Object.keys(e)[0]||"暂无"})),s["default"].filter("formatKeyWordValue",(function(e){return Object.values(e)[0]||"暂无"})),s["default"].filter("formatTime",(function(e){var t=e+"";return"null"!=t&&t?t.substring(0,10):""})),s["default"].filter("pageTotalformat",(function(e){return null==e?"    ":e<0?-e:e})),s["default"].filter("formatEndTime",(function(e){var t=e+"";return t&&"null"!=t?t.substring(0,10):"未购"})),s["default"].filter("formatSortYear",(function(e){var t=e;return t})),s["default"].filter("formatAuthCode",(function(e){if(!e)return"暂无";var t=JSON.stringify(e);while(t.length<5)t="0"+t;return t})),Q.beforeEach((function(e,t,o){console.log("打印from"),console.log(t),o()})),new s["default"]({router:Q,store:de,render:function(e){return e(S)}}).$mount("#app")},"59a8":function(e,t,o){"use strict";o("b769")},"5e1e":function(e,t,o){},6067:function(e,t,o){e.exports=o.p+"img/female.f60bd412.png"},"6ad8":function(e,t,o){"use strict";o("ff1a")},"704f":function(e,t,o){},"722e":function(e,t,o){},"73cf":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"registerWrapper"},[1==this.taggle?o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"registerForm",staticClass:"specialELContainer",attrs:{rules:e.rules,"element-loading-text":"提交中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",model:e.registerForm}},[o("h3",{staticClass:"loginTitle"},[e._v("医生注册")]),o("div",{staticClass:"toggle",on:{click:function(t){return e.changeToggle()}}},[e._v(e._s(0==this.taggle?"切换医生注册":"切换病人注册"))]),o("el-form-item",{attrs:{prop:"username",label:"账号："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"请输入用户名"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),o("el-form-item",{attrs:{prop:"password",label:"密码："}},[o("el-input",{attrs:{size:"normal",type:"password","auto-complete":"off",placeholder:"请输入密码"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),o("el-form-item",{attrs:{prop:"age",label:"年龄："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"请输入年龄"},model:{value:e.registerForm.age,callback:function(t){e.$set(e.registerForm,"age",t)},expression:"registerForm.age"}})],1),o("el-form-item",{attrs:{prop:"phone",label:"电话："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"电话号码"},model:{value:e.registerForm.phone,callback:function(t){e.$set(e.registerForm,"phone",t)},expression:"registerForm.phone"}})],1),o("el-form-item",{attrs:{prop:"nameZh",label:"姓名："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"请输入真实姓名"},model:{value:e.registerForm.nameZh,callback:function(t){e.$set(e.registerForm,"nameZh",t)},expression:"registerForm.nameZh"}})],1),o("el-form-item",{attrs:{prop:"sex",label:"性别："}},[o("el-checkbox",{attrs:{"false-label":"0","true-label":"1"},model:{value:e.registerForm.sex,callback:function(t){e.$set(e.registerForm,"sex",t)},expression:"registerForm.sex"}},[e._v("男")]),o("el-checkbox",{attrs:{"false-label":"1","true-label":"0"},model:{value:e.registerForm.sex,callback:function(t){e.$set(e.registerForm,"sex",t)},expression:"registerForm.sex"}},[e._v("女")])],1),1==this.taggle?o("el-form-item",{attrs:{prop:"hospital",label:"医院："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"请输入医院"},model:{value:e.registerForm.hospital,callback:function(t){e.$set(e.registerForm,"hospital",t)},expression:"registerForm.hospital"}})],1):e._e(),1==this.taggle?o("el-form-item",{attrs:{prop:"department",label:"科室："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"请输入科室"},model:{value:e.registerForm.department,callback:function(t){e.$set(e.registerForm,"department",t)},expression:"registerForm.department"}})],1):e._e(),o("div",{staticClass:"goRegister",on:{click:e.goRegister}},[e._v("已有账号？去登录")]),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:6}},[e._v(" ")]),o("el-col",{attrs:{span:12}},[o("el-button",{staticClass:"loginBtn",staticStyle:{width:"100%"},attrs:{size:"normal",type:"primary"},on:{click:e.dRegister}},[e._v("提交注册申请")])],1)],1)],1):e._e(),0==this.taggle?o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"registerFormp",staticClass:"specialELContainer",attrs:{rules:e.rulesp,"element-loading-text":"注册中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",model:e.registerFormp}},[o("h3",{staticClass:"loginTitle"},[e._v("病人注册")]),o("div",{staticClass:"toggle",on:{click:function(t){return e.changeToggle()}}},[e._v(e._s(0==this.taggle?"医生注册":"病人注册"))]),o("el-form-item",{attrs:{prop:"username",label:"账号："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"请输入用户名"},model:{value:e.registerFormp.username,callback:function(t){e.$set(e.registerFormp,"username",t)},expression:"registerFormp.username"}})],1),o("el-form-item",{attrs:{prop:"password",label:"密码："}},[o("el-input",{attrs:{size:"normal",type:"password","auto-complete":"off",placeholder:"请输入密码"},model:{value:e.registerFormp.password,callback:function(t){e.$set(e.registerFormp,"password",t)},expression:"registerFormp.password"}})],1),o("el-form-item",{attrs:{prop:"age",label:"年龄："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"请输入年龄"},model:{value:e.registerFormp.age,callback:function(t){e.$set(e.registerFormp,"age",t)},expression:"registerFormp.age"}})],1),o("el-form-item",{attrs:{prop:"phone",label:"电话："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"电话号码"},model:{value:e.registerFormp.phone,callback:function(t){e.$set(e.registerFormp,"phone",t)},expression:"registerFormp.phone"}})],1),o("el-form-item",{attrs:{prop:"nameZh",label:"姓名："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"请输入真实姓名"},model:{value:e.registerFormp.nameZh,callback:function(t){e.$set(e.registerFormp,"nameZh",t)},expression:"registerFormp.nameZh"}})],1),o("el-form-item",{attrs:{prop:"sex",label:"性别："}},[o("el-checkbox",{attrs:{"false-label":"0","true-label":"1"},model:{value:e.registerFormp.sex,callback:function(t){e.$set(e.registerFormp,"sex",t)},expression:"registerFormp.sex"}},[e._v("男")]),o("el-checkbox",{attrs:{"false-label":"1","true-label":"0"},model:{value:e.registerFormp.sex,callback:function(t){e.$set(e.registerFormp,"sex",t)},expression:"registerFormp.sex"}},[e._v("女")])],1),o("div",{staticClass:"goRegister",on:{click:e.goRegister}},[e._v("已有账号？去登录")]),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:6}},[e._v(" ")]),o("el-col",{attrs:{span:12}},[o("el-button",{staticClass:"loginBtn",staticStyle:{width:"100%"},attrs:{size:"normal",type:"primary"},on:{click:e.pRegister}},[e._v("注册")])],1)],1)],1):e._e()],1)},i=[],n={name:"Login",data:function(){return{taggle:0,loading:!1,vcUrl:"/verifyCode?time="+new Date,registerForm:{username:"",password:"",age:"",phone:"",nameZh:"",sex:1,hospital:"",department:""},registerFormp:{username:"",password:"",age:"",phone:"",nameZh:"",sex:""},checked:!0,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"}],phone:[{required:!0,message:"请填写完整",trigger:"blur"}],nameZh:[{required:!0,message:"请填写完整",trigger:"blur"}],sex:[{required:!0,message:"请填写完整",trigger:"blur"}],hospital:[{required:!0,message:"请填写完整",trigger:"blur"}],department:[{required:!0,message:"请填写完整",trigger:"blur"}]},rulesp:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"}],phone:[{required:!0,message:"请填写完整",trigger:"blur"}],nameZh:[{required:!0,message:"请填写完整",trigger:"blur"}],sex:[{required:!0,message:"请填写完整",trigger:"blur"}]}}},methods:{goRegister:function(){this.$router.push("/login")},pRegister:function(){var e=this;this.$refs.registerFormp.validate((function(t){if(!t)return!1;e.loading=!0,e.postKeyValueRequest("/register/patientRegiste",e.registerFormp).then((function(t){t&&(console.log(t.obj),200==t.status&&e.$router.push("/login"))})).then((function(){e.loading=!1}))}))},dRegister:function(){var e=this;this.$refs.registerForm.validate((function(t){if(!t)return!1;e.loading=!0,e.postKeyValueRequest("/register/addDoctor",e.registerForm).then((function(t){t&&(console.log(t.obj),200==t.status&&e.$router.push("/login"))})).then((function(){e.loading=!1}))}))},changeToggle:function(){0==this.taggle?this.taggle=1:1==this.taggle&&(this.taggle=0)},updateVerifyCode:function(){this.vcUrl="/verifyCode?time="+new Date},submitLogin:function(){var e=this;this.$refs.registerForm.validate((function(t){if(!t)return!1;e.loading=!0,e.postKeyValueRequest("/doLogin",e.registerForm).then((function(t){if(e.postKeyValueRequest("/isDoctor",{id:t.obj.userId}).then((function(t){t&&"是医生"==t.msg&&(e.$store.state.kind=3)})).then((function(){e.postKeyValueRequest("/isPatient",{id:t.obj.userId}).then((function(t){t&&"是病人"==t.msg&&(e.$store.state.kind=2,console.log(t))}))})),t){e.$store.commit("INIT_CURRENTHR",t.obj),window.sessionStorage.setItem("user",JSON.stringify(t.obj));var o=e.$route.query.redirect;console.log(t.obj),e.$router.push("/"==o||void 0==o?"/":o)}else e.vcUrl="/verifyCode?time="+new Date})).then((function(){e.loading=!1}))}))}}},r=n,a=(o("2cfd"),o("5d22")),c=Object(a["a"])(r,s,i,!1,null,null,null);t["default"]=c.exports},"7ca0":function(e,t,o){"use strict";var s=o("a593"),i=new s["default"];console.log(i),t["a"]=i},"7d0f":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"wrapper"},[e.showWaitingFlag?o("div",{staticStyle:{position:"absolute",width:"20rem",height:"10rem",top:"10rem",left:"50%","margin-left":"-10rem","line-height":"10rem","background-color":"rgba(25,55,163,0.8)","font-size":"1.3rem",color:"white","text-align":"center","z-index":"1000"}},[e._v("请求中，请稍候...")]):e._e(),o("div",{directives:[{name:"show",rawName:"v-show",value:1==e.step,expression:"step==1"}],staticClass:"Card"},[o("div",{staticClass:"newTip"},[e._v("新建一批档案工作")]),o("div",{staticClass:"organModify",on:{click:e.modifyOrgan}},[e._v("管理")]),o("el-form",{ref:"BatchForm",staticClass:"batchForm",attrs:{model:e.BatchForm,"label-width":"30%"}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"选择或填写单位："}},[o("el-select",{ref:"authSelectref",attrs:{id:"selectAuth",filterable:"",placeholder:"历史整档单位请下拉"},on:{blur:e.selectBlur,change:e.selectAuthChange},model:{value:e.BatchForm.authName,callback:function(t){e.$set(e.BatchForm,"authName",t)},expression:"BatchForm.authName"}},e._l(e.historyAuths,(function(e){return o("el-option",{key:e.authCode,attrs:{label:e.authName,value:e.authCode}})})),1)],1),o("el-form-item",{attrs:{prop:"batchName",label:"单位全宗号："}},[o("el-input",{staticClass:"textInput",attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"输入单位全宗号"},model:{value:e.BatchForm.authCode,callback:function(t){e.$set(e.BatchForm,"authCode",t)},expression:"BatchForm.authCode"}})],1),o("el-form-item",{attrs:{prop:"workType",label:"选择整档类型："}},[o("el-select",{attrs:{filterable:"",placeholder:"选择整档类型"},model:{value:e.BatchForm.docType,callback:function(t){e.$set(e.BatchForm,"docType",t)},expression:"BatchForm.docType"}},e._l(e.docType,(function(e){return o("el-option",{key:e.typeId,attrs:{label:e.typeName,value:e.typeId}})})),1)],1),o("el-form-item",{attrs:{prop:"batchName",label:"档案类型代码："}},[o("el-input",{staticClass:"textInput",attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"如文书类填WS，没有填无"},model:{value:e.BatchForm.docTypeCode,callback:function(t){e.$set(e.BatchForm,"docTypeCode",t)},expression:"BatchForm.docTypeCode"}})],1),o("el-form-item",{attrs:{prop:"batchName",label:"批次名："}},[o("el-input",{staticClass:"textInput",attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"给本批次命名"},model:{value:e.BatchForm.batchName,callback:function(t){e.$set(e.BatchForm,"batchName",t)},expression:"BatchForm.batchName"}})],1),e._e(),e.showPriority&&!e.showTwo?o("el-form-item",{attrs:{prop:"priority.first",label:"选择第一优先级："}},[o("el-select",{attrs:{filterable:"",placeholder:"选择优先级"},model:{value:e.priority.first,callback:function(t){e.$set(e.priority,"first",t)},expression:"priority.first"}},e._l(e.priorityDic,(function(e){return o("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)],1):e._e(),e.showPriority&&e.showTwo?o("el-form-item",{attrs:{prop:"priority.first",label:"选择第一优先级："}},[o("el-select",{attrs:{filterable:"",placeholder:"选择优先级"},model:{value:e.renshipriority.first,callback:function(t){e.$set(e.renshipriority,"first",t)},expression:"renshipriority.first"}},e._l(e.priorityDic2,(function(e){return o("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)],1):e._e(),e.showPriority&&!e.showTwo?o("el-form-item",{attrs:{prop:"priority.second",label:"选择第二优先级："}},[o("el-select",{attrs:{filterable:"",placeholder:"选择优先级"},model:{value:e.priority.second,callback:function(t){e.$set(e.priority,"second",t)},expression:"priority.second"}},e._l(e.priorityDic,(function(e){return o("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)],1):e._e(),e.showPriority&&!e.showTwo?o("el-form-item",{attrs:{prop:"priority.first",label:"选择第三优先级："}},[o("el-select",{attrs:{filterable:"",placeholder:"选择优先级"},model:{value:e.priority.third,callback:function(t){e.$set(e.priority,"third",t)},expression:"priority.third"}},e._l(e.priorityDic,(function(e){return o("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)],1):e._e(),e._e(),e._e(),e.showPriority&&e.showTwo?o("el-form-item",{attrs:{prop:"priority.first",label:"选择第二优先级："}},[o("el-select",{attrs:{filterable:"",placeholder:"选择优先级"},model:{value:e.renshipriority.second,callback:function(t){e.$set(e.renshipriority,"second",t)},expression:"renshipriority.second"}},e._l(e.priorityDic2,(function(e){return o("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)],1):e._e(),o("div",{staticClass:"topTextButton",staticStyle:{"margin-left":"40%",width:"3rem",padding:"0.5rem"},attrs:{type:"primary"},on:{click:e.nextStep}},[e._v("下一步")])],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:2==e.step,expression:"step==2"}],staticClass:"Card"},[o("div",{staticClass:"newTip"},[e._v("选择本单位的文书类分卷方法")]),o("el-form",{staticClass:"batchForm",staticStyle:{"padding-bottom":"5rem"},attrs:{"label-width":"30%"}},[o("el-form-item",{attrs:{prop:"workTypeSub",label:"分卷方法："}},[o("el-select",{attrs:{placeholder:"选择分卷方法"},model:{value:e.officialDocTypeSub,callback:function(t){e.officialDocTypeSub=t},expression:"officialDocTypeSub"}},e._l(e.officialDocTypeSubs,(function(e){return o("el-option",{key:e.typeId,attrs:{label:e.typeName,value:e.typeId}})})),1)],1),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"12%",position:"absolute",left:"25%",bottom:"1rem"},attrs:{type:"primary"},on:{click:e.preStep}},[e._v("上一步")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"12%",position:"absolute",left:"55%",bottom:"1rem"},attrs:{type:"primary"},on:{click:e.nextStep2}},[e._v("下一步")])],1)],1),3==e.step?o("div",{staticClass:"Card"},[o("div",{staticClass:"newTip"},[e._v("设置本单位档案盒号")]),o("el-form",{ref:"BatchForm",staticClass:"batchForm",attrs:{model:e.BatchForm,"label-width":"30%"}},[o("div",{staticStyle:{"margin-bottom":"1rem",width:"80%","margin-left":"10%","text-align":"center"}},[e._v(" 提示：填写需要用到的盒子类型的上一盒盒号即可,如长期盒前一批整档工作排到了39盒，本批将使用第40盒那么填写(长期：39)")]),e._l(this.jsonArray,(function(t,s){return o("div",{key:s,staticStyle:{position:"relative"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t[0],expression:"item[0]"}],staticStyle:{width:"25%",height:"2.2rem","font-size":"1.1rem",border:"0.08rem solid #274596c5",background:"rgba(255, 255, 255, 0.15) !important","border-radius":"0.48rem","padding-left":"2rem","margin-left":"2rem","margin-bottom":"1rem"},attrs:{type:"text"},domProps:{value:t[0]},on:{input:function(o){o.target.composing||e.$set(t,0,o.target.value)}}}),e._v("\n\n        （年）盒型：\n          "),o("input",{directives:[{name:"model",rawName:"v-model",value:t[1],expression:"item[1]"}],staticStyle:{width:"25%",height:"2.2rem","font-size":"1.1rem",border:"0.08rem solid #274596c5",background:"rgba(255, 255, 255, 0.15) !important","border-radius":"0.48rem","padding-left":"2rem"},attrs:{type:"text"},domProps:{value:t[1]},on:{input:function(o){o.target.composing||e.$set(t,1,o.target.value)}}}),e._v("（盒）\n    "),o("div",{staticStyle:{position:"absolute",right:"2rem",top:"0.4rem","font-weight":"600",cursor:"pointer"},on:{click:function(t){return e.deleteThis(s)}}},[e._v("删除")])])})),o("div",{staticStyle:{position:"relative"}},[o("div",{staticStyle:{height:"1rem"}}),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"12%",position:"absolute",left:"15%"},attrs:{type:"primary"},on:{click:e.preStep}},[e._v("上一步")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"14%",position:"absolute",left:"35%"},attrs:{type:"primary"},on:{click:e.newBoxType}},[e._v("新增盒型")]),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"12%",position:"absolute",left:"55%"},attrs:{type:"primary"},on:{click:e.newBatch}},[e._v("下一步")])]),o("div",{staticStyle:{height:"1rem"}})],2)],1):e._e()])},i=[],n=(o("e5b4"),o("6a61"),o("2e91")),r=(o("e680"),{data:function(){return{kk:0,weightForm:{},showWaitingFlag:!1,can:!0,step:1,showTwo:!0,showPriority:!1,officialDocTypeSub:1,BatchForm:{batchName:"",authCode:"",authName:"",docType:"",docTypeCode:"",lastBox:{"永久":"0","长期":"39","备查":"0"},rule:"",to_box:{},end:0},historyAuths:[{authCode:22,authName:"尚无历史记录，请输入"},{authCode:23,authName:"如输入慈利县档案局"}],uploadpriority:{first:"keyword",second:"docDateYear",third:"level",forth:"author",fifth:"docDesc",six:"docDate",seven:"docDescNum"},priority:{first:"keyword",second:"docDateYear",third:"level",forth:"author",fifth:"docDesc",six:"docDate",seven:"docDescNum"},priorityJ:{first:"keyword",second:"keyword2",third:"docDateYear",forth:"level",fifth:"author",six:"docDesc",seven:"docDate",eight:"docDescNum"},uploadpriorityJ:{first:"keyword",second:"keyword2",third:"docDateYear",forth:"level",fifth:"author",six:"docDesc",seven:"docDate",eight:"docDescNum"},renshipriority:{first:"keyword",second:"docDate"},priorityDic:[{name:"主题词",key:"keyword"},{name:"级别",key:"level"},{name:"责任者",key:"author"}],priorityDic2:[{name:"主题词",key:"keyword"},{name:"发文日期",key:"docDate"}],officialDocTypeSubs:[{typeId:1,typeName:"问题分卷法"},{typeId:2,typeName:"机构分卷法"}],docType:[{typeId:1,typeName:"文书类"},{typeId:2,typeName:"科技类"},{typeId:3,typeName:"人事类"},{typeId:4,typeName:"业务类"}],jsonArray:[]}},created:function(){var e,t=this;for(e in window.scrollTo(0,0),this.testAc(),this.BatchForm.lastBox)this.jsonArray.push([e,this.BatchForm.lastBox[e]]);console.log("jsonArr"),console.log(this.jsonArray),this.$store.state.username=sessionStorage.getItem("userId"),this.$store.state.alreadyDocs=[],this.getRequest("/organs").then((function(e){500==e.status&&(t.$message({type:"error",message:e.data.message}),t.$router.push("/login")),console.log(e);var o=e.data;null==o?t.historyAuths=[{authCode:22222,authName:"尚无历史记录，请输入"},{authCode:33333,authName:"如输入慈利县档案局"}]:(o.reverse(),t.historyAuths=o)})),sessionStorage.getItem("user")&&1==sessionStorage.getItem("user").level&&this.getRequest("/organs").then((function(e){e.data&&(t.historyAuths=e.data)}));var o=new Date,s=o.getFullYear(),i=o.getMonth()+1,n=o.getDate(),r=o.getHours(),a=o.getMinutes(),c=(o.getSeconds(),s+"-"+this.conver(i)+"-"+this.conver(n)+"-"+this.conver(r)+":"+this.conver(a)+"归档批");this.BatchForm.batchName=c},watch:{BatchForm:{handler:function(e,t){3==e.docType?(this.showTwo=!0,this.uploadpriority=this.renshipriority):(this.showTwo=!1,this.uploadpriority=this.priority)},deep:!0}},computed:{},methods:{nextStep2:function(){var e=this;this.showWaitingFlag=!0,this.weightForm.officialType=this.officialDocTypeSub,this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(t){console.log("修改单位表的文书类分卷方法"),console.log(t),e.weightForm=t.data,0==t.code&&(e.step++,e.showWaitingFlag=!1)}))},deleteThis:function(e){this.jsonArray.splice(e,1)},newBoxType:function(){this.jsonArray.push(["",""])},modifyOrgan:function(){this.$router.push("/work/modifyOrgan")},huiche:function(){alert(1)},isNumber:function(e){var t=/^\d+(\.\d+)?$/,o=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;return!(!t.test(e)||!o.test(e))},isStringNum:function(e){if(""==e)return!1;var t=Number(e);return!isNaN(t)},newBatch:function(){for(var e=this,t=!0,o=0;o<this.jsonArray.length;o++)this.isStringNum(this.jsonArray[o][0])||"永久"==this.jsonArray[o][0]||"长期"==this.jsonArray[o][0]||"备查"==this.jsonArray[o][0]||(t=!1),this.isStringNum(this.jsonArray[o][1])||(t=!1);if(t){var s={};for(o=0;o<this.jsonArray.length;o++)console.log(this.jsonArray[o][0]),s[this.jsonArray[o][0]]=this.jsonArray[o][1];console.log(s),this.BatchForm.lastBox=s,window.sessionStorage.setItem("lastBox",JSON.stringify(s));var i={first:"1",second:"2",third:"3",forth:"4",fifth:"5",six:"6",seven:"7"},n=this.priority;for(var r in n){var a=i[r];n[a]=n[r],delete n[r]}if(2==this.officialDocTypeSub)for(var r in i={first:"1",second:"2",third:"3",forth:"4",fifth:"5",six:"6",seven:"7",eight:"8"},n=this.priorityJ,n){a=i[r];n[a]=n[r],delete n[r]}this.BatchForm.rule=n,console.log("batchForm"),console.log(this.BatchForm),sessionStorage.setItem("Batch",this.BatchForm);var c="official";2==this.BatchForm.docType?c="science":3==this.BatchForm.docType?c="personnel":4==this.BatchForm.docType&&(c="business"),2==this.officialDocTypeSub&&(c="officialJ"),sessionStorage.setItem("docType",c);var l={authId:sessionStorage.getItem("authId"),batchName:this.BatchForm.batchName,docType:c,docTypeCode:this.BatchForm.docTypeCode,rule:this.BatchForm.rule,doc_number:1,lastBox:this.BatchForm.lastBox};console.log("提交了organ后提交的批次信息"),console.log(l),this.postRequest("/work",JSON.stringify(l)).then((function(t){t.data&&0==t.code&&(window.sessionStorage.setItem("batchId",t.data.id),e.$router.push("/work/docInput"))}))}else this.$message({type:"error",message:"除初始三种盒型外只允许填入数字"})},nextStep:function(){var e=this;if(3==this.BatchForm.docType){var t="science";1==this.BatchForm.docType?(t="official",2==this.officialDocTypeSub&&(t="officialJ")):3==this.BatchForm.docType?t="personnel":4==this.BatchForm.docType&&(t="business"),this.BatchForm.priority=this.uploadpriority;var o={first:"1",second:"2",third:"3",forth:"4",fifth:"5",six:"6",seven:"7"},s=this.BatchForm.priority;for(var i in s){var r=o[i];s[r]=s[i],delete s[i]}this.BatchForm.rule=s,sessionStorage.setItem("docType",t);var a={authId:sessionStorage.getItem("authId"),batchName:this.BatchForm.batchName,docType:t,docTypeCode:this.BatchForm.docTypeCode,rule:this.BatchForm.rule,doc_number:1};return console.log("人事提交的批次信息"),console.log(a),void this.postRequest("/work",JSON.stringify(a)).then((function(e){e.data&&0==e.code&&window.sessionStorage.setItem("batchId",e.data.id)})).then((function(){e.$router.push("/work/docInput")}))}if(this.can=this.validateForm1(),this.can){var c=this,l=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.checkOrganPromise();case 2:c.can=e.sent,c.can&&(c.BatchForm.priority=c.uploadpriority,1==c.step&&c.step++),0==c.weightForm.officialType&&1==c.BatchForm.docType?console.log("文书第一次"):c.step++,c.showWaitingFlag=!1;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();l()}},checkOrganPromise:function(){this.BatchForm.authCode;var e={authName:this.BatchForm.authName,authCode:this.BatchForm.authCode},t=this;return new Promise((function(o,s){t.postRequest("/organ",JSON.stringify(e)).then((function(e){e?1201==e.code?t.getRequest("/organ/"+e.data).then((function(e){console.log("单位名重复后"),console.log(e),0==e.code&&e.data.authName==t.BatchForm.authName&&e.data.authCode==t.BatchForm.authCode?(window.sessionStorage.setItem("authId",e.data.id),window.sessionStorage.setItem("authName",e.data.authName),t.weightForm=e.data,window.sessionStorage.setItem("authCode",t.BatchForm.authCode),window.sessionStorage.setItem("docTypeCode",t.BatchForm.docTypeCode),o(!0)):(o(!1),t.$message({type:"error",message:"单位名已存在，若重复请前往管理"}))})):1202==e.code?t.getRequest("/organ/"+e.data).then((function(e){console.log(e),0==e.code&&e.data.authName==t.BatchForm.authName&&e.data.authCode==t.BatchForm.authCode?(t.can=!0,window.sessionStorage.setItem("authName",e.data.authName),window.sessionStorage.setItem("authId",e.data.id),t.weightForm=e.data,window.sessionStorage.setItem("authCode",t.BatchForm.authCode),window.sessionStorage.setItem("docTypeCode",t.BatchForm.docTypeCode),o(!0)):(t.$message({type:"error",message:"单位代码已存在，若重复请前往管理"}),o(!1))})):0==e.code&&(window.sessionStorage.setItem("authId",e.data.id),window.sessionStorage.setItem("authName",e.data.authName),window.sessionStorage.setItem("authCode",e.data.authCode),window.sessionStorage.setItem("docTypeCode",t.BatchForm.docTypeCode),o(!0)):o(!1)}))}))},testAc:function(){var e=this;function t(){return o.apply(this,arguments)}function o(){return o=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.kk="yuanlai",console.log(e.kk),t.next=4,new Promise((function(t,o){setTimeout((function(){e.kk="3秒后变",t(e.kk)}),3e3)}));case 4:e.kk=t.sent,console.log(e.kk);case 6:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}t()},validateForm1:function(){return this.can=!0,""==this.BatchForm.authName||""==this.BatchForm.docType?(this.can=!1,this.$message({type:"error",message:"请填写完整"}),!1):this.can},preStep:function(){if(0==this.weightForm.officialType&&1==this.BatchForm.docType&&3==this.step)return console.log("文书第一次,prestep"),void this.step--;3!=this.step?this.step--:this.step=1},conver:function(e){return e<10?"0"+e:e},selectAuthChange:function(e){var t={};t=this.historyAuths.find((function(t){return t.authCode==e})),window.sessionStorage.setItem("authId",t.id),console.log(t),t=t.authName,this.BatchForm.authName=t;var o=JSON.stringify(e);while(o.length<5)o="0"+o;this.BatchForm.authCode=o},selectBlur:function(e){var t=e.target.value;this.BatchForm.authName=t},priorityChange:function(){this.$message.warning("定制排档案规则请联系管理员")}}}),a=r,c=(o("975f"),o("f43f"),o("5d22")),l=Object(c["a"])(a,s,i,!1,null,"b8dfe586",null);t["default"]=l.exports},"835a":function(e,t,o){"use strict";o("704f")},8880:function(e,t,o){e.exports=o.p+"img/male.e7462a11.png"},8963:function(e,t,o){"use strict";o("acab")},"8a18":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"sidebar"},[o("card"),o("list")],1),o("div",{staticClass:"main"},[o("message"),o("usertext")],1)])},i=[],n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"card"}},[o("header",[o("img",{staticClass:"avatar",attrs:{src:e.user.userface,alt:e.user.name}}),o("p",{staticClass:"name"},[e._v(e._s(e.user.name))])]),o("footer",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.$store.state.filterKey,expression:"$store.state.filterKey"}],staticClass:"search",attrs:{type:"text",placeholder:"search user..."},domProps:{value:e.$store.state.filterKey},on:{input:function(t){t.target.composing||e.$set(e.$store.state,"filterKey",t.target.value)}}})])])},r=[],a={name:"card",data:function(){return{user:JSON.parse(window.sessionStorage.getItem("user"))}}},c=a,l=(o("55ba"),o("5d22")),u=Object(l["a"])(c,n,r,!1,null,"7ee9dd77",null),d=u.exports,h=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"list"}},[o("ul",{staticStyle:{"padding-left":"0px"}},e._l(e.hrs,(function(t){return o("li",{class:{active:!!e.currentSession&&t.username===e.currentSession.username},on:{click:function(o){return e.changeCurrentSession(t)}}},[o("img",{staticClass:"avatar",attrs:{src:t.userface,alt:t.name}}),o("el-badge",{attrs:{"is-dot":e.isDot[e.user.username+"#"+t.username]}},[o("p",{staticClass:"name"},[e._v(e._s(t.name))])])],1)})),0)])},m=[],f=o("cf6b"),p={name:"list",data:function(){return{user:JSON.parse(window.sessionStorage.getItem("user"))}},computed:Object(f["b"])(["hrs","isDot","currentSession"]),methods:{changeCurrentSession:function(e){this.$store.commit("changeCurrentSession",e)}}},g=p,v=(o("25f8"),Object(l["a"])(g,h,m,!1,null,"73709cf4",null)),y=v.exports,b=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"scroll-bottom",rawName:"v-scroll-bottom",value:e.sessions,expression:"sessions"}],attrs:{id:"message"}},[e.currentSession?o("ul",e._l(e.sessions[e.user.username+"#"+e.currentSession.username],(function(t){return o("li",[o("p",{staticClass:"time"},[o("span",[e._v(e._s(e._f("time")(t.date)))])]),o("div",{staticClass:"main",class:{self:t.self}},[o("img",{staticClass:"avatar",attrs:{src:t.self?e.user.userface:e.currentSession.userface,alt:""}}),o("p",{staticClass:"text"},[e._v(e._s(t.content))])])])})),0):e._e()])},w=[],S={name:"message",data:function(){return{user:JSON.parse(window.sessionStorage.getItem("user"))}},computed:Object(f["b"])(["sessions","currentSession"]),filters:{time:function(e){return e&&(e=new Date(e)),"".concat(e.getHours(),":").concat(e.getMinutes())}},directives:{"scroll-bottom":function(e){setTimeout((function(){e.scrollTop+=9999}),1)}}},T=S,F=(o("55b0"),Object(l["a"])(T,b,w,!1,null,"9f2df1e6",null)),k=F.exports,x=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"uesrtext"}},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],attrs:{placeholder:"按 Ctrl + Enter 发送"},domProps:{value:e.content},on:{keyup:e.addMessage,input:function(t){t.target.composing||(e.content=t.target.value)}}})])},_=[],I={name:"uesrtext",data:function(){return{content:""}},computed:Object(f["b"])(["sessions","currentSession"]),methods:{addMessage:function(e){if(e.ctrlKey&&13===e.keyCode&&this.content.length){var t=new Object;t.to=this.currentSession.username,t.content=this.content,this.$store.state.stomp.send("/ws/chat",{},JSON.stringify(t)),this.$store.commit("addMessage",t),this.content=""}}}},D=I,C=(o("04c6"),Object(l["a"])(D,x,_,!1,null,"1e00b6fb",null)),A=C.exports,N={name:"FriendChat",data:function(){return{}},mounted:function(){this.$store.dispatch("initData")},components:{card:d,list:y,message:k,usertext:A}},R=N,j=(o("8963"),Object(l["a"])(R,s,i,!1,null,"2e08323c",null));t["default"]=j.exports},"8c62":function(e,t,o){"use strict";var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"left_history_batches"},[o("div",{staticStyle:{height:"100vh","overflow-x":"hidden"}},[o("vue-scroll",{attrs:{ops:e.ops}},[o("div",{staticStyle:{height:"4.8rem"}}),o("div",{staticStyle:{height:"2rem",position:"relative"}},[o("div",{staticClass:"detailList",staticStyle:{"margin-left":"0.5rem","font-size":"0.9rem"},on:{click:e.goDetail}},[e._v("点击查看本批详情")])]),e._l(this.$store.state.alreadyDocs.filter((function(e){return 1!=e.deleted})),(function(t){return o("div",{key:t.docSequence,staticClass:"leftItem animated fadeInLeft",staticStyle:{width:"60%",height:"2rem",float:"left","box-shadow":"0 0 0.5rem #909399","border-radius":".8rem",cursor:"pointer",position:"relative","padding-left":"35%","font-size":"0.8rem","padding-top":"0.8rem"},on:{click:function(o){return e.checkThisDoc(t)},mouseover:function(t){return e.fixShow()},mouseleave:function(t){return e.fixHide()}}},[o("div",{staticClass:"leftMask",on:{click:function(o){return e.checkThisDoc(t)}}},[e._v("修改")]),o("div",{staticClass:"leftPic"}),o("div",{staticClass:"leftSeq"},[e._v("识别号： "+e._s(t.docSequence))])])}))],2)],1)])},i=[],n=(o("96fa"),o("8d0c")),r={data:function(){return{searchContent:"输入识别号",showFixFlag:!1,ops:{vuescroll:{},scrollPanel:{},rail:{background:"#01a99a",opacity:0,size:"1rem",specifyBorderRadius:!1,gutterOfEnds:null,gutterOfSide:"0",keepShow:!1,border:"none"},bar:{hoverStyle:!0,onlyShowBarOnScroll:!1,background:"rgb(72,72,72)"}}}},methods:{searchTheDoc:function(){var e=this,t="/document/list/page/"+sessionStorage.getItem("docType")+"?pageNow=0&pageSize=100",o={docSequence:this.searchContent,docType:sessionStorage.getItem("docType")};this.postRequest(t,JSON.stringify(o)).then((function(t){e.$store.state.alreadyDocs=t.data.content,e.$router.push("/work/docInputd")}))},goDetail:function(){this.$router.push("/work/docInputd")},emitThisDoc:function(e){this.$store.state.noChufa=!0,n["a"].$emit("changeThisDoc",e)},fixShow:function(){this.showFixFlag=!0},fixHide:function(){this.showFixFlag=!1},checkThisDoc:function(e){console.log("侧边点开的item"),console.log(e),"true"==e.docDescAuthor||1==e.docDescAuthor||"1"==e.docDescAuthor?e.docDescAuthor=!0:e.docDescAuthor=!1,this.emitThisDoc(e)}},beforeDestroy:function(){n["a"].$off("changeThisDoc")}},a=r,c=(o("ec7f"),o("b967"),o("5d22")),l=Object(c["a"])(a,s,i,!1,null,"2da2f99b",null);t["a"]=l.exports},"8d0c":function(e,t,o){"use strict";var s=o("a593"),i=new s["default"];console.log("1111111111111111111111"),console.log(i),t["a"]=i},"92d8":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.hr?o("div",[o("el-card",{staticClass:"box-card",staticStyle:{width:"400px"}},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v(e._s(e.hr.name))])]),o("div",[o("div",{staticStyle:{display:"flex","justify-content":"center"}},[o("el-upload",{attrs:{"show-file-list":!1,"on-success":e.onSuccess,data:e.hr,action:"/hr/userface"}},[o("img",{staticStyle:{width:"100px",height:"100px","border-radius":"50px"},attrs:{title:"点击修改用户图像",src:e.hr.userface,alt:""}})])],1),o("div",[e._v("电话号码：\n                  "),o("el-tag",[e._v(e._s(e.hr.telephone))])],1),o("div",[e._v("手机号码：\n                  "),o("el-tag",[e._v(e._s(e.hr.phone))])],1),o("div",[e._v("居住地址：\n                  "),o("el-tag",[e._v(e._s(e.hr.address))])],1),o("div",[e._v("用户标签：\n                  "),e._l(e.hr.roles,(function(t,s){return o("el-tag",{key:s,staticStyle:{"margin-right":"5px"},attrs:{type:"success"}},[e._v("\n                      "+e._s(t.nameZh)+"\n                  ")])}))],2),o("div",{staticStyle:{display:"flex","justify-content":"space-around","margin-top":"10px"}},[o("el-button",{attrs:{type:"primary"},on:{click:e.showUpdateHrInfoView}},[e._v("修改信息")]),o("el-button",{attrs:{type:"danger"},on:{click:e.showUpdatePasswdView}},[e._v("修改密码")])],1)])]),o("el-dialog",{attrs:{title:"修改用户信息",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("div",[o("table",[o("tr",[o("td",[o("el-tag",[e._v("用户昵称：")])],1),o("td",[o("el-input",{model:{value:e.hr2.name,callback:function(t){e.$set(e.hr2,"name",t)},expression:"hr2.name"}})],1)]),o("tr",[o("td",[o("el-tag",[e._v("电话号码：")])],1),o("td",[o("el-input",{model:{value:e.hr2.telephone,callback:function(t){e.$set(e.hr2,"telephone",t)},expression:"hr2.telephone"}})],1)]),o("tr",[o("td",[o("el-tag",[e._v("手机号码：")])],1),o("td",[o("el-input",{model:{value:e.hr2.phone,callback:function(t){e.$set(e.hr2,"phone",t)},expression:"hr2.phone"}})],1)]),o("tr",[o("td",[o("el-tag",[e._v("用户地址：")])],1),o("td",[o("el-input",{model:{value:e.hr2.address,callback:function(t){e.$set(e.hr2,"address",t)},expression:"hr2.address"}})],1)])])]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.updateHrInfo}},[e._v("确 定")])],1)]),o("el-dialog",{attrs:{title:"修改密码",visible:e.passwdDialogVisible,width:"30%"},on:{"update:visible":function(t){e.passwdDialogVisible=t}}},[o("div",[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"请输入旧密码",prop:"oldpass"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.oldpass,callback:function(t){e.$set(e.ruleForm,"oldpass",t)},expression:"ruleForm.oldpass"}})],1),o("el-form-item",{attrs:{label:"请输入新密码",prop:"pass"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),o("el-form-item",{attrs:{label:"新确认密码",prop:"checkPass"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),o("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)])],1):e._e()},i=[],n={name:"HrInfo",data:function(){var e=this,t=function(t,o,s){""===o?s(new Error("请输入密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),s())},o=function(t,o,s){""===o?s(new Error("请再次输入密码")):o!==e.ruleForm.pass?s(new Error("两次输入密码不一致!")):s()};return{ruleForm:{oldpass:"",pass:"",checkPass:""},rules:{oldpass:[{validator:t,trigger:"blur"}],pass:[{validator:t,trigger:"blur"}],checkPass:[{validator:o,trigger:"blur"}]},hr:null,hr2:null,dialogVisible:!1,passwdDialogVisible:!1}},mounted:function(){this.initHr()},methods:{onSuccess:function(){this.initHr()},updateHrInfo:function(){var e=this;this.putRequest("/hr/info",this.hr2).then((function(t){t&&(e.dialogVisible=!1,e.initHr())}))},showUpdateHrInfoView:function(){this.dialogVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.ruleForm.hrid=t.hr.id,t.putRequest("/hr/pass",t.ruleForm).then((function(e){e&&(t.getRequest("/logout"),window.sessionStorage.removeItem("user"),t.$store.commit("initRoutes",[]),t.$router.push("/"))}))}))},resetForm:function(e){this.$refs[e].resetFields()},showUpdatePasswdView:function(){this.passwdDialogVisible=!0},initHr:function(){var e=this;this.getRequest("/hr/info").then((function(t){t&&(e.hr=t,e.hr2=Object.assign({},e.hr),window.sessionStorage.setItem("user",JSON.stringify(t)),e.$store.commit("INIT_CURRENTHR",t))}))}}},r=n,a=o("5d22"),c=Object(a["a"])(r,s,i,!1,null,"f313a656",null);t["default"]=c.exports},"946a":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"outbox"},[o("div",{staticClass:"wrapper",staticStyle:{position:"relative"}},[e.showWaitingFlag?o("div",{staticStyle:{position:"fixed",width:"20rem",height:"10rem",top:"10rem",left:"50%","margin-left":"-10rem","line-height":"10rem","background-color":"rgba(25, 55, 163, 0.8)","font-size":"1.3rem",color:"white","text-align":"center","z-index":"1000"}},[e._v("\n        请求中，请稍候...\n      ")]):e._e(),e.selectShow&&!e.backCompute?o("div",{staticClass:"topTextButtonBlue",staticStyle:{position:"absolute",top:"7.5rem",right:"20rem","z-index":"123"},on:{click:e.backToOrgans}},[e._v("\n        返回单位表\n      ")]):e._e(),e.selectShow&&e.backCompute?o("div",{staticClass:"topTextButtonBlue",staticStyle:{position:"absolute",top:"7.5rem",right:"20rem","z-index":"123"},on:{click:e.backToDetail}},[e._v("\n        返回预览\n      ")]):e._e(),e.backToDocAboutShow?o("div",{staticClass:"topTextButton",staticStyle:{position:"absolute",top:"7.5rem",right:"20rem","z-index":"123"},on:{click:e.backToDocAbout}},[e._v("\n        返回\n      ")]):e._e(),e.selectShow||e.backToDocAboutShow?e._e():o("div",{staticClass:"topTextButton",staticStyle:{position:"absolute",top:"7.5rem",right:"20rem","z-index":"123"},on:{click:e.backToSelect}},[e._v("\n          返回  \n      ")]),e._e(),o("div",{staticStyle:{height:"4.5rem"}}),e.selectShow||e.backToDocAboutShow||e.backToKeyWordShow?e._e():o("div",{staticStyle:{position:"absolute",top:"6rem","font-size":"1.5rem",width:"100%","text-align":"center"}},[e._v("\n        "+e._s(e.getAuthName)+"的对照表规则\n      ")]),e.selectShow?o("div",{staticStyle:{position:"absolute",top:"6rem","font-size":"1.5rem",width:"100%","text-align":"center"}},[e._v("\n        选择设置本单位规则："+e._s(e.getAuthName)+"\n      ")]):e._e(),e.backToDocAboutShow&&!this.backToKeyWordShow?o("div",{staticStyle:{position:"absolute",top:"6rem","font-size":"1.5rem",width:"100%","text-align":"center"}},[e._v("\n        "+e._s(this.deepInThisDocAbout)+"-优先级规则设置\n      ")]):e._e(),e.backToKeyWordShow?o("div",{staticStyle:{position:"absolute",top:"6rem","font-size":"1.5rem",width:"100%","text-align":"center"}},[e._v("\n        "+e._s(this.deepInThisKeyWord)+"-文号优先级规则设置\n      ")]):e._e(),e.showKVFix&&e.computeTypeNumIsAuthor?o("div",{staticStyle:{position:"absolute",top:"40vh",left:"50%","margin-left":"-15rem","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"40rem",height:"10rem","background-color":"rgb(255, 255, 255)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1rem",width:"20rem","text-align":"center","margin-left":"10rem",color:"#333"}},[e._v("\n          请按提示输入\n        ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.keyToFix,expression:"keyToFix"}],staticStyle:{height:"1.5rem","margin-left":"6rem","margin-top":"2rem",width:"7rem"},attrs:{type:"text",disabled:"true"},domProps:{value:e.keyToFix},on:{input:function(t){t.target.composing||(e.keyToFix=t.target.value)}}}),e._v("   :\n        "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.valueToFix,expression:"valueToFix"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.valueToFix},on:{input:function(t){t.target.composing||(e.valueToFix=t.target.value)}}}),o("select",{directives:[{name:"model",rawName:"v-model",value:e.levelToSet,expression:"levelToSet"}],staticStyle:{height:"2rem","margin-left":"2rem",width:"9rem"},attrs:{name:"",id:""},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.levelToSet=t.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"乡级"}},[e._v("乡级")]),o("option",{attrs:{value:"本级"}},[e._v("本级")]),o("option",{attrs:{value:"县级"}},[e._v("县级")]),o("option",{attrs:{value:"市级"}},[e._v("市级")]),o("option",{attrs:{value:"省级"}},[e._v("省级")]),o("option",{attrs:{value:"部级"}},[e._v("部级")])]),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"10rem",color:"#333"},on:{click:e.clearKV}},[e._v("\n          取消\n        ")]),o("div",{staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"15rem"},on:{click:e.fixTheKV}},[e._v("\n          确定\n        ")])]):e._e(),e.showCombineToDeadlineSet?o("div",{staticStyle:{position:"absolute",top:"15rem",left:"50%","margin-left":"-20rem","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"40rem",height:"10rem","background-color":"rgb(255, 255, 255)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1rem",width:"20rem","text-align":"center","margin-left":"10rem",color:"#333"}},[e._v("\n          请按提示输入\n        ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.keywordToSet,expression:"keywordToSet"}],staticStyle:{height:"1.5rem","margin-left":"6rem","margin-top":"2rem",width:"7rem"},attrs:{type:"text",placeholder:"词"},domProps:{value:e.keywordToSet},on:{input:function(t){t.target.composing||(e.keywordToSet=t.target.value)}}}),e._v("   +\n\n        "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.authorToSet,expression:"authorToSet"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"7rem"},attrs:{type:"text",placeholder:"责任者"},domProps:{value:e.authorToSet},on:{input:function(t){t.target.composing||(e.authorToSet=t.target.value)}}}),e._v("\n        ：\n\n                "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.deadlineToSet,expression:"deadlineToSet"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"7rem"},attrs:{type:"text",placeholder:"期限(若为年限填数字)"},domProps:{value:e.deadlineToSet},on:{input:function(t){t.target.composing||(e.deadlineToSet=t.target.value)}}}),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"10rem",color:"#333"},on:{click:e.clearCombineSet}},[e._v("\n          取消\n        ")]),o("div",{staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"15rem"},on:{click:e.setCombineToDeadline}},[e._v("\n          确定\n        ")])]):e._e(),e.showKVFix&&3==e.dicShowType?o("div",{staticStyle:{position:"absolute",top:"40vh",left:"50%","margin-left":"-15rem","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"30rem",height:"10rem","background-color":"rgb(209, 218, 243)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1rem",width:"20rem","text-align":"center","margin-left":"5rem",color:"#333"}},[e._v("\n          请按提示输入\n        ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.keyToFix,expression:"keyToFix"}],staticStyle:{height:"1.5rem","margin-left":"6rem","margin-top":"2rem",width:"7rem"},attrs:{type:"text",disabled:"true"},domProps:{value:e.keyToFix},on:{input:function(t){t.target.composing||(e.keyToFix=t.target.value)}}}),e._v("   :\n        "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.valueToFix,expression:"valueToFix"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.valueToFix},on:{input:function(t){t.target.composing||(e.valueToFix=t.target.value)}}}),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"5rem",color:"#333"},on:{click:e.clearKV}},[e._v("\n          取消\n        ")]),o("div",{staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"10rem"},on:{click:e.fixTheKV}},[e._v("\n          确定\n        ")])]):e._e(),e.selectRsDAFlag?o("div",{staticStyle:{position:"absolute",top:"40vh",left:"50%","margin-left":"-15rem","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"30rem",height:"10rem","background-color":"rgb(209, 218, 243)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1rem",width:"20rem","text-align":"center","margin-left":"5rem",color:"#333"}},[e._v("\n          请选择词对应的材料类别\n        ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.keyToSet,expression:"keyToSet"}],staticStyle:{height:"1.5rem","margin-left":"6rem","margin-top":"2rem",width:"7rem"},attrs:{type:"text",disabled:"true"},domProps:{value:e.keyToSet},on:{input:function(t){t.target.composing||(e.keyToSet=t.target.value)}}}),e._v("   :\n        "),o("select",{directives:[{name:"model",rawName:"v-model",value:e.valueToSet,expression:"valueToSet"}],staticStyle:{height:"2rem","margin-left":"1rem",width:"9rem"},attrs:{name:"",id:""},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.valueToSet=t.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"1"}},[e._v("履历材料")]),o("option",{attrs:{value:"2"}},[e._v("自传材料")]),o("option",{attrs:{value:"3"}},[e._v("鉴定、考核、考察材料")]),o("option",{attrs:{value:"4"}},[e._v("学历学位材料")]),o("option",{attrs:{value:"5"}},[e._v("职称材料")]),o("option",{attrs:{value:"6"}},[e._v("政治历史情况审查材料")]),o("option",{attrs:{value:"7"}},[e._v("入党入团材料")]),o("option",{attrs:{value:"8"}},[e._v("奖励材料")]),o("option",{attrs:{value:"9"}},[e._v("处分材料")]),o("option",{attrs:{value:"10"}},[e._v("工资情况材料")]),o("option",{attrs:{value:"11"}},[e._v("任免材料")]),o("option",{attrs:{value:"12"}},[e._v("出国、出境材料")]),o("option",{attrs:{value:"13"}},[e._v("各党派、团体代表登记表")]),o("option",{attrs:{value:"14"}},[e._v("聘用、录用、转干、转业材料")]),o("option",{attrs:{value:"15"}},[e._v("待遇、退（离）休、退职材料")]),o("option",{attrs:{value:"16"}},[e._v("其他可供参考的材料")])]),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"5rem",color:"#333"},on:{click:e.clearRsSet}},[e._v("\n          取消\n        ")]),o("div",{staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"10rem"},on:{click:e.doPresetRs}},[e._v("\n          确定\n        ")])]):e._e(),e.showKVPreset&&e.computeTypeNumIsAuthor?o("div",{staticStyle:{position:"fixed",top:"40vh",left:"50%","margin-left":"-15rem","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"40rem",height:"10rem","background-color":"rgb(255, 255, 255)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1rem",width:"20rem","text-align":"center","margin-left":"10rem",color:"#333"}},[e._v("\n          请按提示输入\n        ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.keyToSet,expression:"keyToSet"}],staticStyle:{height:"1.5rem","margin-left":"6rem","margin-top":"2rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.keyToSet},on:{input:function(t){t.target.composing||(e.keyToSet=t.target.value)}}}),e._v("   :\n        "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.valueToSet,expression:"valueToSet"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.valueToSet},on:{input:function(t){t.target.composing||(e.valueToSet=t.target.value)}}}),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"10rem",color:"#333"},on:{click:e.clearPreset}},[e._v("\n          取消\n        ")]),o("select",{directives:[{name:"model",rawName:"v-model",value:e.levelToSet,expression:"levelToSet"}],staticStyle:{height:"2rem","margin-left":"2rem",width:"9rem"},attrs:{name:"",id:""},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.levelToSet=t.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"乡级"}},[e._v("乡级")]),o("option",{attrs:{value:"本级"}},[e._v("本级")]),o("option",{attrs:{value:"县级"}},[e._v("县级")]),o("option",{attrs:{value:"市级"}},[e._v("市级")]),o("option",{attrs:{value:"省级"}},[e._v("省级")]),o("option",{attrs:{value:"部级"}},[e._v("部级")])]),o("div",{staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"15rem"},on:{click:e.doPreset}},[e._v("\n          确定\n        ")])]):e._e(),e.showKVPreset&&!e.computeTypeNumIsAuthor?o("div",{staticStyle:{position:"fixed",top:"40vh",left:"50%","margin-left":"-15rem","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"30rem",height:"10rem","background-color":"rgb(255, 255, 255)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"}},[o("div",{staticStyle:{"font-size":"1rem",width:"20rem","text-align":"center","margin-left":"5rem",color:"#333"}},[e._v("\n          请按提示输入\n        ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.keyToSet,expression:"keyToSet"}],staticStyle:{height:"1.5rem","margin-left":"6rem","margin-top":"2rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.keyToSet},on:{input:function(t){t.target.composing||(e.keyToSet=t.target.value)}}}),e._v("   :\n        "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.valueToSet,expression:"valueToSet"}],staticStyle:{height:"1.5rem","margin-left":"1rem",width:"7rem"},attrs:{type:"text"},domProps:{value:e.valueToSet},on:{input:function(t){t.target.composing||(e.valueToSet=t.target.value)}}}),o("div",{staticClass:"textButton",staticStyle:{position:"absolute",left:"5rem",color:"#333"},on:{click:e.clearPreset}},[e._v("\n          取消\n        ")]),o("div",{staticStyle:{color:"#333",cursor:"pointer",position:"absolute","margin-top":"1.5rem","font-size":"1.2rem","margin-left":"10rem"},on:{click:e.doPreset}},[e._v("\n          确定\n        ")])]):e._e(),e.selectShow?o("div",{staticClass:"Card printSetBox"},[o("div",{staticClass:"newTip"},[e._v("选择对照表进行设置")]),o("el-select",{ref:"authSelectref",staticClass:"tableSelectStyle",attrs:{id:"selectAuth",filterable:"",placeholder:"选择档案类型"},on:{change:e.docTypeChange},model:{value:e.selectedDoctype,callback:function(t){e.selectedDoctype=t},expression:"selectedDoctype"}},e._l(e.docTypes,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1),o("el-select",{ref:"authSelectref",staticClass:"tableSelectStyle",staticStyle:{top:"10rem"},attrs:{id:"selectAuth",filterable:"",placeholder:"选择对照表"},model:{value:e.selectedTableType,callback:function(t){e.selectedTableType=t},expression:"selectedTableType"}},e._l(e.tableTypes,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1),o("div",{staticClass:"topTextButtonBlue",staticStyle:{width:"3rem",position:"absolute",top:"10rem",left:"29rem"},on:{click:e.selectDone}},[e._v("\n          确定\n        ")])],1):e._e(),e._e(),e.selectShow||2!=e.dicShowType?e._e():o("div",{staticClass:"keyValueBox",on:{click:e.boxClick}},[o("div",{staticStyle:{position:"absolute",right:"2rem",top:"-0","font-weight":"700",cursor:"pointer","line-height":"2rem"},on:{click:e.preSetDicButton}},[e._v("\n          点击预设对照规则\n        ")]),o("div",{staticClass:"keyValueItem"},[o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none",position:"relative"}},[e._v("\n            "+e._s(e.computeKeyTitle)+"\n          ")]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v("\n            "+e._s(e.computeValueTitle)+"\n          ")]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v("操作")])]),e._l(e.jsonTable,(function(t,s){return o("div",{key:s,staticClass:"keyValueItem infoItemHighlight",staticStyle:{}},[o("div",{class:[{keyValueInfo:!0},{hideText:!1}],staticStyle:{border:"none"}},[e._v("\n            "+e._s(t[0])+"\n          ")]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v(e._s(t[1]))]),o("div",{staticStyle:{width:"0",position:"absolute"}},[e._v(e._s(t.id))]),e.saveBtnShow?e._e():o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left","margin-left":"10rem"},attrs:{type:"primary"},on:{click:function(o){return e.fixKv(o,t)}}},[e._v("\n            修改\n          ")]),o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left"},attrs:{type:"danger"},on:{click:function(o){return e.deleteKV(o,t)}}},[e._v("\n            删除\n          ")])])})),o("div",{staticStyle:{clear:"both"}})],2),e.selectShow||3!=e.dicShowType?e._e():o("div",{staticClass:"keyValueBox",on:{click:e.boxClick}},[o("div",{staticStyle:{position:"absolute",right:"2rem",top:"-0","font-weight":"700",cursor:"pointer","line-height":"2rem"},on:{click:function(t){e.showCombineToDeadlineSet=!0}}},[e._v("\n          点击预设对照规则\n        ")]),o("div",{staticStyle:{float:"left",width:"7rem","text-align":"center",position:"absolute","z-index":"1333"},on:{mouseover:function(t){return e.showFilterDeadline()},mouseleave:e.hideFilterDeadline}},[e._v("\n          "+e._s(e.selectedDeadline)+"\n          "),e.filterDeadlineFlag?o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",positon:"relative"}},[o("span",{attrs:{id:"user_top"}})]):e._e(),e.filterDeadlineFlag?e._e():o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",positon:"relative"}},[o("span",{attrs:{id:"user_topd"}})]),e.filterDeadlineFlag?o("div",{staticClass:"filterStyle",on:{mouseover:function(t){return e.showFilterDeadline()},mouseleave:e.hideFilterDeadline}},e._l(this.deadlineFilter,(function(t,s){return o("div",{key:s,staticClass:"filterItemStyle",on:{click:function(o){return e.filterThisRequest("deadline",t)}}},[e._v("\n              "+e._s(t)+"\n            ")])})),0):e._e()]),o("div",{staticClass:"keyValueItem"},[o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none",position:"relative"}},[e._v("\n            "+e._s(e.computeKeyTitle)+"\n          ")]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v("\n            责任者\n          ")]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v("操作")])]),e._l(e.jsonTable,(function(t,s){return o("div",{key:s,staticClass:"keyValueItem infoItemHighlight",staticStyle:{}},[o("div",{class:[{keyValueInfo:!0},{hideText:!1}],staticStyle:{border:"none"}},[e._v("\n            "+e._s(t[0])+"\n          ")]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v(e._s(t[1]))]),o("div",{staticStyle:{width:"0",position:"absolute"}},[e._v(e._s(t.id))]),o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left","margin-left":"11%"},attrs:{type:"danger"},on:{click:function(o){return e.deleteKV(o,t)}}},[e._v("\n            删除\n          ")])])})),o("div",{staticStyle:{clear:"both"}})],2),e.selectShow||1!=e.dicShowType?e._e():o("div",{staticClass:"keyValueBox",on:{click:e.boxClick}},[e.backToKeyWordShow||e.computeTypeNumIsAuthor?e._e():o("div",{staticStyle:{position:"absolute",right:"2rem",top:"-0","font-weight":"700",cursor:"pointer","line-height":"2rem"},on:{click:e.preSetButton}},[e._v("\n          点击预设优先级\n        ")]),o("div",{staticClass:"keyValueItem"},[e.computeTypeNumIsAuthor&&!e.selectShow?o("div",{staticStyle:{float:"left",width:"7rem","text-align":"center",position:"absolute","z-index":"1333"},on:{mouseover:function(t){return e.showFilterLevel()},mouseleave:e.hideFilterLevel}},[e._v("\n            "+e._s(e.selectedLevel)+"\n            "),e.filterLevelFlag?e._e():o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",positon:"relative"}},[o("span",{attrs:{id:"user_top"}})]),e.filterLevelFlag?o("div",{staticStyle:{width:"0.7rem",height:"0.7rem",positon:"relative"}},[o("span",{attrs:{id:"user_topd"}})]):e._e(),e.filterLevelFlag?o("div",{staticClass:"filterStyle",on:{mouseover:function(t){return e.showFilterLevel()},mouseleave:e.hideFilterLevel}},e._l(this.levelFilter,(function(t,s){return o("div",{key:s,staticClass:"filterItemStyle",on:{click:function(o){return e.filterLevelFromAuthor(t)}}},[e._v("\n                "+e._s(t)+"\n              ")])})),0):e._e()]):e._e(),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none","z-index":"1334",position:"relative","margin-left":"5rem"}},[e._v("\n            优先级(越大越靠前）\n            "),e.saveBtnShow?o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left","margin-left":"2.5rem"},attrs:{type:"success"},on:{click:e.saveKeyValue}},[e._v("\n              保存修改\n            ")]):e._e()]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v("词")]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v("操作")])]),e._l(e.jsonTable,(function(t,s){return o("div",{key:s,staticClass:"keyValueItem infoItemHighlight",staticStyle:{},attrs:{draggable:"false"}},[o("div",{class:[{keyValueInfo:!0},{hideText:!1}],staticStyle:{border:"none","margin-left":"5rem"}},[e._v("\n            "+e._s(t[1])+"\n          ")]),o("div",{staticClass:"keyValueInfo",staticStyle:{border:"none"}},[e._v(e._s(t[0]))]),e._e(),o("div",{staticStyle:{width:"0",position:"absolute"}},[e._v(e._s(t.id))]),o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left","margin-left":"5rem"},attrs:{type:"success"},on:{click:function(o){return e.upClick(o,t)}}},[e._v("\n            上调\n          ")]),o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left"},attrs:{type:"warning"},on:{click:function(o){return e.downClick(o,t)}}},[e._v("\n            下调\n          ")]),e.saveBtnShow?e._e():o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left"},attrs:{type:"danger"},on:{click:function(o){return e.deleteKV(o,t)}}},[e._v("\n            删除\n          ")]),e.saveBtnShow?e._e():o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:function(o){return e.fixKv(o,t)}}},[e._v("\n            修改值\n          ")]),e.saveBtnShow||!e.showKeyWord||e.backToDocAboutShow?e._e():o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left"},attrs:{type:""},on:{click:function(o){return e.thisDocAbout(o,t)}}},[e._v("\n            关键词优先级表\n          ")]),(!e.saveBtnShow&&e.showKeyWord&&e.backToDocAboutShow&&e.backToKeyWordShow,e._e()),e.rsKeywordPage?o("div",{staticClass:"topTextButtonBlueNoWidth",staticStyle:{float:"left"},attrs:{type:""},on:{click:function(o){return e.rsKeywordToDocAbout(o,t)}}},[e._v("\n            设置对应材料类别\n          ")]):e._e()])})),o("div",{staticStyle:{clear:"both"}})],2)])])},i=[],n=o("28f8"),r=(o("3e38"),o("1bc7"),o("0c84"),o("3441"),o("fc02"),{computed:{dicShowType:function(){return this.dicShow},computeKeyTitle:function(){return(this.typeNum-6)%10!=0?"文号(不包括数字)":"official"==sessionStorage.getItem("docType")?"问题词":"officialJ"==sessionStorage.getItem("docType")?"机构词":void 0},computeValueTitle:function(){return"责任者"},computeIsAuthorKwDeadline:function(){return(this.typeNum-6)%10==0},backCompute:function(){return this.$store.state.backToDetailFlag},computeTypeNumIsAuthor:function(){return 12==this.typeNum||22==this.typeNum||32==this.typeNum||52==this.typeNum},getAuthName:function(){return sessionStorage.getItem("authName")},rsKeywordPage:function(){return 41==this.typeNum},showKeyWord:function(){return 11==this.typeNum||21==this.typeNum||31==this.typeNum||51==this.typeNum}},created:function(){var e=this;this.setDescKVFlag=!1,window.scrollTo(0,0);var t={};t["3"],console.log(t),this.showWaitingFlag=!0,this.getRequest("/organ/"+sessionStorage.getItem("authId")).then((function(t){e.weightForm=t.data,e.authName=t.data.authName,console.log("加载keyWM页面时某个特定单位的权重表对应的id"),null==e.weightForm.officialDescWig&&(e.weightForm.officialDescWig={}),null==e.weightForm.busDescWig&&(e.weightForm.busDescWig={}),null==e.weightForm.tecDescWig&&(e.weightForm.tecDescWig={}),null==e.weightForm.officialDescAuthor&&(e.weightForm.officialDescAuthor={}),null==e.weightForm.officialAuthorKeywordDeadline&&(e.weightForm.officialAuthorKeywordDeadline={}),null==e.weightForm.tecDescAuthor&&(e.weightForm.tecDescAuthor={}),null==e.weightForm.tecAuthorKeywordDeadline&&(e.weightForm.tecAuthorKeywordDeadline={}),null==e.weightForm.busDescAuthor&&(e.weightForm.busDescAuthor={}),null==e.weightForm.busAuthorKeywordDeadline&&(e.weightForm.busAuthorKeywordDeadline={}),e.weightForm&&(e.showWaitingFlag=!1),console.log(e.weightForm)}))},methods:{setCombineToDeadline:function(){var e=this;if(""!=this.authorToSet.trim()&&""!=this.keywordToSet.trim()&&""!=this.deadlineToSet.trim()){var t=[];if(t.push(this.keywordToSet),t.push(this.authorToSet),null==this.authorKeywordDeadlineJson[this.deadlineToSet]){var o=[];o.push(t),this.authorKeywordDeadlineJson[this.deadlineToSet]=JSON.stringify(o)}else{var s=JSON.parse(this.authorKeywordDeadlineJson[this.deadlineToSet]);console.log("预设时该期限已经有记录"),console.log(s),console.log(t),s.push(t),console.log(s),this.authorKeywordDeadlineJson[this.deadlineToSet]=JSON.stringify(s)}this.weightForm[this.keywordDeadlineColumn]=this.authorKeywordDeadlineJson,this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(t){0==t.code&&(e.$message({type:"success",message:"预设成功"}),e.weightForm=t.data,e.showCombineToDeadlineSet=!1,e.selectDone())}))}else this.$message({type:"warning",message:"请填写完整"})},clearCombineSet:function(){this.showCombineToDeadlineSet=!1,this.authorToSet="",this.keywordToSet="",this.deadlineToSet=""},backToKeyWord:function(){this.backToDocAboutShow=!0,this.backToKeyWordShow=!1;var e=1,t=[];t.push(this.deepInThisDocAbout),this.thisDocAbout(e,t)},levelAuthorInit:function(){for(var e in console.log("levelAuthorInit"),this.authorJson)console.log(e),this.jsonTable.push([e,JSON.parse(this.authorJson[e]).value,JSON.parse(this.authorJson[e]).level]);var t=[],o=["乡级","本级","县级","市级","省级","部级"];for(var s in o)for(var i in console.log(s),t=this.jsonTable.filter((function(e,t,i){return e[2]==o[s]})),console.log(t),t){var n=t.length-i,r=JSON.parse(this.authorJson[t[i][0]]);console.log(r),r.value=n;var a=JSON.stringify(r);this.authorJson[t[i][0]]=a}for(var e in console.log(this.authorJson),this.jsonTable=[],this.authorJson)console.log(e),this.jsonTable.push([e,JSON.parse(this.authorJson[e]).value,JSON.parse(this.authorJson[e]).level]);this.tempTable=this.jsonTable;var c={authId:sessionStorage.getItem("authId"),type:this.typeNum,tables:this.authorJson,issueKeyword:{},keywordIssue:{}};this.putRequest("/weight/"+this.requestWigId,c).then((function(e){console.log("初始化时更新责任者权重表，init里面"),console.log(e)}))},filterLevelFromAuthor:function(e){console.log(this.jsonTable),this.selectedLevel=e,window.scrollTo(0,0),this.jsonTable=this.tempTable,this.jsonTable=this.jsonTable.filter((function(t,o,s){return console.log(t[2]),t[2]==e}))},filterThisRequest:function(e,t){if(window.scrollTo(0,0),"level"==e&&(this.jsonTable=this.tempTable,this.jsonTable=this.jsonTable.filter((function(e,o,s){return e[0].split("~")[0]==t}))),e="deadline"){this.selectedDeadline=t,console.log(this.authorKeywordDeadlineJson);var o=JSON.parse(this.authorKeywordDeadlineJson[t]);console.log(o),this.jsonTable=o}},hideFilterLevel:function(){this.filterLevelFlag=!1},showFilterLevel:function(){this.filterLevelFlag=!0},showFilterDeadline:function(){this.filterDeadlineFlag=!0},hideFilterDeadline:function(){this.filterDeadlineFlag=!1},getAuth:function(){var e=this;this.getRequest("/organ/"+sessionStorage.getItem("authId")).then((function(t){e.weightForm=t.data}))},selectDone:function(){"文书类"==this.selectedDoctype&&(this.authorKeywordDeadlineJson=this.weightForm.officialAuthorKeywordDeadline,this.keywordDeadlineColumn="officialAuthorKeywordDeadline","问题优先级表"==this.selectedTableType&&this.checkFromThisType(11),"责任者优先级表"==this.selectedTableType&&this.checkFromThisType(12),"文号责任者对照表"==this.selectedTableType&&(this.selectedTableTypeName="officialDescAuthor",this.checkFromThisType(15)),"问题词期限对照表"!=this.selectedTableType&&"机构词期限对照表"!=this.selectedTableType||(this.selectedTableTypeName="officialAuthorKeywordDeadline",this.checkFromThisType(16)),"机构优先级表"==this.selectedTableType&&this.checkFromThisType(51)),"业务类"==this.selectedDoctype&&(this.authorKeywordDeadlineJson=this.weightForm.busAuthorKeywordDeadline,this.keywordDeadlineColumn="busAuthorKeywordDeadline","业务类档案问题优先级表"==this.selectedTableType&&this.checkFromThisType(31),"业务类档案责任者优先级表"==this.selectedTableType&&this.checkFromThisType(32),"文号责任者对照表"==this.selectedTableType&&(this.selectedTableTypeName="busDescAuthor",this.checkFromThisType(35)),"级别期限对照表"==this.selectedTableType&&(this.selectedTableTypeName="busAuthorKeywordDeadline",this.checkFromThisType(36))),"科技类"==this.selectedDoctype&&(this.authorKeywordDeadlineJson=this.weightForm.tecAuthorKeywordDeadline,this.keywordDeadlineColumn="tecAuthorKeywordDeadline","科技类档案项目优先级表"==this.selectedTableType&&this.checkFromThisType(21),"科技类档案责任者优先级表"==this.selectedTableType&&this.checkFromThisType(22),"文号责任者对照表"==this.selectedTableType&&(this.selectedTableTypeName="tecDescAuthor",this.checkFromThisType(25)),"级别期限对照表"==this.selectedTableType&&(this.selectedTableTypeName="tecAuthorKeywordDeadline",this.checkFromThisType(26))),"人事类"==this.selectedDoctype&&this.checkFromThisType(41)},docTypeChange:function(){this.selectedTableType="","文书类"==this.selectedDoctype?2!=this.weightForm.officialType?this.tableTypes=["问题优先级表","责任者优先级表","文号责任者对照表","问题词期限对照表"]:this.tableTypes=["机构优先级表","责任者优先级表","文号责任者对照表","机构词期限对照表"]:"业务类"==this.selectedDoctype?this.tableTypes=["业务类档案问题优先级表","业务类档案责任者优先级表","文号责任者对照表","级别期限对照表"]:"科技类"==this.selectedDoctype?this.tableTypes=["科技类档案项目优先级表","科技类档案责任者优先级表","文号责任者对照表","级别期限对照表"]:(this.selectedTableType="",this.tableTypes=["人事类档案关键词优先级表"])},clearRsSet:function(){this.selectRsDAFlag=!1},rsKeywordToDocAbout:function(e,t){this.keyToSet=t[0],this.selectRsDAFlag=!0},getKwTypeNum:function(){return 11==this.typeNum?13:21==this.typeNum?23:31==this.typeNum?33:41==this.typeNum?41:51==this.typeNum?53:void 0},setDescToWeightForm:function(){console.log(this.descJson);var e=JSON.stringify(this.descJson);"official"==sessionStorage.getItem("docType")&&(this.weightForm.officialDescWig[this.deepInThisDocAbout]=e),"business"==sessionStorage.getItem("docType")&&(this.weightForm.busDescWig[this.deepInThisDocAbout]=e),"science"==sessionStorage.getItem("docType")&&(this.weightForm.tecDescWig[this.deepInThisDocAbout]=e)},getDescJsonTableFromWeightForm:function(){var e,t=this.weightForm;this.jsonTable=[],"official"==sessionStorage.getItem("docType")&&(e=t.officialDescWig),"business"==sessionStorage.getItem("docType")&&(e=t.busDescWig),"science"==sessionStorage.getItem("docType")&&(e=t.tecDescWig),null==e&&(e={});var o,s=e[this.deepInThisKeyWord];if(console.log(s),null==s)return s="{}",void(this.jsonTable=[]);for(o in s=JSON.parse(s),s)this.jsonTable.push([o,s[o]]);for(var i in this.jsonTable=this.jsonTable.sort((function(e,t){return parseInt(t[1])-parseInt(e[1])})),this.jsonTable){var n=this.jsonTable.length-i;this.jsonTable[i][1]=n}this.descJson=s,console.log(this.descJson),console.log(this.jsonTable)},thisKeyWordDesc:function(e,t){this.setDescKVFlag=!0,this.showWaitingFlag=!0,this.deepInThisKeyWord=t[0],this.backToDocAboutShow=!1,this.backToKeyWordShow=!0,this.getDescJsonTableFromWeightForm(),this.showWaitingFlag=!1},thisDocAbout:function(e,t){var o,s,i=this;this.showWaitingFlag=!0,this.deepInThisDocAbout=t[0],this.backToDocAboutShow=!0,this.setDescKVFlag=!1;var n=this;Promise.all([new Promise((function(e,t){n.getRequest("/weight/keywordSort/"+n.keywordWigId).then((function(t){o=t.data.tables,s=t.data.keywordIssue,e(t)}))})),new Promise((function(e,o){n.getRequest("/weight/map/about/"+n.requestWigId+"?word="+t[0]).then((function(t){e(t)}))}))]).then((function(e){if(console.log("按问题查关键词数组"),console.log(e[1]),null==e[1].data)return i.jsonTable=[],i.$message({type:"warning",message:"还没有关键词表，点击预设"}),void(i.showWaitingFlag=!1);var t,n=e[1].data;for(t in i.keywordArrFromIssue=n,i.keywordTable=e[0].data.tables,i.keywordIssueTable=e[0].data.keywordIssue,console.log(i.keywordTable),i.jsonTable=[],console.log(i.keywordTable),i.keywordTable)console.log("搜索关键词权重数组的"+t),n.indexOf(t)>=0&&i.jsonTable.push([t,i.keywordTable[t]]);console.log(i.jsonTable);for(var r=0;r<i.jsonTable.length;r++)i.jsonTable[r][1]=i.jsonTable.length-r;for(r=0;r<i.jsonTable.length;r++)i.keywordTable[i.jsonTable[r][0]]=i.jsonTable[r][1];var a={authId:sessionStorage.getItem("authId"),type:i.getKwTypeNum(),tables:o,keywordIssue:s};i.putRequest("/weight/"+i.keywordWigId,a).then((function(e){console.log("更新预设kv权重表数字排序"),console.log(e)}))})).then((function(){i.showWaitingFlag=!1}))},thisDocAbout1:function(e,t){var o=this;this.getRequest("/weight/keywordSort/"+this.keywordWigId).then((function(e){o.keywordTable=e.data.tables,o.keywordIssueTable=e.data.keywordIssue})),this.showWaitingFlag=!0,this.deepInThisDocAbout=t[0],this.getRequest("/weight/map/about/"+this.requestWigId+"?word="+t[0]).then((function(e){if(console.log("按问题查关键词数组"),console.log(e),null==e.data)return o.jsonTable=[],o.$message({type:"warning",message:"还没有关键词表，点击预设"}),void(o.showWaitingFlag=!1);var t,s=e.data;for(t in o.keywordArrFromIssue=s,o.jsonTable=[],o.keywordTable)console.log("搜索关键词权重数组的"+t),s.indexOf(t)>=0&&(console.log("you"),o.jsonTable.push([t,o.keywordTable[t]]));console.log(o.jsonTable),o.showWaitingFlag=!1})),this.backToDocAboutShow=!0},backToDocAbout:function(){this.setDescKVFlag=!1,console.log(this.issueTable),this.saveBtnShow=!1,this.jsonTable=this.level1JsonTable,this.backToDocAboutShow=!1},backToDetail:function(){this.$router.push("/work/docInputD"),this.$store.state.backToDetailFlag=!1},backToOrgans:function(){this.$router.push("/work/modifyOrgan")},backToSelect:function(){this.saveBtnShow=!1,this.selectShow=!0},clearKV:function(){this.keyToFix="",this.valueToFix="",this.showKVFix=!1},clearPreset:function(){this.keyToSet="",this.valueToSet="",this.showKVPreset=!1},isNumber:function(e){return!isNaN(e)},addKeyWordToArr:function(){},doPresetRs:function(){var e=this;this.selectRsDAFlag=!1,this.getRequest("/weight/keywordSort/"+this.requestWigId).then((function(t){var o=t.data.tables,s=t.data.keywordIssue;console.log("设置的材料类型"),console.log(e.valueToSet),s[e.keyToSet]=e.valueToSet;var i={authId:sessionStorage.getItem("authId"),type:e.getKwTypeNum(),tables:o,issueKeyword:{},keywordIssue:s};e.putRequest("/weight/"+e.requestWigId,i).then((function(t){console.log(i),console.log("更新rs预设kv权重表"),console.log(t),e.checkFromThisType(41)}))}))},doPresetSub:function(){var e,t=this;if(this.backToDocAboutShow)this.getRequest("/weight/"+this.requestWigId).then((function(o){e=o.data.tables,t.issueKeywordTable=o.data.issueKeyword,console.log(t.issueKeywordTable),console.log(t.issueKeywordTable[t.deepInThisDocAbout]),null==t.issueKeywordTable[t.deepInThisDocAbout]&&(t.issueKeywordTable[t.deepInThisDocAbout]=[]),t.issueKeywordTable[t.deepInThisDocAbout].indexOf(t.keyToSet)<0&&t.issueKeywordTable[t.deepInThisDocAbout].push(t.keyToSet);var s={authId:sessionStorage.getItem("authId"),type:t.typeNum,tables:e,issueKeyword:t.issueKeywordTable};t.putRequest("/weight/"+t.requestWigId,s).then((function(e){console.log("更新文书问题权重表"),console.log(e),t.issueTable=e.data.tables})),t.getRequest("/weight/keywordSort/"+t.keywordWigId).then((function(e){var o=e.data.tables;o[t.keyToSet]=t.valueToSet;var s=e.data.keywordIssue;console.log(s),console.log(s[t.keyToSet]),null==s[t.keyToSet]&&(s[t.keyToSet]=t.deepInThisDocAbout),o[t.keyToSet]=t.valueToSet;var i={authId:sessionStorage.getItem("authId"),type:t.getKwTypeNum(),tables:o,keywordIssue:s};t.putRequest("/weight/"+t.keywordWigId,i).then((function(e){console.log(i),console.log("更新预设kv权重表"),console.log(e);var o=1,s=[];s.push(t.deepInThisDocAbout),t.thisDocAbout(o,s)}))}))})).then((function(){}));else if(this.computeTypeNumIsAuthor){this.getRequest("/weight/"+this.requestWigId).then((function(e){if(console.log(e.data.tables),t.authorJson=o,o=e.data.tables,0==e.code){var n=t.keyToSet;if(o[n]={},o[n].level=t.levelToSet,o[n].value=t.valueToSet,o[n]=JSON.stringify(o[n]),s=e.data.issueKeyword,i=e.data.keywordIssue,null==i&&(i={}),null==s[t.keyToSet]){var r=[];s[t.keyToSet]=r}}else t.$message({type:"warning",message:"添加失败"})})).then((function(e){var n={authId:sessionStorage.getItem("authId"),type:t.typeNum,tables:o,issueKeyword:s,keywordIssue:i};t.putRequest("/weight/"+t.requestWigId,n).then((function(e){console.log("更新预设kv权重表"),console.log(e),t.issueTable=e.data.tables,t.renewTable()}))})).then((function(e){t.showWaitingFlag=!1,t.showKVPreset=!1}))}else{var o,s,i;this.getRequest("/weight/sort/"+this.requestWigId).then((function(e){if(console.log("添加过，先获取："),console.log(e.data.tables),o=e.data.tables,0==e.code){var n=t.keyToSet;if(o[n]=t.valueToSet,s=e.data.issueKeyword,i=e.data.keywordIssue,null==i&&(i={}),null==s[t.keyToSet]){var r=[];s[t.keyToSet]=r}}else t.$message({type:"warning",message:"添加失败"})})).then((function(e){var n={authId:sessionStorage.getItem("authId"),type:t.typeNum,tables:o,issueKeyword:s,keywordIssue:i};t.putRequest("/weight/"+t.requestWigId,n).then((function(e){console.log("更新预设kv权重表"),console.log(e),t.issueTable=e.data.tables,t.renewTable()}))})).then((function(e){t.showWaitingFlag=!1,t.showKVPreset=!1}))}},doPreset:function(){var e=this;if(console.log(this.weightForm),this.typeNum%5==0||(this.typeNum-6)%10==0){this.selectedLevel,this.keyToSet;if(null!=this.weightForm[this.selectedTableTypeName][this.keyToSet])return this.$message({type:"warning",message:"该对照已存在："+this.keyToSet}),void(this.showWaitingFlag=!1);if(15==this.typeNum&&(this.weightForm.officialDescAuthor[this.keyToSet]=this.valueToSet),25==this.typeNum&&(this.weightForm.tecDescAuthor[this.keyToSet]=this.valueToSet),35==this.typeNum&&(this.weightForm.busDescAuthor[this.keyToSet]=this.valueToSet),16==this.typeNum){var t=this.selectedLevel+"~"+this.keyToSet;console.log(t),console.log(this.weightForm.officialAuthorKeywordDeadline),this.weightForm.officialAuthorKeywordDeadline[this.selectedLevel+"~"+this.keyToSet]=this.valueToSet,console.log(this.weightForm.officialAuthorKeywordDeadline)}return 26==this.typeNum&&(this.weightForm.tecAuthorKeywordDeadline[this.selectedLevel+"~"+this.keyToSet]=this.valueToSet),36==this.typeNum&&(this.weightForm.busAuthorKeywordDeadline[this.selectedLevel+"~"+this.keyToSet]=this.valueToSet),this.jsonTable=[],this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(t){if(0==t.code){e.$message({type:"success",message:"预设成功"});var o,s=t.data,i=s[e.selectedTableTypeName];for(o in i)console.log(o),console.log(i[o]),e.jsonTable.push([o,i[o]]);e.showKVPreset=!1}})),void(this.showWaitingFlag=!1)}if(this.isNumber(this.valueToSet))if(12!=this.typeNum&&22!=this.typeNum&&32!=this.typeNum&&52!=this.typeNum||""!=this.levelToSet){if(this.setDescKVFlag)return this.showWaitingFlag=!0,null!=this.descJson[this.keyToSet]?(this.$message({type:"warning",message:"该文号已存在："+this.keyToSet}),void(this.showWaitingFlag=!1)):(this.descJson[this.keyToSet]=this.valueToSet,console.log(this.descJson),this.setDescToWeightForm(),this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(t){e.weightForm=t.data,e.getDescJsonTableFromWeightForm(),e.showKVPreset=!1})),void(this.showWaitingFlag=!1));this.showWaitingFlag=!0,this.showKVPreset=!1,this.backToDocAboutShow?this.getRequest("/weight/keywordSort/"+this.keywordWigId).then((function(t){if(null!=t.data.tables[e.keyToSet])return e.$message({type:"warning",message:"关键词已存在,大小为"+t.data.tables[e.keyToSet]+",问题为："+t.data.keywordIssue[e.keyToSet]}),void(e.showWaitingFlag=!1);e.doPresetSub()})):this.computeTypeNumIsAuthor?this.getRequest("/weight/"+this.requestWigId).then((function(t){if(null!=t.data.tables[e.keyToSet])return e.$message({type:"warning",message:"已存在"+e.keyToSet}),void(e.showWaitingFlag=!1);e.doPresetSub()})):(this.getRequest("/weight/"+this.requestWigId).then((function(t){if(null!=t.data.tables[e.keyToSet])return e.$message({type:"warning",message:"已存在"+e.keyToSet+",大小为"+t.data.tables[e.keyToSet]}),void(e.showWaitingFlag=!1)})),this.doPresetSub())}else this.$message({type:"warning",message:"请选择级别"});else this.$message({type:"warning",message:"优先级只能是数字"})},renewAuthTable:function(){this.getAuth()},renewTable:function(){var e,t=this;(this.jsonTable=[],this.selectShow=!1,this.computeTypeNumIsAuthor)?this.getRequest("/weight/authorSort/"+this.requestWigId).then((function(o){var s;for(s in e=o.data.tables,t.authorJson=e,t.jsonTable=[],console.log("getRenew"),console.log(o.data),t.authorJson)console.log(s),t.jsonTable.push([s,JSON.parse(t.authorJson[s]).value,JSON.parse(t.authorJson[s]).level]);t.tempTable=t.jsonTable,t.filterLevelFromAuthor(t.selectedLevel)})):this.getRequest("/weight/sort/"+this.requestWigId).then((function(o){var s;for(s in e=o.data.tables,console.log("刷新table"),console.log(e),t.jsonTable=[],e)t.jsonTable.push([s,e[s]]);t.level1JsonTable=t.jsonTable}))},checkFromThisTableType:function(e){var t,o;if(this.selectShow=!1,this.dicShow=2,this.jsonTable=[],e%5==0){if(this.descAuthorFlag=!0,15==e)for(o in t=this.weightForm.officialDescAuthor,console.log(t),t)this.jsonTable.push([o,t[o]]);if(25==e)for(o in t=this.weightForm.tecDescAuthor,t)this.jsonTable.push([o,t[o]]);if(35==e)for(o in t=this.weightForm.busDescAuthor,t)this.jsonTable.push([o,t[o]])}if((e-6)%10==0){for(var s in this.dicShow=3,console.log(this.selectedTableTypeName),this.deadlineFilter=[],this.authorKeywordDeadlineJson)this.deadlineFilter.push(s);if("请选择"==this.selectedDeadline)this.jsonTable=[];else{var i=this.authorKeywordDeadlineJson[this.selectedDeadline],n=JSON.parse(i);this.jsonTable=n}}this.showWaitingFlag=!1},checkFromThisType:function(e){var t=this;if(this.typeNum=e,this.showWaitingFlag=!0,this.backToDocAboutShow=!1,(e-5)%10!=0&&(e-6)%10!=0)if(this.dicShow=1,this.jsonTable=[],11==e&&(this.requestWigId=this.weightForm.docIssueWig,this.keywordWigId=this.weightForm.docKeywordWig),12==e&&(this.requestWigId=this.weightForm.docAuthorWig),13==e&&(this.requestWigId=this.weightForm.docKeywordWig),51==e&&(this.requestWigId=this.weightForm.docIssuejWig,this.keywordWigId=this.weightForm.docKeywordjWig),52==e&&(this.requestWigId=this.weightForm.docAuthorjWig),21==e&&(this.requestWigId=this.weightForm.tecProjectWig,this.keywordWigId=this.weightForm.tecKeywordWig),22==e&&(this.requestWigId=this.weightForm.tecAuthorWig),23==e&&(this.requestWigId=this.weightForm.tecKeywordWig),31==e&&(this.requestWigId=this.weightForm.busProjectWig,this.keywordWigId=this.weightForm.busKeywordWig),32==e&&(this.requestWigId=this.weightForm.busAuthorWig),33==e&&(this.requestWigId=this.weightForm.busKeywordWig),41==e&&(this.requestWigId=this.weightForm.perKeywordWig),this.selectShow=!1,this.typeNum=e,this.requestWigId)if(12==e||22==e||32==e||52==e){this.getRequest("/weight/authorSort/"+this.requestWigId).then((function(e){o=e.data.tables,t.issueTable=e.data.tables,t.issueKeywordTable=e.data.issueKeyword,t.authorJson=o,t.jsonTable=[],t.levelAuthorInit(),t.filterLevelFromAuthor(t.selectedLevel)})).then((function(){t.showWaitingFlag=!1}))}else{var o;this.getRequest("/weight/sort/"+this.requestWigId).then((function(s){var i;for(i in console.log("权重表分类，get到"),console.log(s),o=s.data.tables,t.issueTable=s.data.tables,t.issueKeywordTable=s.data.issueKeyword,41==e&&(console.log(t.issueKeywordTable),t.keywordIssueTable=s.data.keywordIssue,t.keywordTable=s.data.tablses),t.jsonTable=[],o)t.jsonTable.push([i,o[i]]);t.level1JsonTable=t.jsonTable})).then((function(){t.showWaitingFlag=!1}))}else this.jsonTable=[],this.$message({type:"warning",message:"还没有添加过该类型的档案"});else this.checkFromThisTableType(e)},submitFixAuthor:function(){var e=this;for(var t in this.jsonTable){var o=JSON.parse(this.authorJson[this.jsonTable[t][0]]);o.value=this.jsonTable[t][1];var s=JSON.stringify(o);this.authorJson[this.jsonTable[t][0]]=s}var i={authId:sessionStorage.getItem("authId"),type:this.typeNum,tables:this.authorJson,issueKeyword:{},keywordIssue:{}};this.putRequest("/weight/"+this.requestWigId,i).then((function(t){console.log("更新预设级别下的责任者权重表"),console.log(t),0==t.code&&e.$message({type:"success",message:"保存修改成功"}),e.renewTable(),e.saveBtnShow=!1}))},saveKeyValue:function(){console.log("save"),console.log(this.jsonTable),this.computeTypeNumIsAuthor?this.submitFixAuthor():(console.log("continue"),this.submitFixFromQianDuan(),this.saveBtnShow=!1)},boxClick:function(e){},changeFlag:function(){this.valueShow=!0},valueCompute:function(e){clearInterval(this.timer),this.timer=setInterval(this.changeFlag,2e3)},fixKv:function(e,t){this.showKVFix=!0,this.keyToFix=t[0],this.valueToFix=t[1]},preSetButton:function(){this.showKVPreset=!0,this.keyToSet="词",this.valueToSet="数字"},preSetDicButton:function(){this.showKVPreset=!0,this.keyToSet=this.computeKeyTitle,this.valueToSet=this.computeValueTitle},fixTheKV:function(){var e=this;if(console.log(this.typeNum-6),this.typeNum%5==0||(this.typeNum-6)%10==0){if(15==this.typeNum&&(this.weightForm.officialDescAuthor[this.keyToFix]=this.valueToFix),25==this.typeNum&&(this.weightForm.tecDescAuthor[this.keyToFix]=this.valueToFix),35==this.typeNum&&(this.weightForm.busDescAuthor[this.keyToFix]=this.valueToFix),16==this.typeNum){var t=this.selectedLevel+"~"+this.keyToFix;console.log(t),console.log(this.weightForm.officialAuthorKeywordDeadline),this.weightForm.officialAuthorKeywordDeadline[this.selectedLevel+"~"+this.keyToFix]=this.valueToFix,console.log(this.weightForm.officialAuthorKeywordDeadline)}return 26==this.typeNum&&(this.weightForm.tecAuthorKeywordDeadline[this.selectedLevel+"~"+this.keyToFix]=this.valueToFix),36==this.typeNum&&(this.weightForm.busAuthorKeywordDeadline[this.selectedLevel+"~"+this.keyToFix]=this.valueToFix),this.jsonTable=[],this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(t){if(0==t.code){e.$message({type:"success",message:"修改成功"});var o,s=t.data,i=s[e.selectedTableTypeName];for(o in i)e.jsonTable.push([o,i[o]]);e.showKVFix=!1}})),void(this.showWaitingFlag=!1)}if(this.isNumber(this.valueToFix))if(12!=this.typeNum&&22!=this.typeNum&&32!=this.typeNum){if(this.setDescKVFlag)return this.descJson[this.keyToFix]=this.valueToFix,console.log(this.descJson),this.setDescToWeightForm(),this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(t){e.weightForm=t.data,e.getDescJsonTableFromWeightForm(),e.showKVFix=!1})),void(this.showWaitingFlag=!1);for(var o=this.jsonTable,s=o.length,i=0;i<s;i++)if(this.jsonTable[i][0]==this.keyToFix){o.splice(i,1);var n=[this.keyToFix,this.valueToFix];console.log(n),o.splice(i,0,n)}this.submitFixFromQianDuan(),this.showKVFix=!1}else{if(""==this.levelToSet)return void this.$message({type:"warning",message:"请选择级别"});var r=this.authorJson,a=this.keyToFix;console.log(this.authorJson),r[a]=JSON.parse(r[a]),r[a].level=this.levelToSet,r[a].value=this.valueToFix,r[a]=JSON.stringify(r[a]);var c={authId:sessionStorage.getItem("authId"),type:this.typeNum,tables:r,issueKeyword:{},keywordIssue:{}};this.putRequest("/weight/"+this.requestWigId,c).then((function(t){console.log("更新预设级别下的责任者权重表"),console.log(t),0==t.code&&e.$message({type:"success",message:"操作成功"}),e.renewTable(),e.showKVFix=!1}))}else this.$message({type:"warning",message:"优先级只能是数字"})},submitFixFromQianDuan:function(){for(var e=this,t={},o=0;o<this.jsonTable.length;o++)t[this.jsonTable[o][0]]=this.jsonTable[o][1];if(this.descJson=t,this.setDescKVFlag&&this.backToDocAboutShow)return this.setDescToWeightForm(),void this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(t){0==t.code&&(e.$message({type:"warning",message:"操作成功"}),e.weightForm=t.data)})).then((function(){e.getDescJsonTableFromWeightForm()}));if(this.backToDocAboutShow){for(o=0;o<this.jsonTable.length;o++)this.keywordTable[this.jsonTable[o][0]]&&(this.keywordTable[this.jsonTable[o][0]]=this.jsonTable[o][1]);var s={authId:sessionStorage.getItem("authId"),type:this.getKwTypeNum(),tables:this.keywordTable,keywordIssue:this.keywordIssueTable};this.putRequest("/weight/"+this.keywordWigId,s).then((function(e){console.log(s),console.log("调整后，关键词对应的表"),console.log(e)})).then((function(){var t=1,o=[];o.push(e.deepInThisDocAbout),e.thisDocAbout(t,o)}))}else{var i={authId:sessionStorage.getItem("authId"),type:this.typeNum,id:this.requestWigId,tables:t,issueKeyword:this.issueKeywordTable,keywordIssue:this.keywordIssueTable};this.putRequest("/weight/"+this.requestWigId,i).then((function(t){return console.log("修改值的方式更新权重表，类型："+e.typeNum),console.log(t),t})).then((function(t){0==t.code?(e.$message({type:"warning",message:"操作成功"}),e.renewTable()):(e.$message({type:"warning",message:"操作失败"}),location.reload())}))}},deleteDocAbout:function(e){var t=this;console.log(this.issueTable);var o;e[0];this.getRequest("/weight/map/about/"+this.requestWigId+"?word="+e[0]).then((function(e){o=e.data})).then((function(){console.log("按问题查关键词数组 删除某个问题后");var s=o;null==s&&(s=[]),t.getRequest("/weight/keywordSort/"+t.keywordWigId).then((function(e){t.keywordTable=e.data.tables,t.keywordIssueTable=e.data.keywordIssue})).then((function(){for(var e in s)console.log("删除问题对应的关键词："+s[e]),delete t.keywordTable[s[e]],delete t.keywordIssueTable[s[e]]})).then((function(){var e={authId:sessionStorage.getItem("authId"),type:t.getKwTypeNum(),tables:t.keywordTable,keywordIssue:t.keywordIssueTable};t.putRequest("/weight/"+t.keywordWigId,e).then((function(t){console.log(e),console.log("删除问题后，操作关键词权重表"),console.log(t)}))})),console.log("shanchu问题权重表1"),console.log(t.issueTable),delete t.issueTable[e[0]],delete t.issueKeywordTable[e[0]],console.log(t.issueTable);var i={authId:sessionStorage.getItem("authId"),type:t.typeNum,tables:t.issueTable,issueKeyword:t.issueKeywordTable};t.putRequest("/weight/"+t.requestWigId,i).then((function(e){if(console.log("shanchu问题权重表"),console.log(e),0==e.code){for(var o in t.$message({type:"success",message:"删除成功"}),t.issueKeywordTable=e.data.issueKeyword,t.issueTable=e.data.tables,t.jsonTable=[],t.issueTable)t.jsonTable.push([o,t.issueTable[o]]);t.level1JsonTable=t.jsonTable}else t.$message({type:"success",message:"删除失败"}),t.checkFromThisType(t.typeNum)}))}))},deleteKV:function(e,t){var o=this;if(this.typeNum%5==0||(this.typeNum-6)%10==0){var s=this.weightForm[this.selectedTableTypeName];return console.log(s),delete s[t[0]],console.log(s),this.jsonTable=[],this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(e){if(0==e.code){o.$message({type:"success",message:"删除成功"});var t,s=e.data,i=s[o.selectedTableTypeName];for(t in i)o.jsonTable.push([t,i[t]]);o.showKVFix=!1}})),void(this.showWaitingFlag=!1)}if(this.setDescKVFlag)return delete this.descJson[t[0]],this.setDescToWeightForm(),void this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(e){o.$message({type:"success",message:"删除成功"}),o.weightForm=e.data})).then((function(){o.getDescJsonTableFromWeightForm()}));var i={};console.log(1),this.$confirm("确定要删除该条不再使用吗",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){if(console.log("关键词删除进入，需判断"),11!=o.typeNum&&21!=o.typeNum&&31!=o.typeNum||0!=o.backToDocAboutShow)if(o.computeTypeNumIsAuthor){console.log("责任者删除"),delete o.authorJson[t[0]];var e={authId:sessionStorage.getItem("authId"),type:o.typeNum,tables:o.authorJson,issueKeyword:{},keywordIssue:{}};o.putRequest("/weight/"+o.requestWigId,e).then((function(e){console.log("删除预设级别下的责任者权重表"),console.log(e),0==e.code&&o.$message({type:"success",message:"删除成功"}),o.renewTable()}))}else{console.log("关键词删除");for(var s,n=o.jsonTable,r=n.length,a=0;a<r;a++)if(o.jsonTable[a][0]==t[0]){i=o.jsonTable.splice(a,1);break}if(o.backToDocAboutShow)return o.showWaitingFlag=!0,void o.getRequest("/weight/"+o.requestWigId).then((function(e){s=e.data.tables,o.issueKeywordTable=e.data.issueKeyword;var i=o.issueKeywordTable[o.deepInThisDocAbout].indexOf(t[0]);i>-1&&o.issueKeywordTable[o.deepInThisDocAbout].splice(i,1);var n={authId:sessionStorage.getItem("authId"),type:o.typeNum,tables:s,issueKeyword:o.issueKeywordTable};return o.putRequest("/weight/"+o.requestWigId,n).then((function(e){console.log("更新文书问题权重表"),console.log(e)})),"k"})).then((function(e){console.log(e),console.log("删除关键字"),console.log(i[0][0]),delete o.keywordTable[i[0][0]],console.log(o.keywordTable),delete o.keywordIssueTable[i[0][0]];var t={authId:sessionStorage.getItem("authId"),type:o.getKwTypeNum(),tables:o.keywordTable,keywordIssue:o.keywordIssueTable};o.putRequest("/weight/"+o.keywordWigId,t).then((function(e){console.log(t),console.log("删除后更新 预设kv权重表"),console.log(e);var s=1,i=[];i.push(o.deepInThisDocAbout),o.thisDocAbout(s,i)}))}));console.log(o.jsonTable),o.submitFixFromQianDuan()}else if(console.log("wenti delete"),0==o.backToDocAboutShow)return void o.deleteDocAbout(t)})).catch((function(){}))},downClick:function(e,t){this.saveBtnShow=!0;for(var o=this.jsonTable,s=o.length,i=0;i<s;i++)if(this.jsonTable[i][0]==t[0]&&i!=s-1){o.splice(i,1),o.splice(i+1,0,t);var n=this.jsonTable[i][1];return this.jsonTable[i][1]=this.jsonTable[i+1][1],void(this.jsonTable[i+1][1]=n)}},upClick:function(e,t){this.saveBtnShow=!0;for(var o=this.jsonTable,s=o.length,i=0;i<s;i++)if(this.jsonTable[i][0]==t[0]){if(0!=i){o.splice(i,1),o.splice(i-1,0,t);var n=this.jsonTable[i][1];return this.jsonTable[i][1]=this.jsonTable[i-1][1],void(this.jsonTable[i-1][1]=n)}console.log(1)}}},data:function(){var e;return e={keywordToSet:"",authorToSet:"",deadlineToSet:"",showCombineToDeadlineSet:!1,authorKeywordDeadlineJson:{},backToKeyWordShow:!1,setDescKVFlag:!1,descJson:{},authorJson:{},tempTable:[],descAuthorFlag:!1,dicShow:1,selectShow:!0,selectedLevel:"本级",selectedDeadline:"请选择",selectedDoctype:"",selectedTableType:"",selectedTableTypeName:"",filterLevelFlag:!1,filterDeadlineFlag:!1,levelFilter:["乡级","本级","县级","市级","省级","部级"],deadlineFilter:[],docTypes:["文书类","业务类","科技类","人事类"],tableTypes:["请先选择文档类型"],selectRsDAFlag:!1,level1JsonTable:[],keywordIssueTable:{},keywordArrFromIssue:[],docAboutWigTable:{},deepInThisDocAbout:"",issueKeywordTable:{},issueTable:{},typeNum:11,showWaitingFlag:!1,backToDocAboutShow:!1,requestWigId:""},Object(n["a"])(e,"typeNum",""),Object(n["a"])(e,"weightForm",{}),Object(n["a"])(e,"keyToFix",""),Object(n["a"])(e,"valueToFix",""),Object(n["a"])(e,"authName",""),Object(n["a"])(e,"keyToSet",""),Object(n["a"])(e,"valueToSet",""),Object(n["a"])(e,"levelToSet",""),Object(n["a"])(e,"showKVFix",!1),Object(n["a"])(e,"showKVPreset",!1),Object(n["a"])(e,"saveBtnShow",!1),Object(n["a"])(e,"submitMap",new Map),Object(n["a"])(e,"valueShow",!0),Object(n["a"])(e,"timer",""),Object(n["a"])(e,"jsonTable",[]),Object(n["a"])(e,"keywordTable",""),Object(n["a"])(e,"keywordWigId",1),Object(n["a"])(e,"keyWordTemp",[{id:1,tables:{"问题":""}},{id:2,tables:{"责任者1":"4"}},{id:3,tables:{key3:"3"}},{id:4,tables:{"财经类":"2"}},{id:5,tables:{"关键字22":"1"}}]),e}}),a=r,c=(o("9a78"),o("5d22")),l=Object(c["a"])(a,s,i,!1,null,"c58a13ac",null);t["default"]=l.exports},"96aa":function(e,t,o){"use strict";o("06fa")},"975f":function(e,t,o){"use strict";o("28eb")},"9a78":function(e,t,o){"use strict";o("2956")},a2a7:function(e,t,o){},a360:function(e,t,o){"use strict";(function(e,t){o("d0f2"),o("b76b"),o("3269"),o("fc02"),o("a450"),o("4057"),o("8dee"),o("3441"),o("1bc7");var s,i=o("3e83");(function(s){if("object"===("undefined"===typeof exports?"undefined":Object(i["a"])(exports))&&"undefined"!==typeof t)t.exports=s();else if("function"===typeof define&&o("f3fa"))define([],s);else{var n;n="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:this,n.SockJS=s()}})((function(){var t;return function e(t,o,i){function n(a,c){if(!o[a]){if(!t[a]){var l="function"==typeof s&&s;if(!c&&l)return s(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=o[a]={exports:{}};t[a][0].call(d.exports,(function(e){var o=t[a][1][e];return n(o||e)}),d,d.exports,e,t,o,i)}return o[a].exports}for(var r="function"==typeof s&&s,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(t,o,s){(function(e){var s=t("./transport-list");o.exports=t("./main")(s),"_sockjs_onload"in e&&setTimeout(e._sockjs_onload,1)}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(e,t,o){var s=e("inherits"),i=e("./event");function n(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}s(n,i),t.exports=n},{"./event":4,inherits:56}],3:[function(e,t,o){var s=e("inherits"),i=e("./eventtarget");function n(){i.call(this)}s(n,i),n.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},n.prototype.once=function(e,t){var o=this,s=!1;function i(){o.removeListener(e,i),s||(s=!0,t.apply(this,arguments))}this.on(e,i)},n.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var o=arguments.length,s=new Array(o-1),i=1;i<o;i++)s[i-1]=arguments[i];for(var n=0;n<t.length;n++)t[n].apply(this,s)}},n.prototype.on=n.prototype.addListener=i.prototype.addEventListener,n.prototype.removeListener=i.prototype.removeEventListener,t.exports.EventEmitter=n},{"./eventtarget":5,inherits:56}],4:[function(e,t,o){function s(e){this.type=e}s.prototype.initEvent=function(e,t,o){return this.type=e,this.bubbles=t,this.cancelable=o,this.timeStamp=+new Date,this},s.prototype.stopPropagation=function(){},s.prototype.preventDefault=function(){},s.CAPTURING_PHASE=1,s.AT_TARGET=2,s.BUBBLING_PHASE=3,t.exports=s},{}],5:[function(e,t,o){function s(){this._listeners={}}s.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var o=this._listeners[e];-1===o.indexOf(t)&&(o=o.concat([t])),this._listeners[e]=o},s.prototype.removeEventListener=function(e,t){var o=this._listeners[e];if(o){var s=o.indexOf(t);-1===s||(o.length>1?this._listeners[e]=o.slice(0,s).concat(o.slice(s+1)):delete this._listeners[e])}},s.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,o=1===arguments.length?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,o),t in this._listeners)for(var s=this._listeners[t],i=0;i<s.length;i++)s[i].apply(this,o)},t.exports=s},{}],6:[function(e,t,o){var s=e("inherits"),i=e("./event");function n(e){i.call(this),this.initEvent("message",!1,!1),this.data=e}s(n,i),t.exports=n},{"./event":4,inherits:56}],7:[function(e,t,o){var s=e("json3"),i=e("./utils/iframe");function n(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}n.prototype._transportClose=function(e,t){i.postMessage("c",s.stringify([e,t]))},n.prototype._transportMessage=function(e){i.postMessage("t",e)},n.prototype._send=function(e){this._transport.send(e)},n.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=n},{"./utils/iframe":47,json3:57}],8:[function(e,t,o){(function(o){var s=e("./utils/url"),i=e("./utils/event"),n=e("json3"),r=e("./facade"),a=e("./info-iframe-receiver"),c=e("./utils/iframe"),l=e("./location"),u=function(){};"production"!==o.env.NODE_ENV&&(u=e("debug")("sockjs-client:iframe-bootstrap")),t.exports=function(e,t){var o,d={};t.forEach((function(e){e.facadeTransport&&(d[e.facadeTransport.transportName]=e.facadeTransport)})),d[a.transportName]=a,e.bootstrap_iframe=function(){var t;c.currentWindowId=l.hash.slice(1);var a=function(i){if(i.source===parent&&("undefined"===typeof o&&(o=i.origin),i.origin===o)){var a;try{a=n.parse(i.data)}catch(v){return void u("bad json",i.data)}if(a.windowId===c.currentWindowId)switch(a.type){case"s":var h;try{h=n.parse(a.data)}catch(v){u("bad json",a.data);break}var m=h[0],f=h[1],p=h[2],g=h[3];if(u(m,f,p,g),m!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+m+'", the iframe: "'+e.version+'".');if(!s.isOriginEqual(p,l.href)||!s.isOriginEqual(g,l.href))throw new Error("Can't connect to different domain from within an iframe. ("+l.href+", "+p+", "+g+")");t=new r(new d[f](p,g));break;case"m":t._send(a.data);break;case"c":t&&t._close(),t=null;break}}};i.attachEvent("message",a),c.postMessage("s")}}}).call(this,{env:{}})},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:54,json3:57}],9:[function(e,t,o){(function(o){var s=e("events").EventEmitter,i=e("inherits"),n=e("json3"),r=e("./utils/object"),a=function(){};function c(e,t){s.call(this);var o=this,i=+new Date;this.xo=new t("GET",e),this.xo.once("finish",(function(e,t){var s,c;if(200===e){if(c=+new Date-i,t)try{s=n.parse(t)}catch(l){a("bad json",t)}r.isObject(s)||(s={})}o.emit("finish",s,c),o.removeAllListeners()}))}"production"!==o.env.NODE_ENV&&(a=e("debug")("sockjs-client:info-ajax")),i(c,s),c.prototype.close=function(){this.removeAllListeners(),this.xo.close()},t.exports=c}).call(this,{env:{}})},{"./utils/object":49,debug:54,events:3,inherits:56,json3:57}],10:[function(e,t,o){var s=e("inherits"),i=e("events").EventEmitter,n=e("json3"),r=e("./transport/sender/xhr-local"),a=e("./info-ajax");function c(e){var t=this;i.call(this),this.ir=new a(e,r),this.ir.once("finish",(function(e,o){t.ir=null,t.emit("message",n.stringify([e,o]))}))}s(c,i),c.transportName="iframe-info-receiver",c.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},t.exports=c},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:56,json3:57}],11:[function(t,o,s){(function(e,s){var i=t("events").EventEmitter,n=t("inherits"),r=t("json3"),a=t("./utils/event"),c=t("./transport/iframe"),l=t("./info-iframe-receiver"),u=function(){};function d(e,t){var o=this;i.call(this);var n=function(){var s=o.ifr=new c(l.transportName,t,e);s.once("message",(function(e){if(e){var t;try{t=r.parse(e)}catch(n){return u("bad json",e),o.emit("finish"),void o.close()}var s=t[0],i=t[1];o.emit("finish",s,i)}o.close()})),s.once("close",(function(){o.emit("finish"),o.close()}))};s.document.body?n():a.attachEvent("load",n)}"production"!==e.env.NODE_ENV&&(u=t("debug")("sockjs-client:info-iframe")),n(d,i),d.enabled=function(){return c.enabled()},d.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},o.exports=d}).call(this,{env:{}},"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:54,events:3,inherits:56,json3:57}],12:[function(e,t,o){(function(o){var s=e("events").EventEmitter,i=e("inherits"),n=e("./utils/url"),r=e("./transport/sender/xdr"),a=e("./transport/sender/xhr-cors"),c=e("./transport/sender/xhr-local"),l=e("./transport/sender/xhr-fake"),u=e("./info-iframe"),d=e("./info-ajax"),h=function(){};function m(e,t){h(e);var o=this;s.call(this),setTimeout((function(){o.doXhr(e,t)}),0)}"production"!==o.env.NODE_ENV&&(h=e("debug")("sockjs-client:info-receiver")),i(m,s),m._getReceiver=function(e,t,o){return o.sameOrigin?new d(t,c):a.enabled?new d(t,a):r.enabled&&o.sameScheme?new d(t,r):u.enabled()?new u(e,t):new d(t,l)},m.prototype.doXhr=function(e,t){var o=this,s=n.addPath(e,"/info");h("doXhr",s),this.xo=m._getReceiver(e,s,t),this.timeoutRef=setTimeout((function(){h("timeout"),o._cleanup(!1),o.emit("finish")}),m.timeout),this.xo.once("finish",(function(e,t){h("finish",e,t),o._cleanup(!0),o.emit("finish",e,t)}))},m.prototype._cleanup=function(e){h("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},m.prototype.close=function(){h("close"),this.removeAllListeners(),this._cleanup(!1)},m.timeout=8e3,t.exports=m}).call(this,{env:{}})},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:54,events:3,inherits:56}],13:[function(t,o,s){(function(e){o.exports=e.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],14:[function(t,o,s){(function(e,s){t("./shims");var i,n=t("url-parse"),r=t("inherits"),a=t("json3"),c=t("./utils/random"),l=t("./utils/escape"),u=t("./utils/url"),d=t("./utils/event"),h=t("./utils/transport"),m=t("./utils/object"),f=t("./utils/browser"),p=t("./utils/log"),g=t("./event/event"),v=t("./event/eventtarget"),y=t("./location"),b=t("./event/close"),w=t("./event/trans-message"),S=t("./info-receiver"),T=function(){};function F(e,t,o){if(!(this instanceof F))return new F(e,t,o);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");v.call(this),this.readyState=F.CONNECTING,this.extensions="",this.protocol="",o=o||{},o.protocols_whitelist&&p.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=o.transports,this._transportOptions=o.transportOptions||{};var s=o.sessionId||8;if("function"===typeof s)this._generateSessionId=s;else{if("number"!==typeof s)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return c.string(s)}}this._server=o.server||c.numberString(1e3);var i=new n(e);if(!i.host||!i.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(i.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==i.protocol&&"https:"!==i.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+i.protocol+"' is not allowed.");var r="https:"===i.protocol;if("https"===y.protocol&&!r)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var a=t.sort();a.forEach((function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<a.length-1&&e===a[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")}));var l=u.getOrigin(y.href);this._origin=l?l.toLowerCase():null,i.set("pathname",i.pathname.replace(/\/+$/,"")),this.url=i.href,T("using url",this.url),this._urlInfo={nullOrigin:!f.hasDomain(),sameOrigin:u.isOriginEqual(this.url,y.href),sameScheme:u.isSchemeEqual(this.url,y.href)},this._ir=new S(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function k(e){return 1e3===e||e>=3e3&&e<=4999}"production"!==e.env.NODE_ENV&&(T=t("debug")("sockjs-client:main")),r(F,v),F.prototype.close=function(e,t){if(e&&!k(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==F.CLOSING&&this.readyState!==F.CLOSED){var o=!0;this._close(e||1e3,t||"Normal closure",o)}},F.prototype.send=function(e){if("string"!==typeof e&&(e=""+e),this.readyState===F.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===F.OPEN&&this._transport.send(l.quote(e))},F.version=t("./version"),F.CONNECTING=0,F.OPEN=1,F.CLOSING=2,F.CLOSED=3,F.prototype._receiveInfo=function(e,t){if(T("_receiveInfo",t),this._ir=null,e){this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=m.extend(e,this._urlInfo),T("info",e);var o=i.filterToEnabled(this._transportsWhitelist,e);this._transports=o.main,T(this._transports.length+" enabled transports"),this._connect()}else this._close(1002,"Cannot connect to server")},F.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(T("attempt",e.transportName),e.needBody&&(!s.document.body||"undefined"!==typeof s.document.readyState&&"complete"!==s.document.readyState&&"interactive"!==s.document.readyState))return T("waiting for body"),this._transports.unshift(e),void d.attachEvent("load",this._connect.bind(this));var t=this._rto*e.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t),T("using timeout",t);var o=u.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=this._transportOptions[e.transportName];T("transport url",o);var n=new e(o,this._transUrl,i);return n.on("message",this._transportMessage.bind(this)),n.once("close",this._transportClose.bind(this)),n.transportName=e.transportName,void(this._transport=n)}this._close(2e3,"All transports failed",!1)},F.prototype._transportTimeout=function(){T("_transportTimeout"),this.readyState===F.CONNECTING&&this._transportClose(2007,"Transport timed out")},F.prototype._transportMessage=function(e){T("_transportMessage",e);var t,o=this,s=e.slice(0,1),i=e.slice(1);switch(s){case"o":return void this._open();case"h":return this.dispatchEvent(new g("heartbeat")),void T("heartbeat",this.transport)}if(i)try{t=a.parse(i)}catch(n){T("bad json",i)}if("undefined"!==typeof t)switch(s){case"a":Array.isArray(t)&&t.forEach((function(e){T("message",o.transport,e),o.dispatchEvent(new w(e))}));break;case"m":T("message",this.transport,t),this.dispatchEvent(new w(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0);break}else T("empty payload",i)},F.prototype._transportClose=function(e,t){T("_transportClose",this.transport,e,t),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),k(e)||2e3===e||this.readyState!==F.CONNECTING?this._close(e,t):this._connect()},F.prototype._open=function(){T("_open",this._transport.transportName,this.readyState),this.readyState===F.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=F.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new g("open")),T("connected",this.transport)):this._close(1006,"Server lost session")},F.prototype._close=function(e,t,o){T("_close",this.transport,e,t,o,this.readyState);var s=!1;if(this._ir&&(s=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===F.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=F.CLOSING,setTimeout(function(){this.readyState=F.CLOSED,s&&this.dispatchEvent(new g("error"));var i=new b("close");i.wasClean=o||!1,i.code=e||1e3,i.reason=t,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null,T("disconnected")}.bind(this),0)},F.prototype.countRTO=function(e){return e>100?4*e:300+e},o.exports=function(e){return i=h(e),t("./iframe-bootstrap")(F,e),F}}).call(this,{env:{}},"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:54,inherits:56,json3:57,"url-parse":61}],15:[function(e,t,o){var s,n=Array.prototype,r=Object.prototype,a=Function.prototype,c=String.prototype,l=n.slice,u=r.toString,d=function(e){return"[object Function]"===r.toString.call(e)},h=function(e){return"[object Array]"===u.call(e)},m=function(e){return"[object String]"===u.call(e)},f=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();s=f?function(e,t,o,s){!s&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:o})}:function(e,t,o,s){!s&&t in e||(e[t]=o)};var p=function(e,t,o){for(var i in t)r.hasOwnProperty.call(t,i)&&s(e,i,t[i],o)},g=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)};function v(e){var t=+e;return t!==t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function y(e){return e>>>0}function b(){}p(a,{bind:function(e){var t=this;if(!d(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var o=l.call(arguments,1),s=function(){if(this instanceof a){var s=t.apply(this,o.concat(l.call(arguments)));return Object(s)===s?s:this}return t.apply(e,o.concat(l.call(arguments)))},i=Math.max(0,t.length-o.length),n=[],r=0;r<i;r++)n.push("$"+r);var a=Function("binder","return function ("+n.join(",")+"){ return binder.apply(this, arguments); }")(s);return t.prototype&&(b.prototype=t.prototype,a.prototype=new b,b.prototype=null),a}}),p(Array,{isArray:h});var w=Object("a"),S="a"!==w[0]||!(0 in w),T=function(e){var t=!0,o=!0;return e&&(e.call("foo",(function(e,o,s){"object"!==Object(i["a"])(s)&&(t=!1)})),e.call([1],(function(){o="string"===typeof this}),"x")),!!e&&t&&o};p(n,{forEach:function(e){var t=g(this),o=S&&m(this)?this.split(""):t,s=arguments[1],i=-1,n=o.length>>>0;if(!d(e))throw new TypeError;while(++i<n)i in o&&e.call(s,o[i],i,t)}},!T(n.forEach));var F=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);p(n,{indexOf:function(e){var t=S&&m(this)?this.split(""):g(this),o=t.length>>>0;if(!o)return-1;var s=0;for(arguments.length>1&&(s=v(arguments[1])),s=s>=0?s:Math.max(0,o+s);s<o;s++)if(s in t&&t[s]===e)return s;return-1}},F);var k=c.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=void 0===/()??/.exec("")[1];c.split=function(t,o){var s=this;if(void 0===t&&0===o)return[];if("[object RegExp]"!==u.call(t))return k.call(this,t,o);var i,r,a,c,l=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),h=0;t=new RegExp(t.source,d+"g"),s+="",e||(i=new RegExp("^"+t.source+"$(?!\\s)",d)),o=void 0===o?-1>>>0:y(o);while(r=t.exec(s)){if(a=r.index+r[0].length,a>h&&(l.push(s.slice(h,r.index)),!e&&r.length>1&&r[0].replace(i,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(r[e]=void 0)})),r.length>1&&r.index<s.length&&n.push.apply(l,r.slice(1)),c=r[0].length,h=a,l.length>=o))break;t.lastIndex===r.index&&t.lastIndex++}return h===s.length?!c&&t.test("")||l.push(""):l.push(s.slice(h)),l.length>o?l.slice(0,o):l}}():"0".split(void 0,0).length&&(c.split=function(e,t){return void 0===e&&0===t?[]:k.call(this,e,t)});var x=c.substr,_="".substr&&"b"!=="0b".substr(-1);p(c,{substr:function(e,t){return x.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},_)},{}],16:[function(e,t,o){t.exports=[e("./transport/websocket"),e("./transport/xhr-streaming"),e("./transport/xdr-streaming"),e("./transport/eventsource"),e("./transport/lib/iframe-wrap")(e("./transport/eventsource")),e("./transport/htmlfile"),e("./transport/lib/iframe-wrap")(e("./transport/htmlfile")),e("./transport/xhr-polling"),e("./transport/xdr-polling"),e("./transport/lib/iframe-wrap")(e("./transport/xhr-polling")),e("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(t,o,s){(function(e,s){var i=t("events").EventEmitter,n=t("inherits"),r=t("../../utils/event"),a=t("../../utils/url"),c=s.XMLHttpRequest,l=function(){};function u(e,t,o,s){l(e,t);var n=this;i.call(this),setTimeout((function(){n._start(e,t,o,s)}),0)}"production"!==e.env.NODE_ENV&&(l=t("debug")("sockjs-client:browser:xhr")),n(u,i),u.prototype._start=function(e,t,o,s){var i=this;try{this.xhr=new c}catch(d){}if(!this.xhr)return l("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();t=a.addQuery(t,"t="+ +new Date),this.unloadRef=r.unloadAdd((function(){l("unload cleanup"),i._cleanup(!0)}));try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){l("xhr timeout"),i.emit("finish",0,""),i._cleanup(!1)})}catch(h){return l("exception",h),this.emit("finish",0,""),void this._cleanup(!1)}if(s&&s.noCredentials||!u.supportsCORS||(l("withCredentials"),this.xhr.withCredentials="true"),s&&s.headers)for(var n in s.headers)this.xhr.setRequestHeader(n,s.headers[n]);this.xhr.onreadystatechange=function(){if(i.xhr){var e,t,o=i.xhr;switch(l("readyState",o.readyState),o.readyState){case 3:try{t=o.status,e=o.responseText}catch(h){}l("status",t),1223===t&&(t=204),200===t&&e&&e.length>0&&(l("chunk"),i.emit("chunk",t,e));break;case 4:t=o.status,l("status",t),1223===t&&(t=204),12005!==t&&12029!==t||(t=0),l("finish",t,o.responseText),i.emit("finish",t,o.responseText),i._cleanup(!1);break}}};try{i.xhr.send(o)}catch(h){i.emit("finish",0,""),i._cleanup(!1)}},u.prototype._cleanup=function(e){if(l("cleanup"),this.xhr){if(this.removeAllListeners(),r.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},u.prototype.close=function(){l("close"),this._cleanup(!0)},u.enabled=!!c;var d=["Active"].concat("Object").join("X");!u.enabled&&d in s&&(l("overriding xmlhttprequest"),c=function(){try{return new s[d]("Microsoft.XMLHTTP")}catch(e){return null}},u.enabled=!!new c);var h=!1;try{h="withCredentials"in new c}catch(m){}u.supportsCORS=h,o.exports=u}).call(this,{env:{}},"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:54,events:3,inherits:56}],18:[function(t,o,s){(function(e){o.exports=e.EventSource}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],19:[function(t,o,s){(function(e){var t=e.WebSocket||e.MozWebSocket;o.exports=t?function(e){return new t(e)}:void 0}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],20:[function(e,t,o){var s=e("inherits"),i=e("./lib/ajax-based"),n=e("./receiver/eventsource"),r=e("./sender/xhr-cors"),a=e("eventsource");function c(e){if(!c.enabled())throw new Error("Transport created when disabled");i.call(this,e,"/eventsource",n,r)}s(c,i),c.enabled=function(){return!!a},c.transportName="eventsource",c.roundTrips=2,t.exports=c},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:56}],21:[function(e,t,o){var s=e("inherits"),i=e("./receiver/htmlfile"),n=e("./sender/xhr-local"),r=e("./lib/ajax-based");function a(e){if(!i.enabled)throw new Error("Transport created when disabled");r.call(this,e,"/htmlfile",i,n)}s(a,r),a.enabled=function(e){return i.enabled&&e.sameOrigin},a.transportName="htmlfile",a.roundTrips=2,t.exports=a},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:56}],22:[function(e,t,o){(function(o){var s=e("inherits"),i=e("json3"),n=e("events").EventEmitter,r=e("../version"),a=e("../utils/url"),c=e("../utils/iframe"),l=e("../utils/event"),u=e("../utils/random"),d=function(){};function h(e,t,o){if(!h.enabled())throw new Error("Transport created when disabled");n.call(this);var s=this;this.origin=a.getOrigin(o),this.baseUrl=o,this.transUrl=t,this.transport=e,this.windowId=u.string(8);var i=a.addPath(o,"/iframe.html")+"#"+this.windowId;d(e,t,i),this.iframeObj=c.createIframe(i,(function(e){d("err callback"),s.emit("close",1006,"Unable to load an iframe ("+e+")"),s.close()})),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}"production"!==o.env.NODE_ENV&&(d=e("debug")("sockjs-client:transport:iframe")),s(h,n),h.prototype.close=function(){if(d("close"),this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},h.prototype._message=function(e){if(d("message",e.data),a.isOriginEqual(e.origin,this.origin)){var t;try{t=i.parse(e.data)}catch(s){return void d("bad json",e.data)}if(t.windowId===this.windowId)switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([r,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var o;try{o=i.parse(t.data)}catch(s){return void d("bad json",t.data)}this.emit("close",o[0],o[1]),this.close();break}else d("mismatched window id",t.windowId,this.windowId)}else d("not same origin",e.origin,this.origin)},h.prototype.postMessage=function(e,t){d("postMessage",e,t),this.iframeObj.post(i.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},h.prototype.send=function(e){d("send",e),this.postMessage("m",e)},h.enabled=function(){return c.iframeEnabled},h.transportName="iframe",h.roundTrips=2,t.exports=h}).call(this,{env:{}})},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:54,events:3,inherits:56,json3:57}],23:[function(t,o,s){(function(e){var s=t("inherits"),i=t("./lib/sender-receiver"),n=t("./receiver/jsonp"),r=t("./sender/jsonp");function a(e){if(!a.enabled())throw new Error("Transport created when disabled");i.call(this,e,"/jsonp",r,n)}s(a,i),a.enabled=function(){return!!e.document},a.transportName="jsonp-polling",a.roundTrips=1,a.needBody=!0,o.exports=a}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:56}],24:[function(e,t,o){(function(o){var s=e("inherits"),i=e("../../utils/url"),n=e("./sender-receiver"),r=function(){};function a(e){return function(t,o,s){r("create ajax sender",t,o);var n={};"string"===typeof o&&(n.headers={"Content-type":"text/plain"});var a=i.addPath(t,"/xhr_send"),c=new e("POST",a,o,n);return c.once("finish",(function(e){if(r("finish",e),c=null,200!==e&&204!==e)return s(new Error("http status "+e));s()})),function(){r("abort"),c.close(),c=null;var e=new Error("Aborted");e.code=1e3,s(e)}}}function c(e,t,o,s){n.call(this,e,t,a(s),o,s)}"production"!==o.env.NODE_ENV&&(r=e("debug")("sockjs-client:ajax-based")),s(c,n),t.exports=c}).call(this,{env:{}})},{"../../utils/url":52,"./sender-receiver":28,debug:54,inherits:56}],25:[function(e,t,o){(function(o){var s=e("inherits"),i=e("events").EventEmitter,n=function(){};function r(e,t){n(e),i.call(this),this.sendBuffer=[],this.sender=t,this.url=e}"production"!==o.env.NODE_ENV&&(n=e("debug")("sockjs-client:buffered-sender")),s(r,i),r.prototype.send=function(e){n("send",e),this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},r.prototype.sendScheduleWait=function(){n("sendScheduleWait");var e,t=this;this.sendStop=function(){n("sendStop"),t.sendStop=null,clearTimeout(e)},e=setTimeout((function(){n("timeout"),t.sendStop=null,t.sendSchedule()}),25)},r.prototype.sendSchedule=function(){n("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,(function(t){e.sendStop=null,t?(n("error",t),e.emit("close",t.code||1006,"Sending error: "+t),e.close()):e.sendScheduleWait()})),this.sendBuffer=[]}},r.prototype._cleanup=function(){n("_cleanup"),this.removeAllListeners()},r.prototype.close=function(){n("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t.exports=r}).call(this,{env:{}})},{debug:54,events:3,inherits:56}],26:[function(t,o,s){(function(e){var s=t("inherits"),i=t("../iframe"),n=t("../../utils/object");o.exports=function(t){function o(e,o){i.call(this,t.transportName,e,o)}return s(o,i),o.enabled=function(o,s){if(!e.document)return!1;var r=n.extend({},s);return r.sameOrigin=!0,t.enabled(r)&&i.enabled()},o.transportName="iframe-"+t.transportName,o.needBody=!0,o.roundTrips=i.roundTrips+t.roundTrips-1,o.facadeTransport=t,o}}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:56}],27:[function(e,t,o){(function(o){var s=e("inherits"),i=e("events").EventEmitter,n=function(){};function r(e,t,o){n(t),i.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=o,this._scheduleReceiver()}"production"!==o.env.NODE_ENV&&(n=e("debug")("sockjs-client:polling")),s(r,i),r.prototype._scheduleReceiver=function(){n("_scheduleReceiver");var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",(function(t){n("message",t),e.emit("message",t)})),t.once("close",(function(o,s){n("close",o,s,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||("network"===s?e._scheduleReceiver():(e.emit("close",o||1006,s),e.removeAllListeners()))}))},r.prototype.abort=function(){n("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},t.exports=r}).call(this,{env:{}})},{debug:54,events:3,inherits:56}],28:[function(e,t,o){(function(o){var s=e("inherits"),i=e("../../utils/url"),n=e("./buffered-sender"),r=e("./polling"),a=function(){};function c(e,t,o,s,c){var l=i.addPath(e,t);a(l);var u=this;n.call(this,e,o),this.poll=new r(s,l,c),this.poll.on("message",(function(e){a("poll message",e),u.emit("message",e)})),this.poll.once("close",(function(e,t){a("poll close",e,t),u.poll=null,u.emit("close",e,t),u.close()}))}"production"!==o.env.NODE_ENV&&(a=e("debug")("sockjs-client:sender-receiver")),s(c,n),c.prototype.close=function(){n.prototype.close.call(this),a("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},t.exports=c}).call(this,{env:{}})},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:54,inherits:56}],29:[function(e,t,o){(function(o){var s=e("inherits"),i=e("events").EventEmitter,n=e("eventsource"),r=function(){};function a(e){r(e),i.call(this);var t=this,o=this.es=new n(e);o.onmessage=function(e){r("message",e.data),t.emit("message",decodeURI(e.data))},o.onerror=function(e){r("error",o.readyState,e);var s=2!==o.readyState?"network":"permanent";t._cleanup(),t._close(s)}}"production"!==o.env.NODE_ENV&&(r=e("debug")("sockjs-client:receiver:eventsource")),s(a,i),a.prototype.abort=function(){r("abort"),this._cleanup(),this._close("user")},a.prototype._cleanup=function(){r("cleanup");var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},a.prototype._close=function(e){r("close",e);var t=this;setTimeout((function(){t.emit("close",null,e),t.removeAllListeners()}),200)},t.exports=a}).call(this,{env:{}})},{debug:54,events:3,eventsource:18,inherits:56}],30:[function(t,o,s){(function(e,s){var i=t("inherits"),n=t("../../utils/iframe"),r=t("../../utils/url"),a=t("events").EventEmitter,c=t("../../utils/random"),l=function(){};function u(e){l(e),a.call(this);var t=this;n.polluteGlobalNamespace(),this.id="a"+c.string(6),e=r.addQuery(e,"c="+decodeURIComponent(n.WPrefix+"."+this.id)),l("using htmlfile",u.htmlfileEnabled);var o=u.htmlfileEnabled?n.createHtmlfile:n.createIframe;s[n.WPrefix][this.id]={start:function(){l("start"),t.iframeObj.loaded()},message:function(e){l("message",e),t.emit("message",e)},stop:function(){l("stop"),t._cleanup(),t._close("network")}},this.iframeObj=o(e,(function(){l("callback"),t._cleanup(),t._close("permanent")}))}"production"!==e.env.NODE_ENV&&(l=t("debug")("sockjs-client:receiver:htmlfile")),i(u,a),u.prototype.abort=function(){l("abort"),this._cleanup(),this._close("user")},u.prototype._cleanup=function(){l("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete s[n.WPrefix][this.id]},u.prototype._close=function(e){l("_close",e),this.emit("close",null,e),this.removeAllListeners()},u.htmlfileEnabled=!1;var d=["Active"].concat("Object").join("X");if(d in s)try{u.htmlfileEnabled=!!new s[d]("htmlfile")}catch(h){}u.enabled=u.htmlfileEnabled||n.iframeEnabled,o.exports=u}).call(this,{env:{}},"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:54,events:3,inherits:56}],31:[function(t,o,s){(function(e,s){var i=t("../../utils/iframe"),n=t("../../utils/random"),r=t("../../utils/browser"),a=t("../../utils/url"),c=t("inherits"),l=t("events").EventEmitter,u=function(){};function d(e){u(e);var t=this;l.call(this),i.polluteGlobalNamespace(),this.id="a"+n.string(6);var o=a.addQuery(e,"c="+encodeURIComponent(i.WPrefix+"."+this.id));s[i.WPrefix][this.id]=this._callback.bind(this),this._createScript(o),this.timeoutId=setTimeout((function(){u("timeout"),t._abort(new Error("JSONP script loaded abnormally (timeout)"))}),d.timeout)}"production"!==e.env.NODE_ENV&&(u=t("debug")("sockjs-client:receiver:jsonp")),c(d,l),d.prototype.abort=function(){if(u("abort"),s[i.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},d.timeout=35e3,d.scriptErrorTimeout=1e3,d.prototype._callback=function(e){u("_callback",e),this._cleanup(),this.aborting||(e&&(u("message",e),this.emit("message",e)),this.emit("close",null,"network"),this.removeAllListeners())},d.prototype._abort=function(e){u("_abort",e),this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},d.prototype._cleanup=function(){if(u("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete s[i.WPrefix][this.id]},d.prototype._scriptError=function(){u("_scriptError");var e=this;this.errorTimer||(this.errorTimer=setTimeout((function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))}),d.scriptErrorTimeout))},d.prototype._createScript=function(e){u("_createScript",e);var t,o=this,i=this.script=s.document.createElement("script");if(i.id="a"+n.string(8),i.src=e,i.type="text/javascript",i.charset="UTF-8",i.onerror=this._scriptError.bind(this),i.onload=function(){u("onload"),o._abort(new Error("JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(){if(u("onreadystatechange",i.readyState),/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){o.loadedOkay=!0;try{i.onclick()}catch(e){}}i&&o._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"===typeof i.async&&s.document.attachEvent)if(r.isOpera())t=this.script2=s.document.createElement("script"),t.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=t.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(c){}i.async=!0}"undefined"!==typeof i.async&&(i.async=!0);var a=s.document.getElementsByTagName("head")[0];a.insertBefore(i,a.firstChild),t&&a.insertBefore(t,a.firstChild)},o.exports=d}).call(this,{env:{}},"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:54,events:3,inherits:56}],32:[function(e,t,o){(function(o){var s=e("inherits"),i=e("events").EventEmitter,n=function(){};function r(e,t){n(e),i.call(this);var o=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",(function(e,t){n("finish",e,t),o._chunkHandler(e,t),o.xo=null;var s=200===e?"network":"permanent";n("close",s),o.emit("close",null,s),o._cleanup()}))}"production"!==o.env.NODE_ENV&&(n=e("debug")("sockjs-client:receiver:xhr")),s(r,i),r.prototype._chunkHandler=function(e,t){if(n("_chunkHandler",e),200===e&&t)for(var o=-1;;this.bufferPosition+=o+1){var s=t.slice(this.bufferPosition);if(o=s.indexOf("\n"),-1===o)break;var i=s.slice(0,o);i&&(n("message",i),this.emit("message",i))}},r.prototype._cleanup=function(){n("_cleanup"),this.removeAllListeners()},r.prototype.abort=function(){n("abort"),this.xo&&(this.xo.close(),n("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},t.exports=r}).call(this,{env:{}})},{debug:54,events:3,inherits:56}],33:[function(t,o,s){(function(e,s){var i,n,r=t("../../utils/random"),a=t("../../utils/url"),c=function(){};function l(e){c("createIframe",e);try{return s.document.createElement('<iframe name="'+e+'">')}catch(o){var t=s.document.createElement("iframe");return t.name=e,t}}function u(){c("createForm"),i=s.document.createElement("form"),i.style.display="none",i.style.position="absolute",i.method="POST",i.enctype="application/x-www-form-urlencoded",i.acceptCharset="UTF-8",n=s.document.createElement("textarea"),n.name="d",i.appendChild(n),s.document.body.appendChild(i)}"production"!==e.env.NODE_ENV&&(c=t("debug")("sockjs-client:sender:jsonp")),o.exports=function(e,t,o){c(e,t),i||u();var s="a"+r.string(8);i.target=s,i.action=a.addQuery(a.addPath(e,"/jsonp_send"),"i="+s);var d=l(s);d.id=s,d.style.display="none",i.appendChild(d);try{n.value=t}catch(m){}i.submit();var h=function(e){c("completed",s,e),d.onerror&&(d.onreadystatechange=d.onerror=d.onload=null,setTimeout((function(){c("cleaning up",s),d.parentNode.removeChild(d),d=null}),500),n.value="",o(e))};return d.onerror=function(){c("onerror",s),h()},d.onload=function(){c("onload",s),h()},d.onreadystatechange=function(e){c("onreadystatechange",s,d.readyState,e),"complete"===d.readyState&&h()},function(){c("aborted",s),h(new Error("Aborted"))}}}).call(this,{env:{}},"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:54}],34:[function(t,o,s){(function(e,s){var i=t("events").EventEmitter,n=t("inherits"),r=t("../../utils/event"),a=t("../../utils/browser"),c=t("../../utils/url"),l=function(){};function u(e,t,o){l(e,t);var s=this;i.call(this),setTimeout((function(){s._start(e,t,o)}),0)}"production"!==e.env.NODE_ENV&&(l=t("debug")("sockjs-client:sender:xdr")),n(u,i),u.prototype._start=function(e,t,o){l("_start");var i=this,n=new s.XDomainRequest;t=c.addQuery(t,"t="+ +new Date),n.onerror=function(){l("onerror"),i._error()},n.ontimeout=function(){l("ontimeout"),i._error()},n.onprogress=function(){l("progress",n.responseText),i.emit("chunk",200,n.responseText)},n.onload=function(){l("load"),i.emit("finish",200,n.responseText),i._cleanup(!1)},this.xdr=n,this.unloadRef=r.unloadAdd((function(){i._cleanup(!0)}));try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(o)}catch(a){this._error()}},u.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},u.prototype._cleanup=function(e){if(l("cleanup",e),this.xdr){if(this.removeAllListeners(),r.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},u.prototype.close=function(){l("close"),this._cleanup(!0)},u.enabled=!(!s.XDomainRequest||!a.hasDomain()),o.exports=u}).call(this,{env:{}},"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:54,events:3,inherits:56}],35:[function(e,t,o){var s=e("inherits"),i=e("../driver/xhr");function n(e,t,o,s){i.call(this,e,t,o,s)}s(n,i),n.enabled=i.enabled&&i.supportsCORS,t.exports=n},{"../driver/xhr":17,inherits:56}],36:[function(e,t,o){var s=e("events").EventEmitter,i=e("inherits");function n(){var e=this;s.call(this),this.to=setTimeout((function(){e.emit("finish",200,"{}")}),n.timeout)}i(n,s),n.prototype.close=function(){clearTimeout(this.to)},n.timeout=2e3,t.exports=n},{events:3,inherits:56}],37:[function(e,t,o){var s=e("inherits"),i=e("../driver/xhr");function n(e,t,o){i.call(this,e,t,o,{noCredentials:!0})}s(n,i),n.enabled=i.enabled,t.exports=n},{"../driver/xhr":17,inherits:56}],38:[function(e,t,o){(function(o){var s=e("../utils/event"),i=e("../utils/url"),n=e("inherits"),r=e("events").EventEmitter,a=e("./driver/websocket"),c=function(){};function l(e,t,o){if(!l.enabled())throw new Error("Transport created when disabled");r.call(this),c("constructor",e);var n=this,u=i.addPath(e,"/websocket");u="https"===u.slice(0,5)?"wss"+u.slice(5):"ws"+u.slice(4),this.url=u,this.ws=new a(this.url,[],o),this.ws.onmessage=function(e){c("message event",e.data),n.emit("message",e.data)},this.unloadRef=s.unloadAdd((function(){c("unload"),n.ws.close()})),this.ws.onclose=function(e){c("close event",e.code,e.reason),n.emit("close",e.code,e.reason),n._cleanup()},this.ws.onerror=function(e){c("error event",e),n.emit("close",1006,"WebSocket connection broken"),n._cleanup()}}"production"!==o.env.NODE_ENV&&(c=e("debug")("sockjs-client:websocket")),n(l,r),l.prototype.send=function(e){var t="["+e+"]";c("send",t),this.ws.send(t)},l.prototype.close=function(){c("close");var e=this.ws;this._cleanup(),e&&e.close()},l.prototype._cleanup=function(){c("_cleanup");var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),s.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},l.enabled=function(){return c("enabled"),!!a},l.transportName="websocket",l.roundTrips=2,t.exports=l}).call(this,{env:{}})},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:54,events:3,inherits:56}],39:[function(e,t,o){var s=e("inherits"),i=e("./lib/ajax-based"),n=e("./xdr-streaming"),r=e("./receiver/xhr"),a=e("./sender/xdr");function c(e){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr",r,a)}s(c,i),c.enabled=n.enabled,c.transportName="xdr-polling",c.roundTrips=2,t.exports=c},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:56}],40:[function(e,t,o){var s=e("inherits"),i=e("./lib/ajax-based"),n=e("./receiver/xhr"),r=e("./sender/xdr");function a(e){if(!r.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr_streaming",n,r)}s(a,i),a.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&(r.enabled&&e.sameScheme)},a.transportName="xdr-streaming",a.roundTrips=2,t.exports=a},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:56}],41:[function(e,t,o){var s=e("inherits"),i=e("./lib/ajax-based"),n=e("./receiver/xhr"),r=e("./sender/xhr-cors"),a=e("./sender/xhr-local");function c(e){if(!a.enabled&&!r.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr",n,r)}s(c,i),c.enabled=function(e){return!e.nullOrigin&&(!(!a.enabled||!e.sameOrigin)||r.enabled)},c.transportName="xhr-polling",c.roundTrips=2,t.exports=c},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:56}],42:[function(t,o,s){(function(e){var s=t("inherits"),i=t("./lib/ajax-based"),n=t("./receiver/xhr"),r=t("./sender/xhr-cors"),a=t("./sender/xhr-local"),c=t("../utils/browser");function l(e){if(!a.enabled&&!r.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr_streaming",n,r)}s(l,i),l.enabled=function(e){return!e.nullOrigin&&(!c.isOpera()&&r.enabled)},l.transportName="xhr-streaming",l.roundTrips=2,l.needBody=!!e.document,o.exports=l}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:56}],43:[function(t,o,s){(function(e){e.crypto&&e.crypto.getRandomValues?o.exports.randomBytes=function(t){var o=new Uint8Array(t);return e.crypto.getRandomValues(o),o}:o.exports.randomBytes=function(e){for(var t=new Array(e),o=0;o<e;o++)t[o]=Math.floor(256*Math.random());return t}}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],44:[function(t,o,s){(function(e){o.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document)return!0;try{return!!e.document.domain}catch(t){return!1}}}}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],45:[function(e,t,o){var s,i=e("json3"),n=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,r=function(e){var t,o={},s=[];for(t=0;t<65536;t++)s.push(String.fromCharCode(t));return e.lastIndex=0,s.join("").replace(e,(function(e){return o[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""})),e.lastIndex=0,o};t.exports={quote:function(e){var t=i.stringify(e);return n.lastIndex=0,n.test(t)?(s||(s=r(n)),t.replace(n,(function(e){return s[e]}))):t}}},{json3:57}],46:[function(t,o,s){(function(e){var s=t("./random"),i={},n=!1,r=e.chrome&&e.chrome.app&&e.chrome.app.runtime;o.exports={attachEvent:function(t,o){"undefined"!==typeof e.addEventListener?e.addEventListener(t,o,!1):e.document&&e.attachEvent&&(e.document.attachEvent("on"+t,o),e.attachEvent("on"+t,o))},detachEvent:function(t,o){"undefined"!==typeof e.addEventListener?e.removeEventListener(t,o,!1):e.document&&e.detachEvent&&(e.document.detachEvent("on"+t,o),e.detachEvent("on"+t,o))},unloadAdd:function(e){if(r)return null;var t=s.string(8);return i[t]=e,n&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in i&&delete i[e]},triggerUnloadCallbacks:function(){for(var e in i)i[e](),delete i[e]}};var a=function(){n||(n=!0,o.exports.triggerUnloadCallbacks())};r||o.exports.attachEvent("unload",a)}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./random":50}],47:[function(t,o,s){(function(e,s){var n=t("./event"),r=t("json3"),a=t("./browser"),c=function(){};"production"!==e.env.NODE_ENV&&(c=t("debug")("sockjs-client:utils:iframe")),o.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){o.exports.WPrefix in s||(s[o.exports.WPrefix]={})},postMessage:function(e,t){s.parent!==s?s.parent.postMessage(r.stringify({windowId:o.exports.currentWindowId,type:e,data:t||""}),"*"):c("Cannot postMessage, no parent window.",e,t)},createIframe:function(e,t){var o,i,r=s.document.createElement("iframe"),a=function(){c("unattach"),clearTimeout(o);try{r.onload=null}catch(e){}r.onerror=null},l=function(){c("cleanup"),r&&(a(),setTimeout((function(){r&&r.parentNode.removeChild(r),r=null}),0),n.unloadDel(i))},u=function(e){c("onerror",e),r&&(l(),t(e))},d=function(e,t){c("post",e,t);try{setTimeout((function(){r&&r.contentWindow&&r.contentWindow.postMessage(e,t)}),0)}catch(o){}};return r.src=e,r.style.display="none",r.style.position="absolute",r.onerror=function(){u("onerror")},r.onload=function(){c("onload"),clearTimeout(o),o=setTimeout((function(){u("onload timeout")}),2e3)},s.document.body.appendChild(r),o=setTimeout((function(){u("timeout")}),15e3),i=n.unloadAdd(l),{post:d,cleanup:l,loaded:a}},createHtmlfile:function(e,t){var i,r,a,l=["Active"].concat("Object").join("X"),u=new s[l]("htmlfile"),d=function(){clearTimeout(i),a.onerror=null},h=function(){u&&(d(),n.unloadDel(r),a.parentNode.removeChild(a),a=u=null,CollectGarbage())},m=function(e){c("onerror",e),u&&(h(),t(e))},f=function(e,t){try{setTimeout((function(){a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}),0)}catch(o){}};u.open(),u.write('<html><script>document.domain="'+s.document.domain+'";<\/script></html>'),u.close(),u.parentWindow[o.exports.WPrefix]=s[o.exports.WPrefix];var p=u.createElement("div");return u.body.appendChild(p),a=u.createElement("iframe"),p.appendChild(a),a.src=e,a.onerror=function(){m("onerror")},i=setTimeout((function(){m("timeout")}),15e3),r=n.unloadAdd(h),{post:f,cleanup:h,loaded:d}}},o.exports.iframeEnabled=!1,s.document&&(o.exports.iframeEnabled=("function"===typeof s.postMessage||"object"===Object(i["a"])(s.postMessage))&&!a.isKonqueror())}).call(this,{env:{}},"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./browser":44,"./event":46,debug:54,json3:57}],48:[function(t,o,s){(function(e){var t={};["log","debug","warn"].forEach((function(o){var s;try{s=e.console&&e.console[o]&&e.console[o].apply}catch(i){}t[o]=s?function(){return e.console[o].apply(e.console,arguments)}:"log"===o?function(){}:t.log})),o.exports=t}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],49:[function(e,t,o){t.exports={isObject:function(e){var t=Object(i["a"])(e);return"function"===t||"object"===t&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,o,s=1,i=arguments.length;s<i;s++)for(o in t=arguments[s],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}}},{}],50:[function(e,t,o){var s=e("crypto"),i="abcdefghijklmnopqrstuvwxyz012345";t.exports={string:function(e){for(var t=i.length,o=s.randomBytes(e),n=[],r=0;r<e;r++)n.push(i.substr(o[r]%t,1));return n.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,o=new Array(t+1).join("0");return(o+this.number(e)).slice(-t)}}},{crypto:43}],51:[function(e,t,o){(function(o){var s=function(){};"production"!==o.env.NODE_ENV&&(s=e("debug")("sockjs-client:utils:transport")),t.exports=function(e){return{filterToEnabled:function(t,o){var i={main:[],facade:[]};return t?"string"===typeof t&&(t=[t]):t=[],e.forEach((function(e){e&&("websocket"!==e.transportName||!1!==o.websocket?t.length&&-1===t.indexOf(e.transportName)?s("not in whitelist",e.transportName):e.enabled(o)?(s("enabled",e.transportName),i.main.push(e),e.facadeTransport&&i.facade.push(e.facadeTransport)):s("disabled",e.transportName):s("disabled from server","websocket"))})),i}}}}).call(this,{env:{}})},{debug:54}],52:[function(e,t,o){(function(o){var s=e("url-parse"),i=function(){};"production"!==o.env.NODE_ENV&&(i=e("debug")("sockjs-client:utils:url")),t.exports={getOrigin:function(e){if(!e)return null;var t=new s(e);if("file:"===t.protocol)return null;var o=t.port;return o||(o="https:"===t.protocol?"443":"80"),t.protocol+"//"+t.hostname+":"+o},isOriginEqual:function(e,t){var o=this.getOrigin(e)===this.getOrigin(t);return i("same",e,t,o),o},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var o=e.split("?");return o[0]+t+(o[1]?"?"+o[1]:"")},addQuery:function(e,t){return e+(-1===e.indexOf("?")?"?"+t:"&"+t)}}}).call(this,{env:{}})},{debug:54,"url-parse":61}],53:[function(e,t,o){t.exports="1.1.2"},{}],54:[function(e,t,o){(function(s){function n(){return!("undefined"===typeof window||!window||"undefined"===typeof window.process||"renderer"!==window.process.type)||("undefined"!==typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!==typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!==typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function r(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+o.humanize(this.diff),t){var s="color: "+this.color;e.splice(1,0,s,"color: inherit");var i=0,n=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(n=i))})),e.splice(n,0,s)}}function a(){return"object"===("undefined"===typeof console?"undefined":Object(i["a"])(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(e){try{null==e?o.storage.removeItem("debug"):o.storage.debug=e}catch(t){}}function l(){try{return o.storage.debug}catch(e){}if("undefined"!==typeof s&&"env"in s)return s.env.DEBUG}function u(){try{return window.localStorage}catch(e){}}o=t.exports=e("./debug"),o.log=a,o.formatArgs=r,o.save=c,o.load=l,o.useColors=n,o.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),o.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],o.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},o.enable(l())}).call(this,{env:{}})},{"./debug":55}],55:[function(e,t,o){var s;function i(e){var t,s=0;for(t in e)s=(s<<5)-s+e.charCodeAt(t),s|=0;return o.colors[Math.abs(s)%o.colors.length]}function n(e){function t(){if(t.enabled){var e=t,i=+new Date,n=i-(s||i);e.diff=n,e.prev=s,e.curr=i,s=i;for(var r=new Array(arguments.length),a=0;a<r.length;a++)r[a]=arguments[a];r[0]=o.coerce(r[0]),"string"!==typeof r[0]&&r.unshift("%O");var c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(t,s){if("%%"===t)return t;c++;var i=o.formatters[s];if("function"===typeof i){var n=r[c];t=i.call(e,n),r.splice(c,1),c--}return t})),o.formatArgs.call(e,r);var l=t.log||o.log||console.log.bind(console);l.apply(e,r)}}return t.namespace=e,t.enabled=o.enabled(e),t.useColors=o.useColors(),t.color=i(e),"function"===typeof o.init&&o.init(t),t}function r(e){o.save(e);for(var t=(e||"").split(/[\s,]+/),s=t.length,i=0;i<s;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")))}function a(){o.enable("")}function c(e){var t,s;for(t=0,s=o.skips.length;t<s;t++)if(o.skips[t].test(e))return!1;for(t=0,s=o.names.length;t<s;t++)if(o.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}o=t.exports=n.debug=n.default=n,o.coerce=l,o.disable=a,o.enable=r,o.enabled=c,o.humanize=e("ms"),o.names=[],o.skips=[],o.formatters={}},{ms:58}],56:[function(e,t,o){"function"===typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var o=function(){};o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e}},{}],57:[function(o,s,n){(function(e){(function(){var o="function"===typeof t&&t.amd,r={function:!0,object:!0},a=r[Object(i["a"])(n)]&&n&&!n.nodeType&&n,c=r["undefined"===typeof window?"undefined":Object(i["a"])(window)]&&window||this,l=a&&r[Object(i["a"])(s)]&&s&&!s.nodeType&&"object"==Object(i["a"])(e)&&e;function u(e,t){e||(e=c["Object"]()),t||(t=c["Object"]());var o=e["Number"]||c["Number"],s=e["String"]||c["String"],n=e["Object"]||c["Object"],a=e["Date"]||c["Date"],l=e["SyntaxError"]||c["SyntaxError"],d=e["TypeError"]||c["TypeError"],h=e["Math"]||c["Math"],m=e["JSON"]||c["JSON"];"object"==n(i["a"])(m)&&m&&(t.stringify=m.stringify,t.parse=m.parse);var f,p,g,v=n.prototype,y=v.toString,b=new a(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(M){}function w(e){if(w[e]!==g)return w[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=w("json-stringify")&&w("json-parse");else{var n,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c=t.stringify,l="function"==typeof c&&b;if(l){(n=function(){return 1}).toJSON=n;try{l="0"===c(0)&&"0"===c(new o)&&'""'==c(new s)&&c(y)===g&&c(g)===g&&c()===g&&"1"===c(n)&&"[1]"==c([n])&&"[null]"==c([g])&&"null"==c(null)&&"[null,null,null]"==c([g,y,null])&&c({a:[n,!0,!1,null,"\0\b\n\f\r\t"]})==r&&"1"===c(null,n)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new a(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new a(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new a(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new a(-1))}catch(M){l=!1}}i=l}if("json-parse"==e){var u=t.parse;if("function"==typeof u)try{if(0===u("0")&&!u(!1)){n=u(r);var d=5==n["a"].length&&1===n["a"][0];if(d){try{d=!u('"\t"')}catch(M){}if(d)try{d=1!==u("01")}catch(M){}if(d)try{d=1!==u("1.")}catch(M){}}}}catch(M){d=!1}i=d}}return w[e]=!!i}if(!w("json")){var S="[object Function]",T="[object Date]",F="[object Number]",k="[object String]",x="[object Array]",_="[object Boolean]",I=w("bug-string-char-index");if(!b)var D=h.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],A=function(e,t){return C[t]+365*(e-1970)+D((e-1969+(t=+(t>1)))/4)-D((e-1901+t)/100)+D((e-1601+t)/400)};if((f=v.hasOwnProperty)||(f=function(e){var t,o={};return(o.__proto__=null,o.__proto__={toString:1},o).toString!=y?f=function(e){var t=this.__proto__,o=e in(this.__proto__=null,this);return this.__proto__=t,o}:(t=o.constructor,f=function(e){var o=(this.constructor||t).prototype;return e in this&&!(e in o&&this[e]===o[e])}),o=null,f.call(this,e)}),p=function(e,t){var o,s,a,c=0;for(a in(o=function(){this.valueOf=0}).prototype.valueOf=0,s=new o,s)f.call(s,a)&&c++;return o=s=null,c?p=2==c?function(e,t){var o,s={},i=y.call(e)==S;for(o in e)i&&"prototype"==o||f.call(s,o)||!(s[o]=1)||!f.call(e,o)||t(o)}:function(e,t){var o,s,i=y.call(e)==S;for(o in e)i&&"prototype"==o||!f.call(e,o)||(s="constructor"===o)||t(o);(s||f.call(e,o="constructor"))&&t(o)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(e,t){var o,a,c=y.call(e)==S,l=!c&&"function"!=typeof e.constructor&&r[n(i["a"])(e.hasOwnProperty)]&&e.hasOwnProperty||f;for(o in e)c&&"prototype"==o||!l.call(e,o)||t(o);for(a=s.length;o=s[--a];l.call(e,o)&&t(o));}),p(e,t)},!w("json-stringify")){var N={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},R="000000",j=function(e,t){return(R+(t||0)).slice(-e)},O="\\u00",q=function(e){for(var t='"',o=0,s=e.length,i=!I||s>10,n=i&&(I?e.split(""):e);o<s;o++){var r=e.charCodeAt(o);switch(r){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=N[r];break;default:if(r<32){t+=O+j(2,r.toString(16));break}t+=i?n[o]:e.charAt(o)}}return t+'"'},B=function e(t,o,s,r,a,c,l){var u,h,m,v,b,w,S,I,C,N,R,O,B,$,E,P;try{u=o[t]}catch(M){}if("object"==n(i["a"])(u)&&u)if(h=y.call(u),h!=T||f.call(u,"toJSON"))"function"==typeof u.toJSON&&(h!=F&&h!=k&&h!=x||f.call(u,"toJSON"))&&(u=u.toJSON(t));else if(u>-1/0&&u<1/0){if(A){for(b=D(u/864e5),m=D(b/365.2425)+1970-1;A(m+1,0)<=b;m++);for(v=D((b-A(m,0))/30.42);A(m,v+1)<=b;v++);b=1+b-A(m,v),w=(u%864e5+864e5)%864e5,S=D(w/36e5)%24,I=D(w/6e4)%60,C=D(w/1e3)%60,N=w%1e3}else m=u.getUTCFullYear(),v=u.getUTCMonth(),b=u.getUTCDate(),S=u.getUTCHours(),I=u.getUTCMinutes(),C=u.getUTCSeconds(),N=u.getUTCMilliseconds();u=(m<=0||m>=1e4?(m<0?"-":"+")+j(6,m<0?-m:m):j(4,m))+"-"+j(2,v+1)+"-"+j(2,b)+"T"+j(2,S)+":"+j(2,I)+":"+j(2,C)+"."+j(3,N)+"Z"}else u=null;if(s&&(u=s.call(o,t,u)),null===u)return"null";if(h=y.call(u),h==_)return""+u;if(h==F)return u>-1/0&&u<1/0?""+u:"null";if(h==k)return q(""+u);if("object"==n(i["a"])(u)){for($=l.length;$--;)if(l[$]===u)throw d();if(l.push(u),R=[],E=c,c+=a,h==x){for(B=0,$=u.length;B<$;B++)O=e(B,u,s,r,a,c,l),R.push(O===g?"null":O);P=R.length?a?"[\n"+c+R.join(",\n"+c)+"\n"+E+"]":"["+R.join(",")+"]":"[]"}else p(r||u,(function(t){var o=e(t,u,s,r,a,c,l);o!==g&&R.push(q(t)+":"+(a?" ":"")+o)})),P=R.length?a?"{\n"+c+R.join(",\n"+c)+"\n"+E+"}":"{"+R.join(",")+"}":"{}";return l.pop(),P}};t.stringify=function(e,t,o){var s,a,c,l;if(r[n(i["a"])(t)]&&t)if((l=y.call(t))==S)a=t;else if(l==x){c={};for(var u,d=0,h=t.length;d<h;u=t[d++],l=y.call(u),(l==k||l==F)&&(c[u]=1));}if(o)if((l=y.call(o))==F){if((o-=o%1)>0)for(s="",o>10&&(o=10);s.length<o;s+=" ");}else l==k&&(s=o.length<=10?o:o.slice(0,10));return B("",(u={},u[""]=e,u),a,c,s,"",[])}}if(!w("json-parse")){var $,E,P=s.fromCharCode,W={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},K=function(){throw $=E=null,l()},J=function(){var e,t,o,s,i,n=E,r=n.length;while($<r)switch(i=n.charCodeAt($),i){case 9:case 10:case 13:case 32:$++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=I?n.charAt($):n[$],$++,e;case 34:for(e="@",$++;$<r;)if(i=n.charCodeAt($),i<32)K();else if(92==i)switch(i=n.charCodeAt(++$),i){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=W[i],$++;break;case 117:for(t=++$,o=$+4;$<o;$++)i=n.charCodeAt($),i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||K();e+=P("0x"+n.slice(t,$));break;default:K()}else{if(34==i)break;i=n.charCodeAt($),t=$;while(i>=32&&92!=i&&34!=i)i=n.charCodeAt(++$);e+=n.slice(t,$)}if(34==n.charCodeAt($))return $++,e;K();default:if(t=$,45==i&&(s=!0,i=n.charCodeAt(++$)),i>=48&&i<=57){for(48==i&&(i=n.charCodeAt($+1),i>=48&&i<=57)&&K(),s=!1;$<r&&(i=n.charCodeAt($),i>=48&&i<=57);$++);if(46==n.charCodeAt($)){for(o=++$;o<r&&(i=n.charCodeAt(o),i>=48&&i<=57);o++);o==$&&K(),$=o}if(i=n.charCodeAt($),101==i||69==i){for(i=n.charCodeAt(++$),43!=i&&45!=i||$++,o=$;o<r&&(i=n.charCodeAt(o),i>=48&&i<=57);o++);o==$&&K(),$=o}return+n.slice(t,$)}if(s&&K(),"true"==n.slice($,$+4))return $+=4,!0;if("false"==n.slice($,$+5))return $+=5,!1;if("null"==n.slice($,$+4))return $+=4,null;K()}return"$"},z=function e(t){var o,s;if("$"==t&&K(),"string"==typeof t){if("@"==(I?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(o=[];;s||(s=!0)){if(t=J(),"]"==t)break;s&&(","==t?(t=J(),"]"==t&&K()):K()),","==t&&K(),o.push(e(t))}return o}if("{"==t){for(o={};;s||(s=!0)){if(t=J(),"}"==t)break;s&&(","==t?(t=J(),"}"==t&&K()):K()),","!=t&&"string"==typeof t&&"@"==(I?t.charAt(0):t[0])&&":"==J()||K(),o[t.slice(1)]=e(J())}return o}K()}return t},L=function(e,t,o){var s=V(e,t,o);s===g?delete e[t]:e[t]=s},V=function(e,t,o){var s,r=e[t];if("object"==n(i["a"])(r)&&r)if(y.call(r)==x)for(s=r.length;s--;)L(r,s,o);else p(r,(function(e){L(r,e,o)}));return o.call(e,t,r)};t.parse=function(e,t){var o,s;return $=0,E=""+e,o=z(J()),"$"!=J()&&K(),$=E=null,t&&y.call(t)==S?V((s={},s[""]=o,s),"",t):o}}}return t["runInContext"]=u,t}if(!l||l["global"]!==l&&l["window"]!==l&&l["self"]!==l||(c=l),a&&!o)u(c,a);else{var d=c.JSON,h=c["JSON3"],m=!1,f=u(c,c["JSON3"]={noConflict:function(){return m||(m=!0,c.JSON=d,c["JSON3"]=h,d=h=null),f}});c.JSON={parse:f.parse,stringify:f.stringify}}o&&t((function(){return f}))}).call(this)}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],58:[function(e,t,o){var s=1e3,n=60*s,r=60*n,a=24*r,c=365.25*a;function l(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var o=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return o*c;case"days":case"day":case"d":return o*a;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*n;case"seconds":case"second":case"secs":case"sec":case"s":return o*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}function u(e){return e>=a?Math.round(e/a)+"d":e>=r?Math.round(e/r)+"h":e>=n?Math.round(e/n)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function d(e){return h(e,a,"day")||h(e,r,"hour")||h(e,n,"minute")||h(e,s,"second")||e+" ms"}function h(e,t,o){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+o:Math.ceil(e/t)+" "+o+"s"}t.exports=function(e,t){t=t||{};var o=Object(i["a"])(e);if("string"===o&&e.length>0)return l(e);if("number"===o&&!1===isNaN(e))return t.long?d(e):u(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],59:[function(e,t,o){var s=Object.prototype.hasOwnProperty;function i(e){for(var t,o=/([^=?&]+)=?([^&]*)/g,s={};t=o.exec(e);s[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return s}function n(e,t){t=t||"";var o=[];for(var i in"string"!==typeof t&&(t="?"),e)s.call(e,i)&&o.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return o.length?t+o.join("&"):""}o.stringify=n,o.parse=i},{}],60:[function(e,t,o){t.exports=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},{}],61:[function(e,t,o){var s=e("requires-port"),n=e("./lolcation"),r=e("querystringify"),a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,c=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]];function l(e){var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function u(e,t){var o=(t||"/").split("/").slice(0,-1).concat(e.split("/")),s=o.length,i=o[s-1],n=!1,r=0;while(s--)"."===o[s]?o.splice(s,1):".."===o[s]?(o.splice(s,1),r++):r&&(0===s&&(n=!0),o.splice(s,1),r--);return n&&o.unshift(""),"."!==i&&".."!==i||o.push(""),o.join("/")}function d(e,t,o){if(!(this instanceof d))return new d(e,t,o);var a,h,m,f,p,g,v=c.slice(),y=Object(i["a"])(t),b=this,w=0;for("object"!==y&&"string"!==y&&(o=t,t=null),o&&"function"!==typeof o&&(o=r.parse),t=n(t),h=l(e||""),a=!h.protocol&&!h.slashes,b.slashes=h.slashes||a&&t.slashes,b.protocol=h.protocol||t.protocol||"",e=h.rest,h.slashes||(v[2]=[/(.*)/,"pathname"]);w<v.length;w++)f=v[w],m=f[0],g=f[1],m!==m?b[g]=e:"string"===typeof m?~(p=e.indexOf(m))&&("number"===typeof f[2]?(b[g]=e.slice(0,p),e=e.slice(p+f[2])):(b[g]=e.slice(p),e=e.slice(0,p))):(p=m.exec(e))&&(b[g]=p[1],e=e.slice(0,p.index)),b[g]=b[g]||a&&f[3]&&t[g]||"",f[4]&&(b[g]=b[g].toLowerCase());o&&(b.query=o(b.query)),a&&t.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==t.pathname)&&(b.pathname=u(b.pathname,t.pathname)),s(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(f=b.auth.split(":"),b.username=f[0]||"",b.password=f[1]||""),b.origin=b.protocol&&b.host&&"file:"!==b.protocol?b.protocol+"//"+b.host:"null",b.href=b.toString()}d.prototype.set=function(e,t,o){var i=this;switch(e){case"query":"string"===typeof t&&t.length&&(t=(o||r.parse)(t)),i[e]=t;break;case"port":i[e]=t,s(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,/:\d+$/.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!o;break;case"pathname":i.pathname=t.length&&"/"!==t.charAt(0)?"/"+t:t;break;default:i[e]=t}for(var n=0;n<c.length;n++){var a=c[n];a[4]&&(i[a[1]]=i[a[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},d.prototype.toString=function(e){e&&"function"===typeof e||(e=r.stringify);var t,o=this,s=o.protocol;s&&":"!==s.charAt(s.length-1)&&(s+=":");var n=s+(o.slashes?"//":"");return o.username&&(n+=o.username,o.password&&(n+=":"+o.password),n+="@"),n+=o.host+o.pathname,t="object"===Object(i["a"])(o.query)?e(o.query):o.query,t&&(n+="?"!==t.charAt(0)?"?"+t:t),o.hash&&(n+=o.hash),n},d.extractProtocol=l,d.location=n,d.qs=r,t.exports=d},{"./lolcation":62,querystringify:59,"requires-port":60}],62:[function(t,o,s){(function(e){var s,n=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,r={hash:1,query:1};o.exports=function(o){o=o||e.location||{},s=s||t("./");var a,c={},l=Object(i["a"])(o);if("blob:"===o.protocol)c=new s(unescape(o.pathname),{});else if("string"===l)for(a in c=new s(o,{}),r)delete c[a];else if("object"===l){for(a in o)a in r||(c[a]=o[a]);void 0===c.slashes&&(c.slashes=n.test(o.href))}return c}}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./":61}]},{},[1])(1)}))}).call(this,o("2409"),o("2ffc")(e))},a3e0:function(e,t,o){},a836:function(e,t,o){e.exports=o.p+"img/pic3.4cc2d839.png"},a8fb:function(e,t,o){},acab:function(e,t,o){},af2d:function(e,t,o){"use strict";o("e9b6")},b2d3:function(e,t,o){},b769:function(e,t,o){},b967:function(e,t,o){"use strict";o("1413")},bb51:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div")},i=[],n={},r=n,a=o("5d22"),c=Object(a["a"])(r,s,i,!1,null,null,null);t["default"]=c.exports},bbad:function(e,t,o){"use strict";o("45e5")},c6b4:function(e,t,o){"use strict";o("a2a7")},cac5:function(e,t,o){},d2cb:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"wrapper"},[o("Left"),o("div",{staticClass:"detailBox"}),e.showWaitingFlag?o("div",{staticStyle:{position:"absolute",width:"20rem",height:"10rem",top:"10rem",left:"50%","margin-left":"-10rem","line-height":"10rem","background-color":"rgba(25, 55, 163, 0.8)","font-size":"1.3rem",color:"white","text-align":"center","z-index":"1000"}},[e._v("\n    提交中，请稍候...\n  ")]):e._e(),e.tipShowFlag?o("div",{staticStyle:{position:"absolute",top:"30vh",left:"40rem","z-index":"122","padding-top":"1rem",color:"#333","font-size":"1.5rem",width:"20rem","background-color":"rgb(209, 218, 243)","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"},attrs:{typeInTipBox:""}},[o("div",{staticStyle:{"font-size":"1rem",height:"2rem",width:"100%","text-align":"center"}},[e._v("\n      历史匹配:\n    ")]),e._l(e.matchedKV,(function(t,s){return o("div",{key:s,staticClass:"matchedKVClass"},[o("div",{staticClass:"matchedItem",staticStyle:{"font-size":"1rem","text-align":"center",width:"80%","margin-left":"10%","line-height":"2rem"},on:{click:function(o){return e.selectThisTip(t)}}},[e._v("\n        "+e._s(t[0])+":"+e._s(t[1])+"\n      ")])])})),o("div",{staticStyle:{height:"2rem","text-align":"right","font-size":"0.8rem","line-height":"2rem",cursor:"pointer"},on:{click:e.closeTip}},[e._v("\n      关闭 \n    ")])],2):e._e(),e.likelyTipShowFlag?o("div",{staticClass:"windowStyle",staticStyle:{position:"absolute",top:"30vh",left:"13rem","z-index":"122","padding-top":"1rem",color:"#eee","font-size":"1.5rem",width:"75rem","padding-bottom":"1rem","-webkit-box-shadow":"0 0 0.5rem #909399","box-shadow":"0 0 0.5rem #909399","border-radius":"1rem"},attrs:{typeInTipBox:""}},[o("div",{staticStyle:{height:"2rem","text-align":"right","font-size":"1rem","line-height":"2rem",cursor:"pointer",width:"3rem",position:"absolute",right:"1rem",top:"0"},on:{click:e.closeDocTip}},[e._v("\n      关闭 \n    ")]),o("div",{staticStyle:{"font-size":"1rem",height:"2rem",width:"100%","text-align":"center"}},[e._v("\n      智能匹配:\n    ")]),e._l(e.matchedDoc,(function(t,s){return o("div",{key:s,staticClass:"matchedDocClass"},[o("div",{staticClass:"matchedItem",staticStyle:{"font-size":"1rem","text-align":"center",width:"80%","margin-left":"10%","padding-bottom":"0.2rem"},on:{click:function(o){return e.selectThisDoc(t)}}},[o("font",{domProps:{innerHTML:e._s(t.docTitle)}}),e._v(" -\n        "),o("font",{staticStyle:{"font-size":"1.1rem",color:"#abc"}},[e._v("\n          "+e._s(t.docAbout)+" ")]),e._v("-"+e._s(t.keyword)+"\n      ")],1)])}))],2):e._e(),e._e(),e.isRS?e._e():o("el-form",{ref:"docForm",staticClass:"docInForm",attrs:{model:e.docForm,"label-width":"10rem"}},[o("div",{staticClass:"docSequenceTip"},[e._v("\n      文件在该批次中唯一识别号：\n      "),o("div",{staticStyle:{display:"inline-block"}},[e._v(e._s(this.docForm.docSequence))])]),e.fixDocFlag?o("div",{staticStyle:{position:"absolute",left:"50%",width:"6rem","margin-left":"-3rem",top:"1rem"}},[e._v("\n      修改中\n    ")]):e._e(),o("el-checkbox",{staticStyle:{position:"absolute",right:"1rem",top:"1rem"},attrs:{"false-label":"false","true-label":"true",checked:!0},on:{change:e.inputChange}},[e._v("智能录入")]),o("el-form-item",{staticClass:"textArea",attrs:{prop:"batchName",label:"文件标题："}},[o("el-input",{staticClass:"textAreaInput",attrs:{type:"textarea",rows:3,"auto-complete":"off",placeholder:"输入文件标题"},on:{blur:e.titleComplete},model:{value:e.docForm.docTitle,callback:function(t){e.$set(e.docForm,"docTitle",t)},expression:"docForm.docTitle"}})],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:4}},[o("el-form-item",{attrs:{prop:"batchName",label:"有无文号:"}},[o("el-checkbox",{staticStyle:{position:"absolute",left:"2rem",top:"0.5rem"},attrs:{"false-label":"false","true-label":"true",checked:!0},on:{change:e.docDescChange},model:{value:e.docForm.docDescAuthor,callback:function(t){e.$set(e.docForm,"docDescAuthor",t)},expression:"docForm.docDescAuthor"}})],1)],1),o("el-col",{attrs:{span:12}},[e.docForm.docDescAuthor?o("el-form-item",{attrs:{prop:"batchName",label:"文号："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"文号"},on:{blur:e.docDescComplete},model:{value:e.docForm.docDesc,callback:function(t){e.$set(e.docForm,"docDesc",t)},expression:"docForm.docDesc"}})],1):e._e()],1),o("el-col",{attrs:{span:8}},[e.docForm.docDescAuthor?o("el-form-item",{attrs:{prop:"batchName",label:"序号："}},[o("el-input",{staticClass:"DescNumStyle",attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"文号的序号"},model:{value:e.docForm.docDescNum,callback:function(t){e.$set(e.docForm,"docDescNum",t)},expression:"docForm.docDescNum"}})],1):e._e()],1)],1),"officialJ"==e.docType?o("div",[o("el-row",{attrs:{gutter:24}},["officialJ"==e.docType?o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"机构词："}},[o("el-select",{ref:"authSelectref",attrs:{filterable:"",placeholder:"选择或填写机构词"},on:{blur:e.keywordBlur,change:e.keywordComplete},model:{value:e.docForm.keyword,callback:function(t){e.$set(e.docForm,"keyword",t)},expression:"docForm.keyword"}},e._l(e.keywordTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1):e._e(),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"机构："}},[o("el-select",{ref:"authSelectref",attrs:{filterable:"",placeholder:"填写或选择机构"},on:{blur:e.docAboutBlur,change:e.docAboutChange},model:{value:e.docForm.docAbout,callback:function(t){e.$set(e.docForm,"docAbout",t)},expression:"docForm.docAbout"}},e._l(e.docAboutTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"关键词："}},[o("el-select",{ref:"authSelectref",attrs:{filterable:"",placeholder:"选择或填写关键词(可不填)"},on:{blur:e.keyword2Blur,change:e.keyword2Complete},model:{value:e.docForm.keyword2,callback:function(t){e.$set(e.docForm,"keyword2",t)},expression:"docForm.keyword2"}},e._l(e.keyword2TipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1)],1):e._e(),"officialJ"!=e.docType?o("div",[o("el-row",{attrs:{gutter:24}},[e.isKJ?o("div",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"项目："}},[o("el-select",{ref:"authSelectref",attrs:{filterable:"",placeholder:"填写或选择项目"},on:{blur:e.docAboutBlur,change:e.docAboutChange},model:{value:e.docForm.docAbout,callback:function(t){e.$set(e.docForm,"docAbout",t)},expression:"docForm.docAbout"}},e._l(e.docAboutTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"项目词："}},[o("el-select",{ref:"authSelectref",attrs:{filterable:"",placeholder:"选择或填写项目词"},on:{blur:e.keywordBlur,change:e.keywordComplete},model:{value:e.docForm.keyword,callback:function(t){e.$set(e.docForm,"keyword",t)},expression:"docForm.keyword"}},e._l(e.keywordTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1):e._e(),e.isKJ?e._e():o("div",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"问题："}},[o("el-select",{ref:"authSelectref",attrs:{filterable:"",placeholder:"填写或选择问题"},on:{blur:e.docAboutBlur,change:e.docAboutChange},model:{value:e.docForm.docAbout,callback:function(t){e.$set(e.docForm,"docAbout",t)},expression:"docForm.docAbout"}},e._l(e.docAboutTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"问题词："}},[o("el-select",{ref:"authSelectref",attrs:{filterable:"",placeholder:"选择或填写问题词"},on:{blur:e.keywordBlur,change:e.keywordComplete},model:{value:e.docForm.keyword,callback:function(t){e.$set(e.docForm,"keyword",t)},expression:"docForm.keyword"}},e._l(e.keywordTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1)])],1):e._e(),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"文件级别："}},[o("el-select",{attrs:{placeholder:"选择文件级别"},on:{change:e.levelCompelete},model:{value:e.docForm.docLevel,callback:function(t){e.$set(e.docForm,"docLevel",t)},expression:"docForm.docLevel"}},e._l(e.docLevels,(function(e){return o("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"文件期限(年)："}},[o("el-select",{attrs:{placeholder:"选择文件期限"},model:{value:e.docForm.deadline,callback:function(t){e.$set(e.docForm,"deadline",t)},expression:"docForm.deadline"}},e._l(e.docTimeDues,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{prop:"batchName",label:"责任者："}},[o("el-select",{ref:"authSelectref",attrs:{filterable:"","auto-complete":"off",placeholder:"输入档案责任者"},on:{blur:e.dutyAuthorBlur,change:e.dutyAuthorComplete},model:{value:e.docForm.dutyAuthor,callback:function(t){e.$set(e.docForm,"dutyAuthor",t)},expression:"docForm.dutyAuthor"}},e._l(e.dutyAuthorTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"发文日期："}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择发文日期","value-format":"yyyyMMdd","picker-options":e.pickerOptions},on:{change:e.selectDateChange},model:{value:e.docForm.docDate,callback:function(t){e.$set(e.docForm,"docDate",t)},expression:"docForm.docDate"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"文件页数："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"根据文件填写"},model:{value:e.docForm.docPage,callback:function(t){e.$set(e.docForm,"docPage",t)},expression:"docForm.docPage"}})],1)],1)],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"文件密级："}},[o("el-select",{attrs:{placeholder:"选择文件密级"},model:{value:e.docForm.docSecret,callback:function(t){e.$set(e.docForm,"docSecret",t)},expression:"docForm.docSecret"}},e._l(e.docSecrets,(function(e){return o("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"整档年度："}},[o("el-date-picker",{attrs:{type:"year",placeholder:"选择整档年度","value-format":"yyyy","picker-options":e.pickerOptions},on:{change:e.selectDateChange},model:{value:e.docForm.sortYear,callback:function(t){e.$set(e.docForm,"sortYear",t)},expression:"docForm.sortYear"}})],1)],1)],1),o("el-form-item",{staticClass:"textArea",attrs:{prop:"batchName",label:"备注信息："}},[o("el-input",{staticClass:"textAreaInput",attrs:{type:"textarea",rows:2,"auto-complete":"off",placeholder:"输入备注"},model:{value:e.docForm.remark,callback:function(t){e.$set(e.docForm,"remark",t)},expression:"docForm.remark"}})],1),o("div",{staticClass:"buttonGroup"},[e.fixDocFlag?o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"40%"},attrs:{size:"big"},on:{click:e.fixDoc}},[e._v("\n        修改档案\n      ")]):e._e(),e.fixDocFlag?e._e():o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"30%"},attrs:{type:"success",size:"big"},on:{click:e.addDoc}},[e._v("\n        添加档案\n      ")]),e.fixDocFlag?e._e():o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"10%"},attrs:{type:"primary",size:"big"},on:{click:e.resetDocIn}},[e._v("\n        清空列表\n      ")]),e.fixDocFlag?e._e():o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"10%"},attrs:{type:"warning\n        ",size:"big"},on:{click:e.goDetail}},[e._v("\n        结束录入\n      ")]),e.fixDocFlag?o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"10%"},attrs:{type:"primary",size:"big"},on:{click:e.cancelFix}},[e._v("\n        取消修改\n      ")]):e._e()])],1),e.isRS?o("el-form",{ref:"docForm",staticClass:"docInForm",attrs:{model:e.docFormRS,"label-width":"10rem"}},[o("div",{staticClass:"docSequenceTip"},[e._v("\n      本份文件唯一识别号："+e._s(this.docFormRS.docSequence)+"\n    ")]),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{prop:"batchName",label:"材料标题："}},[o("el-input",{attrs:{oninput:"titleInput()",size:"normal",type:"text","auto-complete":"off",placeholder:"根据材料填写"},on:{blur:e.titleComplete},model:{value:e.docFormRS.docTitle,callback:function(t){e.$set(e.docFormRS,"docTitle",t)},expression:"docFormRS.docTitle"}})],1)],1)],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"historyAuth",label:"关键词："}},[o("el-select",{ref:"authSelectref",attrs:{filterable:"",placeholder:"选择或填写关键词"},on:{blur:e.keywordBlur},model:{value:e.docFormRS.keyword,callback:function(t){e.$set(e.docFormRS,"keyword",t)},expression:"docFormRS.keyword"}},e._l(e.keywordTipArr,(function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"姓名："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"填写姓名"},model:{value:e.docFormRS.personName,callback:function(t){e.$set(e.docFormRS,"personName",t)},expression:"docFormRS.personName"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"材料形成时间："}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyyMMdd","picker-options":e.pickerOptions},model:{value:e.docFormRS.docDate,callback:function(t){e.$set(e.docFormRS,"docDate",t)},expression:"docFormRS.docDate"}})],1)],1)],1),o("el-row",{attrs:{gutter:24}}),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"材料类别："}},[o("el-select",{attrs:{placeholder:"选择材料类别"},model:{value:e.docFormRS.docAbout,callback:function(t){e.$set(e.docFormRS,"docAbout",t)},expression:"docFormRS.docAbout"}},e._l(e.RSTypes,(function(e){return o("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"z",label:"子材料类别："}},[o("el-select",{attrs:{placeholder:"选择子材料类别"},model:{value:e.docFormRS.docAboutSub,callback:function(t){e.$set(e.docFormRS,"docAboutSub",t)},expression:"docFormRS.docAboutSub"}},e._l(e.RSSubTypes,(function(e){return o("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1)],1),o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{prop:"batchName",label:"文件页数："}},[o("el-input",{attrs:{size:"normal",type:"text","auto-complete":"off",placeholder:"根据文件填写"},model:{value:e.docFormRS.docPage,callback:function(t){e.$set(e.docFormRS,"docPage",t)},expression:"docFormRS.docPage"}})],1)],1)],1),o("el-row",[o("el-form-item",{staticClass:"textArea",attrs:{prop:"batchName",label:"备注信息："}},[o("el-input",{staticClass:"textAreaInput",attrs:{type:"textarea",rows:2,"auto-complete":"off",placeholder:"输入备注"},model:{value:e.docFormRS.remark,callback:function(t){e.$set(e.docFormRS,"remark",t)},expression:"docFormRS.remark"}})],1)],1),o("div",{staticClass:"buttonGroup"},[e.fixDocFlag?o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"30%",width:"4rem"},attrs:{type:"warning"},on:{click:e.fixDocRS}},[e._v("\n        修改档案\n      ")]):e._e(),e.fixDocFlag?e._e():o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"20%",width:"4rem"},attrs:{type:"success"},on:{click:e.addDocRS}},[e._v("\n        添加档案\n      ")]),e.fixDocFlag?e._e():o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"20%",width:"4rem"},attrs:{type:"primary"},on:{click:e.resetDocInRS}},[e._v("\n        清空列表\n      ")]),e.fixDocFlag?e._e():o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"20%",width:"4rem"},on:{click:e.goDetail}},[e._v("\n        结束录入\n      ")]),e.fixDocFlag?o("div",{staticClass:"topTextButtonBlue",staticStyle:{float:"left","margin-left":"10%",width:"4rem"},attrs:{type:"primary"},on:{click:e.cancelFixRS}},[e._v("\n        取消修改\n      ")]):e._e()])],1):e._e()],1)},i=[],n=(o("0c84"),o("e680"),o("4057"),o("1bc7"),o("32ea"),o("28f8")),r=(o("fc02"),o("8dee"),o("3269"),o("8d0c")),a=o("8c62"),c=o("82ae"),l=o.n(c),u={name:"docInput",components:{Left:a["a"]},destroyed:function(){console.log(this)},mounted:function(){var e=new Date,t=e.getHours()+"-"+e.getMinutes()+"-"+e.getSeconds();console.log("init 一个detail"+t),this.initTime=t;var o=this;r["a"].$on("changeThisDoc",(function(e){console.log(r["a"]),console.log(o);Object.assign({},e);o.docForm=Object.assign({},e),o.docFormRS=Object.assign({},e),o.docForm.docDescAuthor=e.docDescAuthor,""!=e.keword2&&(o.keyword2Check=!0),o.fixDocFlag=!0,o.$store.state.tempDocSeq=e.docSequence,o.$store.state.tempDocId=e.id})),this.$store.state.tempDoc?(console.log("详情页得到的"),console.log(this.$store.state.tempDoc),this.fixDocFlag=!0,console.log(this.$store.state.tempDoc),this.docForm=Object.assign({},this.$store.state.tempDoc),this.docFormRS=Object.assign({},this.$store.state.tempDoc),this.docForm.docDescAuthor=this.$store.state.tempDoc.docDescAuthor,console.log(this.$store.state.tempDoc.docDescAuthor),""!=this.$store.state.tempDoc.keyword2&&(console.log(this.$store.state.tempDoc.keyword2),this.keyword2Check=!0),this.$store.state.tempDoc=""):this.genId(6,62)},watch:{edocFormRSJS:{handler:function(e,t){console.log(e.docAbout),console.log(t)},deep:!0},docFormDescJS1:{handler:function(e,t){var o=e;o.indexOf("[")>0&&console.log(o)},deep:!0},docFormJS:{handler:function(e,t){},deep:!0},docFormRSJS:{handler:function(e,t){"工资、任免、退休材料"==e.docAbout?this.RSSubTypes=this.RSSubTypesOrigin:"学历学位、评聘专业职务材料"==e.docAbout?this.RSSubTypes=[{name:"学历学位材料",value:"学历学位材料"},{name:"职称材料",value:"职称材料"}]:(this.docFormRS.docAboutSub="无",this.RSSubTypes=[{name:"无",value:"无"}]),"学历学位、评聘专业职务材料"==e.docAbout&&"学历学位、评聘专业职务材料"!=t.docAbout&&(this.docFormRS.docAboutSub=""),"工资、任免、退休材料"==e.docAbout&&"工资、任免、退休材料"!=t.docAbout&&(this.docFormRS.docAboutSub="")},deep:!0},keyword_docAboutJsonJS:{handler:function(e,t){var o;for(o in this.keywordTipArr=[],this.keyword_docAboutJson)this.keywordTipArr.push(o)}},docAbout_KeywordArrJsonJS:{handler:function(e,t){var o;for(o in this.docAboutTipArr=[],this.docAbout_KeywordArrJson)this.docAboutTipArr.push(o)}},weightFormJS:{handler:function(e,t){var o;for(o in this.keyword2TipArr=[],this.weightForm.instituteKW2)this.keyword2TipArr.push(o)}}},computed:{docType:function(){return sessionStorage.getItem("docType")},weightFormJS:function(){return this.weightForm},keyword_docAboutJsonJS:function(){return this.keyword_docAboutJson},docAbout_KeywordArrJsonJS:function(){return this.docAbout_KeywordArrJson},replaceval:function(){},docFormRSJS:function(){return JSON.parse(JSON.stringify(this.docFormRS))},docFormJS:function(){return this.docForm.docTitle},docFormDescJS:function(){return this.docForm.docDesc},isRS:function(){return"personnel"==sessionStorage.getItem("docType")},isKJ:function(){return"science"==sessionStorage.getItem("docType")}},data:function(){return{initTime:"",DescWigArr:[],levelTemp:"",docSequenceLock:0,selectDocNoTable:!1,docAboutTipArr:[],keywordTipArr:[],dutyAuthorTipArr:[],keyword2TipArr:[],docAbout_KeywordArrJson:{},keyword_docAboutJson:{},authorKwToDeadlineTable:{},chufa:1,likelyTipShowFlag:!1,matchedDoc:[],wordsNum:3,addDocBtnFlg:!0,kwInTitle:[],rsDocTypeMain:"",matchedKV:[],tipShowFlag:!1,keywordTemp:"",keyword2Temp:"",searchForm:{batchId:sessionStorage.getItem("batchId"),docSequence:"",docTitle:"",docDesc:"",docDate:"",dutyAuthor:"",docType:"",personName:""},docFormRS:{id:"",docSequence:"",docType:"",docTitle:"填写标题",docAbout:"",docAboutSub:"",keyword:"关键字",docDate:"20180808",docTypeCode:sessionStorage.getItem("docTypeCode"),docSecret:"",docPage:"",remark:"",docNum:"",personName:"",docDescAuthor:!1},docFormRSKong:{id:"",docSequence:"",docType:"",docTitle:"",docAbout:"",docAboutSub:"",keyword:"",docDate:"20190808",docTypeCode:sessionStorage.getItem("docTypeCode"),docSecret:"",docPage:"",remark:"",docNum:"",personName:"",docDescAuthor:!1},showWaitingFlag:!1,weightForm:{},manageKeyWordTime:1,keyWordEdit:!1,fixDocFlag:!1,RSSubTypesOrigin:[{name:"工资情况材料",value:"工资情况材料"},{name:"任免材料",value:"任免材料"},{name:"出国、出境材料",value:"出国、出境材料"},{name:"各党派、团体代表登记表",value:"各党派、团体代表登记表"},{name:"聘用、录用、转干、转业材料",value:"聘用、录用、转干、转业材料"},{name:"待遇、退（离）休、退职材料",value:"待遇、退（离）休、退职材料"}],RSSubTypes:[{name:"工资情况材料",value:"工资情况材料"},{name:"任免材料",value:"任免材料"},{name:"出国、出境材料",value:"出国、出境材料"},{name:"各党派、团体代表登记表",value:"各党派、团体代表登记表"},{name:"聘用、录用、转干、转业材料",value:"聘用、录用、转干、转业材料"},{name:"待遇、退（离）休、退职材料",value:"待遇、退（离）休、退职材料"}],RSTypes:[{name:"履历材料",value:"履历材料"},{name:"自传材料",value:"自传材料"},{name:"鉴定、考核、考察材料",value:"鉴定、考核、考察材料"},{name:"学历学位、评聘专业职务材料",value:"学历学位、评聘专业职务材料"},{name:"政治历史情况审查材料",value:"政治历史情况审查材料"},{name:"入党入团材料",value:"入党入团材料"},{name:"奖励材料",value:"奖励材料"},{name:"处分材料",value:"处分材料"},{name:"工资、任免、退休材料",value:"工资、任免、退休材料"},{name:"其他可供参考的材料",value:"其他可供参考的材料"}],docLevels:[{name:"部级",value:"部级"},{name:"省级",value:"省级"},{name:"市级",value:"市级"},{name:"县级",value:"县级"},{name:"本级",value:"本级"},{name:"乡级",value:"乡级"}],docTimeDues:[{name:"永久",value:"永久"},{name:"备查",value:"备查"},{name:"长期",value:"长期"},{name:"100年",value:"100年"},{name:"30年",value:"30年"},{name:"10年",value:"10年"}],docSecrets:[{name:"无",value:"无"},{name:"秘密",value:"秘密"},{name:"机密",value:"机密"},{name:"绝密",value:"绝密"}],keyword2Check:!1,docForm:{id:"",docSequence:"",docType:"",docTitle:"请填写文件标题",docAbout:"",keyword:"",keyword2:"",docDesc:"",sortYear:"2019",docDate:"20190808",docTypeCode:sessionStorage.getItem("docTypeCode"),docLevel:"",docDescNum:"",dutyAuthor:"",deadline:"",docSecret:"",docPage:"",remark:"",docNum:"",boxNumber:"",docDescAuthor:!0,deleted:0},docFormKong:{id:"",docSequence:"",docType:"",docTitle:"",docAbout:"",keyword:"",docDesc:"",sortYear:"",docDate:"",docTypeCode:"",keyword2:"",docLevel:"",docDescNum:"",dutyAuthor:"",deadline:"",docSecret:"",docPage:"",remark:"",docNum:"",boxNumber:"",docDescAuthor:!0,deleted:0},TempdocSequence:"",aiInput:!0,pickerOptions:{disabledDate:function(e){return e.getTime()<new Date("1995/5/1")}}}},methods:{keyword2CkbChange:function(e){"false"!=e&&e?("true"==e||e)&&(keyword2Check=!0):(this.keyword2Check=!1,this.docForm.keyword2="")},sequenceFocus:function(){},docAboutChange:function(){console.log(this.keywordTipArr),console.log(this.docAbout_KeywordArrJson),this.keywordTipArr=this.docAbout_KeywordArrJson[this.docForm.docAbout]},dutyAuthorBlur:function(e){var t=e.target.value;this.docForm.dutyAuthor=t,this.authorAndKwToDeadline()},keywordBlur:function(e){var t=e.target.value;this.docForm.keyword=t,this.docFormRS.keyword=t,console.log(t),this.authorAndKwToDeadline()},keyword2Blur:function(e){var t=e.target.value;this.docForm.keyword2=t,console.log(t)},docAboutBlur:function(e){var t=e.target.value;this.docForm.docAbout=t},initTable:function(){},initNull:function(){null==this.weightForm.officialDescAuthor&&(this.weightForm.officialDescAuthor={}),null==this.weightForm.officialLevelKeywordDeadline&&(this.weightForm.officialLevelKeywordDeadline={}),null==this.weightForm.tecDescAuthor&&(this.weightForm.tecDescAuthor={}),null==this.weightForm.tecLevelKeywordDeadline&&(this.weightForm.tecLevelKeywordDeadline={}),null==this.weightForm.busDescAuthor&&(this.weightForm.busDescAuthor={}),null==this.weightForm.busLevelKeywordDeadline&&(this.weightForm.busLevelKeywordDeadline={})},closeDocTip:function(){this.matchKvFunc(),this.likelyTipShowFlag=!1},selectThisDoc:function(e){this.selectDocNoTable=!0;var t,o=e.id;for(var s in this.matchedDoc)this.matchedDoc[s].id==o&&(t=this.matchedDoc[s]);var i=this.docForm.docTitle,n=this.docFormRS.docTitle,r=this.docForm.sortYear,a=this.docForm.docSecret,c=this.docForm.docDescAuthor,l=this.docForm.docDesc,u=this.docForm.docDescNum;this.resetDocInRS(),this.resetDocIn(),this.docForm.docTitle=i,this.docForm.sortYear=r,this.docForm.docSecret=a,this.docForm.docDescAuthor=c,this.docForm.docDesc=l,this.docForm.docDescNum=u,this.docForm.deadline=t.deadline,this.docForm.keyword=t.keyword,this.docForm.docAbout=t.docAbout,this.docFormRS.docTitle=n,this.docFormRS.personName=t.personName,this.docFormRS.keyword=t.keyword,this.genId(6,62),this.likelyTipShowFlag=!1},likelyHoodQuery:function(){var e=this;if(this.aiInput)if(this.$store.state.noChufa)this.$store.state.noChufa=!1;else{var t=this.docForm.docTitle;""==this.docForm.docTitle&&(t="淦淦淦淦淦淦淦"),this.postRequest("/document/list/fulltext/"+sessionStorage.getItem("docType"),t).then((function(t){0==t.code&&t.data.length>0?(e.likelyTipShowFlag=!0,e.matchedDoc=t.data,e.$message({type:"success",message:"识别出可能匹配的文件，助您快速录入，请选择后检查是否需要修改"})):0==t.code&&0==t.data.length&&e.matchKvFunc()}))}},titleInput:function(){console.log(this.docForm.docTitle)},docDescComplete:function(){var e=this;if(""!=this.docForm.docDesc&&!(this.docForm.docDesc.length<2)){console.log(this.docForm.docDesc);var t=this.docForm.docDesc.replace(/【/g,"["),o=t.replace(/】/g,"]");o=o.replace(/{/g,"["),o=o.replace(/}/g,"]"),this.docForm.docDesc=o;var s,i="/document/list/page/"+sessionStorage.getItem("docType")+"?pageNow=0&pageSize=900000",n={batchId:sessionStorage.getItem("batchId"),docDesc:this.docForm.docDesc,docType:sessionStorage.getItem("docType")};this.postRequest(i,JSON.stringify(n)).then((function(t){console.log("输完文号后检查是否重复"),console.log(t);var o=[];for(var s in t.data.content)t.data.content[s].docSequence!=e.docForm.docSequence&&o.push(t.data.content[s].docSequence);0!=t.data.content.length&&e.$confirm("请检查是否录入重复,检测到文号可能重复的识别号："+o,"提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"没有重复，继续录入",cancelButtonText:"好的",type:"warning"})})),o.indexOf("[")>0&&(s=o.split("[")[0]),null!=this.descToAuthor[s]&&(this.$message({type:"success",message:"系统根据对照表识别出责任者"}),this.docForm.dutyAuthor=this.descToAuthor[s]),console.log(this.docForm.docDesc);var r,a,c=this.docForm.docDesc.indexOf("号")-1;if(c>0){r=this.docForm.docDesc.charAt(c);while(c>0&&this.isNumber(r))a=r,c--,r=this.docForm.docDesc.charAt(c)+r;this.docForm.docDescNum=a}}},keyword2Complete:function(){},keywordComplete:function(){this.docForm.docAbout!=this.keyword_docAboutJson[this.docForm.keyword]&&(this.$message({type:"success",message:"系统根据对照表识别出问题"}),this.docForm.docAbout=this.keyword_docAboutJson[this.docForm.keyword])},levelCompelete:function(){"本级"==this.docForm.docLevel&&(this.docForm.dutyAuthor=sessionStorage.getItem("authName"),this.docForm.deadline="永久")},authorAndKwToDeadline:function(){var e=this.docForm.dutyAuthor+"~"+this.docForm.keyword;if(console.log(e),console.log(this.authorKwToDeadlineTable),null!=this.authorKwToDeadlineTable[e]){this.$message({type:"success",message:"系统根据对照表识别出保管期限"});var t=this.authorKwToDeadlineTable[e];t=t.split("年")[0],this.docForm.deadline=t}},getRsText:function(e){return 1==e||"1"==e?(this.rsDocTypeMain="履历材料","无"):2==e||"2"==e?(this.rsDocTypeMain="自传材料","无"):3==e||"3"==e?(this.rsDocTypeMain="鉴定、考核、考察材料","无"):4==e||"4"==e?(this.rsDocTypeMain="学历学位、评聘专业职务材料","学历学位材料"):5==e||"5"==e?(this.rsDocTypeMain="学历学位、评聘专业职务材料","职称材料"):6==e||"6"==e?(this.rsDocTypeMain="政治历史情况审查材料","无"):7==e||"7"==e?(this.rsDocTypeMain="入党入团材料","无"):8==e||"8"==e?(this.rsDocTypeMain="奖励材料","无"):9==e||"9"==e?(this.rsDocTypeMain="处分材料","无"):10==e||"10"==e?(this.rsDocTypeMain="工资、任免、退休材料","工资情况材料"):11==e||"11"==e?(this.rsDocTypeMain="工资、任免、退休材料","任免材料"):12==e||"12"==e?(this.rsDocTypeMain="工资、任免、退休材料","出国、出境材料"):13==e||"13"==e?(this.rsDocTypeMain="工资、任免、退休材料","各党派、团体代表登记表"):14==e||"14"==e?(this.rsDocTypeMain="工资、任免、退休材料","聘用、录用、转干、转业材料"):15==e||"15"==e?(this.rsDocTypeMain="工资、任免、退休材料","待遇、退（离）休、退职材料"):16==e||"16"==e?(this.rsDocTypeMain="其他可供参考的材料","无"):void 0},closeTip:function(){this.tipShowFlag=!1},selectDateChange:function(e){var t=this,o=this.docForm.docDate.substring(0,4);if(console.log(o),console.log(this.docForm.sortYear),null!=o&&null!=this.docForm.sortYear&&""!=o&&""!=this.docForm.sortYear&&""!=this.docForm.docDate){o>this.docForm.sortYear&&this.$confirm("发文日期不能迟于整档年度","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"好的",cancelButtonText:"忽略此条规则",type:"warning"}).then((function(){t.docForm.docDate="20190808",t.docForm.sortYear="2019"}));var s="/document/list/page/"+sessionStorage.getItem("docType")+"?pageNow=0&pageSize=900000";this.searchForm.docType=sessionStorage.getItem("docType"),this.searchForm.docTitle=this.docForm.docTitle,this.searchForm.docDate=this.docForm.docDate,this.searchForm.dutyAuthor=this.docForm.dutyAuthor,this.searchForm.personName="";var i=Object.assign({},this.searchForm);for(var n in i)""==i[n]&&delete i[n];this.postRequest(s,JSON.stringify(i)).then((function(e){console.log("添加前检查是否重复"),console.log(e);var o=[];for(var s in e.data.content)o.push(e.data.content[s].docSequence);0!=e.data.content.length&&t.$confirm("请检查是否录入重复,检测到可能重复的识别号："+o,"提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"没有重复，录入此条",cancelButtonText:"好的，暂不录入",type:"warning"})}))}},resetDocInRS:function(){this.docFormRSKong.docSequence=this.docFormRS.docSequence,this.docFormRS=Object.assign({},this.docFormRSKong)},resetDocIn:function(){this.docFormKong.docSequence=this.docForm.docSequence,this.docForm=Object.assign({},this.docFormKong)},isNumber:function(e){return!isNaN(e)},checkAddRS:function(){return!(!isNumber(this.docFormRS.docPage)||""==this.docFormRS.personName||""==this.docFormRS.docPage||""==this.docFormRS.docDate||""==this.docFormRS.docTitle||""==this.docFormRS.docAboutSub||""==this.docFormRS.docAbout||""==this.docFormRS.keyword)},checkDeadline:function(){var e=this.docTimeDues;return!(e.indexOf(this.docForm.deadline)<0)||(this.$message({type:"error",message:"本批整档没有该保管期限"}),!1)},checkKeyword:function(){},dutyAuthorComplete:function(){this.authorAndKwToDeadline()},checkAdd:function(){var e=this.keyword_docAboutJson[this.docForm.keyword];return console.log(this.keyword_docAboutJson),console.log(e),this.isNumber(this.docForm.docPage)&&""!=this.docForm.docTitle&&""!=this.docForm.keyword&&""!=this.docForm.sortYear&&""!=this.docForm.docAbout&&""!=this.docForm.docDate&&""!=this.docForm.docLevel&&""!=this.docForm.dutyAuthor&&""!=this.docForm.docPage&&""!=this.docForm.deadline&&""!=this.docForm.docSecret?this.docForm.docDescAuthor&&""==this.docForm.docDesc?(this.$message({type:"error",message:"填写文号"}),!1):!e||e==this.docForm.docAbout||(this.$message({type:"error",message:"关键词和问题与对照表不符合，请修改或前往对照表修改"}),!1):(this.$message({type:"error",message:"填写检查"}),!1)},fixDocRS:function(){var e,t=this;"履历材料"==this.docFormRS.docAbout?e=1:"自传材料"==this.docFormRS.docAbout?e=2:"鉴定、考核、考察材料"==this.docFormRS.docAbout?e=3:"政治历史情况审查材料"==this.docFormRS.docAbout?e=6:"入党入团材料"==this.docFormRS.docAbout?e=7:"奖励材料"==this.docFormRS.docAbout?e=8:"处分材料"==this.docFormRS.docAbout?e=9:"其他可供参考的材料"==this.docFormRS.docAbout&&(e=16),"学历学位材料"==this.docFormRS.docAboutSub?e=4:"职称材料"==this.docFormRS.docAboutSub&&(e=5),"工资情况材料"==this.docFormRS.docAboutSub&&(e=10),"任免材料"==this.docFormRS.docAboutSub&&(e=11),"出国、出境材料"==this.docFormRS.docAboutSub&&(e=12),"各党派、团体代表登记表"==this.docFormRS.docAboutSub&&(e=13),"聘用、录用、转干、转业材料"==this.docFormRS.docAboutSub&&(e=14),"待遇、退（离）休、退职材料"==this.docFormRS.docAboutSub&&(e=15);var o={deleted:0,userId:sessionStorage.getItem("userIdNum"),authId:sessionStorage.getItem("authId"),batchId:sessionStorage.getItem("batchId"),docDate:this.docFormRS.docDate,docNum:"",docPage:this.docFormRS.docPage,docSequence:this.docFormRS.docSequence,docTitle:this.docFormRS.docTitle,docType:sessionStorage.getItem("docType"),keyword:this.docFormRS.keyword,docAbout:this.docFormRS.docAbout,docAboutSub:this.docFormRS.docAboutSub,personName:this.docFormRS.personName,personJob:e,remark:this.docFormRS.remark,docTypeCode:sessionStorage.getItem("docTypeCode")};if(this.checkAddRS()){var s;this.showWaitingFlag=!0;var i="/document/"+sessionStorage.getItem("docType")+"/"+this.$store.state.tempDocId;this.putRequest(i,JSON.stringify(o)).then((function(i){if(console.log("修改人事文件"),console.log(o),console.log("修改人事文件的结果"),console.log(i),0==i.code){var n;t.weightForm.perKeywordWig&&t.getRequest("/weight/sort/"+t.weightForm.perKeywordWig).then((function(o){n=o.data.tables;var i=t.docFormRS.keyword;s=o.keywordIssue,null==s&&(s={}),s[i]=e,null==n[i]&&(n[i]="0")})).then((function(e){var o={authId:sessionStorage.getItem("authId"),type:41,tables:n,keywordIssue:s};t.putRequest("/weight/"+t.weightForm.perKeywordWig,o).then((function(e){console.log("更新人事关键词权重表"),console.log(e),t.showWaitingFlag=!1}))}));for(var r=t.$store.state.alreadyDocs.length||0,a=t.$store.state.alreadyDocs,c=0;c<r;c++)if(a[c].docSequence==t.$store.state.tempDocSeq){a.splice(c,1);break}t.$store.state.alreadyDocs.unshift(Object.assign({},t.docFormRS))}})).then((function(e){t.docFormRS.docTitle="",t.docFormRS.docPage="",t.genId(6,62),t.docFormRS.docDate.replace("-",""),t.showWaitingFlag=!1})),this.$store.state.sortedFlag=!1}else this.showWaitingFlag=!1,this.$message({type:"error",message:"填写检查"})},fixDoc:function(){var e=this;if(this.showWaitingFlag=!0,this.checkAdd()&&this.checkDeadline()){var t,o;o=this.docForm.docDescAuthor?this.docForm.docDescNum&&null!=this.docForm.docDescNum&&""!=this.docForm.docDescNum?this.docForm.docDescNum:99998:99999;var s=(t={deleted:0,keyword2:this.docForm.keyword2,userId:sessionStorage.getItem("userIdNum"),authId:sessionStorage.getItem("authId"),batchId:sessionStorage.getItem("batchId"),docDate:this.docForm.docDate,docNum:"",boxSeq:"",docPage:this.docForm.docPage,docSequence:this.docForm.docSequence,docTitle:this.docForm.docTitle,docType:sessionStorage.getItem("docType"),keyword:this.docForm.keyword,remark:this.docForm.remark,deadline:this.docForm.deadline,docAbout:this.docForm.docAbout,docDesc:this.docForm.docDesc,pageTotal:""},Object(n["a"])(t,"docPage",this.docForm.docPage),Object(n["a"])(t,"docDescNum",o),Object(n["a"])(t,"docDescAuthor",this.docForm.docDescAuthor),Object(n["a"])(t,"docLevel",this.docForm.docLevel),Object(n["a"])(t,"docSecret",this.docForm.docSecret),Object(n["a"])(t,"docTypeCode",sessionStorage.getItem("docTypeCode")),Object(n["a"])(t,"dutyAuthor",this.docForm.dutyAuthor),Object(n["a"])(t,"sortYear",this.docForm.sortYear),t);1!=this.docForm.docDescAuthor&&(s.docDesc="",s.docDescNum=99999);var i="/document/"+sessionStorage.getItem("docType")+"/"+this.$store.state.tempDocId;this.putRequest(i,JSON.stringify(s)).then((function(t){if(console.log("修改文件"),console.log(s),console.log("修改文件的结果"),console.log(t),0==t.code){for(var o=e.$store.state.alreadyDocs.length||0,i=e.$store.state.alreadyDocs,n=0;n<o;n++)if(i[n].docSequence==e.$store.state.tempDocSeq){i.splice(n,1);break}e.docForm.docNum="暂无",e.docForm.boxSeq="暂无",e.$store.state.alreadyDocs.unshift(Object.assign({},e.docForm)),e.fixDocFlag=!1,e.showWaitingFlag=!1,e.keywordTemp=e.docForm.keyword,e.keyword2Temp=e.docForm.keyword2,e.dutyAuthorTemp=e.docForm.dutyAuthor,e.levelTemp=e.docForm.docLevel,e.docAboutTemp=e.docForm.docAbout,e.optThreeWeightTable()}})).then((function(){e.docForm.docAbout="",e.docForm.deadline="",e.docForm.docLevel="",e.docForm.dutyAuthor="",e.keyWordEdit=!1,e.docForm.keyword="",e.genId(6,62),e.docForm.docDate="",e.docForm.docTitle="",e.docForm.docDescAuthor=!0,e.keyword2Check=!1,e.docForm.keword2="",e.docForm.docDescNum="",e.docForm.docDesc="",e.docForm.docPage=""})),this.$store.state.sortedFlag=!1}else this.showWaitingFlag=!1},goDetail:function(){this.$router.push("/work/docInputd")},docDescChange:function(e){"false"!=e&&e?("true"==e||e)&&(this.docForm.docDescAuthor=!0,this.docForm.docDesc="",this.docForm.docDescNum=""):this.docForm.docDescAuthor=!1},cancelFixRS:function(){this.tipShowFlag=!1,this.keyWordEdit=!1,this.docFormRS.keyword="",this.docFormRS.personName="",this.genId(6,62),this.docFormRS.docDate.replace("-",""),this.docFormRS.docTitle="",this.docFormRS.docPage="",this.docFormRS.docAboutSub="",this.docFormRS.docAbout="",this.fixDocFlag=!1},cancelFix:function(){this.fixDocFlag=!1,this.keyWordEdit=!1,this.docForm.keyword="",this.docForm.docDescNum="",this.docForm.docDesc="",this.docForm.docDescAuthor=!0,this.keyword2Check=!1,this.docForm.keword2="",this.genId(6,62),this.docForm.docDate.replace("-",""),console.log(this.docForm),this.docForm.docTitle="",this.docForm.docPage="",this.fixDocFlag=!1},addRS:function(){},optSubmitRS:function(){var e,t=this;"履历材料"==this.docFormRS.docAbout?e=1:"自传材料"==this.docFormRS.docAbout?e=2:"鉴定、考核、考察材料"==this.docFormRS.docAbout?e=3:"政治历史情况审查材料"==this.docFormRS.docAbout?e=6:"入党入团材料"==this.docFormRS.docAbout?e=7:"奖励材料"==this.docFormRS.docAbout?e=8:"处分材料"==this.docFormRS.docAbout?e=9:"其他可供参考的材料"==this.docFormRS.docAbout&&(e=16),"学历学位材料"==this.docFormRS.docAboutSub?e=4:"职称材料"==this.docFormRS.docAboutSub&&(e=5),"工资情况材料"==this.docFormRS.docAboutSub&&(e=10),"任免材料"==this.docFormRS.docAboutSub&&(e=11),"出国、出境材料"==this.docFormRS.docAboutSub&&(e=12),"各党派、团体代表登记表"==this.docFormRS.docAboutSub&&(e=13),"聘用、录用、转干、转业材料"==this.docFormRS.docAboutSub&&(e=14),"待遇、退（离）休、退职材料"==this.docFormRS.docAboutSub&&(e=15);var o,s={deleted:0,userId:sessionStorage.getItem("userIdNum"),authId:sessionStorage.getItem("authId"),batchId:sessionStorage.getItem("batchId"),docDate:this.docFormRS.docDate,docNum:"",docPage:this.docFormRS.docPage,docSequence:this.docFormRS.docSequence,docTitle:this.docFormRS.docTitle,docType:sessionStorage.getItem("docType"),keyword:this.docFormRS.keyword,docAbout:this.docFormRS.docAbout,docAboutSub:this.docFormRS.docAboutSub,personName:this.docFormRS.personName,personJob:e,remark:this.docFormRS.remark,docTypeCode:sessionStorage.getItem("docTypeCode")},i="/document/"+sessionStorage.getItem("docType");this.postRequest(i,JSON.stringify(s)).then((function(e){console.log("tijiao人事文件"),console.log(s),console.log("tijiao人事文件的结果"),console.log(e),t.docFormRS.id=e.data.id})).then((function(s){var i;t.weightForm.perKeywordWig&&t.getRequest("/weight/sort/"+t.weightForm.perKeywordWig).then((function(s){i=s.data.tables;var n=t.docFormRS.keyword;o=s.data.keywordIssue,null==o&&(o={}),o[n]=e,null==i[n]&&(i[n]="0")})).then((function(e){var s={authId:sessionStorage.getItem("authId"),type:41,tables:i,keywordIssue:o};t.putRequest("/weight/"+t.weightForm.perKeywordWig,s).then((function(e){console.log("更新人事关键词权重表"),console.log(e),t.showWaitingFlag=!1}))})),t.$store.state.alreadyDocs.unshift(Object.assign({},t.docFormRS)),t.docFormRS.docTitle="",t.docFormRS.docPage="",t.genId(6,62),t.docFormRS.docDate.replace("-","")}))},addDocTimer:function(){this.addDocBtnFlg=!1;var e=this;setTimeout((function(){e.addDocBtnFlg=!0}),2e3)},addDocRS:function(){var e=this;if(this.tipShowFlag=!1,this.addDocBtnFlg)if(this.addDocTimer(),this.checkAddRS()){this.showWaitingFlag=!0;var t="/document/list/page/"+sessionStorage.getItem("docType")+"?pageNow=0&pageSize=900000";this.searchForm.docType=sessionStorage.getItem("docType"),this.searchForm.personName=this.docFormRS.personName,this.searchForm.docTitle=this.docFormRS.docTitle,this.searchForm.docDate=this.docFormRS.docDate,this.searchForm.dutyAuthor="",this.searchForm.docDesc="";var o=Object.assign({},this.searchForm);for(var s in o)""==o[s]&&delete o[s];this.postRequest(t,JSON.stringify(o)).then((function(t){console.log("添加前检查是否重复"),console.log(t);var o=[];for(var s in t.data.content)o.push(t.data.content[s].docSequence);0!=t.data.content.length?e.$confirm("请检查是否录入重复,检测到可能重复的识别号："+o,"提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"没有重复，录入此条",cancelButtonText:"好的，暂不录入",type:"warning"}).then((function(){e.optSubmitRS()})).catch((function(){e.showWaitingFlag=!1})):e.optSubmitRS()})),this.$store.state.sortedFlag=!1}else this.$message({type:"error",message:"填写完整"});else console.log(this.addDocBtnFlg)},addDoc:function(){var e=this;if(this.selectDocNoTable=!1,this.tipShowFlag=!1,this.addDocBtnFlg)if(this.addDocTimer(),this.checkAdd()&&this.checkDeadline()){var t,o;this.showWaitingFlag=!0,o=this.docForm.docDescAuthor?this.docForm.docDescNum&&null!=this.docForm.docDescNum&&""!=this.docForm.docDescNum?this.docForm.docDescNum:99998:99999;var s=(t={deleted:0,keyword2:this.docForm.keyword2,userId:sessionStorage.getItem("userIdNum"),authId:sessionStorage.getItem("authId"),batchId:sessionStorage.getItem("batchId"),docDate:this.docForm.docDate,docNum:"",docPage:this.docForm.docPage,docSequence:this.docForm.docSequence,docTitle:this.docForm.docTitle,docType:sessionStorage.getItem("docType"),keyword:this.docForm.keyword,remark:this.docForm.remark,deadline:this.docForm.deadline,docAbout:this.docForm.docAbout,docDesc:this.docForm.docDesc},Object(n["a"])(t,"docPage",this.docForm.docPage),Object(n["a"])(t,"docDescNum",o),Object(n["a"])(t,"docDescAuthor",this.docForm.docDescAuthor),Object(n["a"])(t,"docLevel",this.docForm.docLevel),Object(n["a"])(t,"docSecret",this.docForm.docSecret),Object(n["a"])(t,"docTypeCode",sessionStorage.getItem("docTypeCode")),Object(n["a"])(t,"dutyAuthor",this.docForm.dutyAuthor),Object(n["a"])(t,"sortYear",this.docForm.sortYear),t),i="/document/list/page/"+sessionStorage.getItem("docType")+"?pageNow=0&pageSize=900000";this.searchForm.docType=sessionStorage.getItem("docType"),this.searchForm.docTitle=this.docForm.docTitle,this.searchForm.docDate=this.docForm.docDate,this.searchForm.dutyAuthor=this.docForm.dutyAuthor,this.searchForm.personName="";var r=Object.assign({},this.searchForm);for(var a in r)""==r[a]&&delete r[a];this.postRequest(i,JSON.stringify(r)).then((function(t){console.log("添加前检查是否重复"),console.log(t);var o=[];for(var i in t.data.content)o.push(t.data.content[i].docSequence);if(0!=t.data.content.length)e.$confirm("请检查是否录入重复,检测到可能重复的识别号："+o,"提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"没有重复，录入此条",cancelButtonText:"好的，暂不录入",type:"warning"}).then((function(){var t="/document/"+sessionStorage.getItem("docType");e.postRequest(t,JSON.stringify(s)).then((function(t){console.log("tijiao文件"),console.log(s),console.log("tijiao文件的结果"),console.log(t),e.docForm.id=t.data.id})).then((function(t){e.keywordTemp=e.docForm.keyword,e.keyword2Temp=e.docForm.keyword2,console.log(e.keyword2Temp),e.dutyAuthorTemp=e.docForm.dutyAuthor,e.levelTemp=e.docForm.docLevel,e.docAboutTemp=e.docForm.docAbout,e.optThreeWeightTable(),e.$store.state.alreadyDocs.unshift(Object.assign({},e.docForm)),e.keyWordEdit=!1,e.docForm.docDescAuthor=!0,e.keyword2Check=!1,e.docForm.keword2="",e.docForm.keyword="",e.docForm.docAbout="",e.docForm.deadline="",e.docForm.docLevel="",e.docForm.dutyAuthor="",e.docForm.docDate="",e.genId(6,62),e.docForm.docDate.replace("-",""),console.log(e.docForm),e.docForm.docTitle="",e.docForm.docPage="",e.docForm.docDesc="",e.docForm.keyword2=""}))})).catch((function(){e.showWaitingFlag=!1}));else{var n="/document/"+sessionStorage.getItem("docType");e.postRequest(n,JSON.stringify(s)).then((function(t){console.log("tijiao文件"),console.log(s),console.log("tijiao文件的结果"),console.log(t),e.docForm.id=t.data.id})).then((function(t){e.keywordTemp=e.docForm.keyword,e.keyword2Temp=e.docForm.keyword2,e.dutyAuthorTemp=e.docForm.dutyAuthor,e.levelTemp=e.docForm.docLevel,e.docAboutTemp=e.docForm.docAbout,e.optThreeWeightTable(),e.$store.state.alreadyDocs.unshift(Object.assign({},e.docForm)),e.keyWordEdit=!1,e.docForm.docDescAuthor=!0,e.keyword2Check=!1,e.docForm.keword2="",e.docForm.keyword="",e.docForm.docAbout="",e.docForm.deadline="",e.docForm.docLevel="",e.docForm.dutyAuthor="",e.docForm.docDate="",e.docForm.docDesc="",e.genId(6,62),e.docForm.docDate.replace("-",""),console.log(e.docForm),e.docForm.docTitle="",e.docForm.docPage=""}))}})),this.$store.state.sortedFlag=!1}else this.showWaitingFlag=!1;else console.log(this.addDocBtnFlg)},optDescTable:function(e){var t=this;console.log(""),console.log(this.keyword2Temp);var o="";1!=this.docForm.docDescAuthor&&"true"!=this.docForm.docDescAuthor||(console.log("文号有！"),this.docForm.docDesc.split("[").length>1&&(console.log("分割[得到两段"),o=this.docForm.docDesc.split("[")[0])),console.log(o);var s=!1,i=this.weightForm[e];null==i&&(i={}),o=o.replace(/\d+/g,"");var n=Object.keys(i).length;null==i[o]&&(i[o]=n+1+"",s=!0),s&&this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(e){console.log("修改单位表的文号权重表"),console.log(e),t.weightForm=e.data}))},optDescKwTable:function(e,t){console.log("操作机构法文号权重表和关键词2"),console.log(this.keyword2Temp);var o="";1!=this.docForm.docDescAuthor&&"true"!=this.docForm.docDescAuthor||(console.log("文号有！"),console.log(this.weightForm),this.docForm.docDesc.split("[").length>1&&(console.log("分割[得到两段"),o=this.docForm.docDesc.split("[")[0])),console.log(o);var s=!1,i=this.weightForm[e];null==i&&(i={}),o=o.replace(/\d+/g,"");var n=Object.keys(i).length;null==i[o]&&(i[o]=n+1+"",s=!0);var r=this.weightForm[t],a=this.keyword2Temp;console.log(this.weightForm),console.log(this.keyword2Temp),null==r&&(r={});var c=Object.keys(r).length;null==r[a]&&a.trim().length>0&&(r[a]=c+1+"",s=!0),console.log(s),s&&this.putRequest("/organ/"+sessionStorage.getItem("authId"),JSON.stringify(this.weightForm)).then((function(e){console.log("修改单位表的文号权重表"),console.log(e)}))},optThreeWeightTable:function(){var e,t,o,s=this;console.log("进opt"),this.dutyAuthorTipArr.indexOf(this.docForm.dutyAuthor)<0&&this.dutyAuthorTipArr.push(this.docForm.dutyAuthor);var i,n,r,a,c,l=this.keywordTemp;("official"==sessionStorage.getItem("docType")&&(e=11,t=12,o=13),"science"==sessionStorage.getItem("docType")&&(e=21,t=22,o=23),"business"==sessionStorage.getItem("docType")&&(e=31,t=32,o=33),"officialJ"==sessionStorage.getItem("docType")&&(e=51,t=52,o=53),"officialJ"==sessionStorage.getItem("docType"))&&(this.optDescKwTable("officialDescWig","instituteKW2"),this.weightForm.docIssueWig&&(this.getRequest("/weight/"+this.weightForm.docIssuejWig).then((function(e){i=e.data.tables;var t=s.docAboutTemp;if(null==i[t]&&(i[t]="0"),n=e.data.issueKeyword,console.log(e),null==n[t]){var o=[];o.push(l),n[t]=o}else n[t].indexOf(l)<0&&n[t].push(l)})).then((function(t){var o={authId:sessionStorage.getItem("authId"),type:e,tables:i,issueKeyword:n};s.putRequest("/weight/"+s.weightForm.docIssuejWig,o).then((function(e){console.log("更新文书问题权重表"),console.log(e),s.docAbout_KeywordArrJson=e.data.issueKeyword}))})),this.getRequest("/weight/"+this.weightForm.docAuthorjWig).then((function(e){r=e.data.tables;var t=s.dutyAuthorTemp;null==r[t]&&(r[t]={},console.log(r),r[t].value="1",r[t].level=s.levelTemp,r[t]=JSON.stringify(r[t]),console.log(r))})).then((function(e){var o={authId:sessionStorage.getItem("authId"),type:t,tables:r,issueKeyword:{},keywordIssue:{}};s.putRequest("/weight/"+s.weightForm.docAuthorjWig,o).then((function(e){console.log("更新文书责任者权重表"),console.log(e)}))})),this.getRequest("/weight/keywordSort/"+this.weightForm.docKeywordjWig).then((function(e){a=e.data.tables,c=e.data.keywordIssue;var t=s.keywordTemp;null==a[t]&&(a[t]="0"),null==c[t]&&(c[t]=s.docAboutTemp),console.log(t),console.log(a)})).then((function(e){var t={authId:sessionStorage.getItem("authId"),type:o,tables:a,keywordIssue:c};s.putRequest("/weight/"+s.weightForm.docKeywordjWig,t).then((function(e){console.log("更新文书机构法关键词权重表"),console.log(e),s.keyword_docAboutJson=e.data.keywordIssue}))})).then((function(e){s.showWaitingFlag=!1}))));"official"==sessionStorage.getItem("docType")&&(this.optDescTable("officialDescWig","officialAuthorKeywordDeadline","officialDescAuthor"),this.weightForm.docIssueWig&&(this.getRequest("/weight/"+this.weightForm.docIssueWig).then((function(e){i=e.data.tables;var t=s.docAboutTemp;if(null==i[t]&&(i[t]="0"),n=e.data.issueKeyword,console.log(e),null==n[t]){var o=[];o.push(l),n[t]=o}else n[t].indexOf(l)<0&&n[t].push(l)})).then((function(t){var o={authId:sessionStorage.getItem("authId"),type:e,tables:i,issueKeyword:n};s.putRequest("/weight/"+s.weightForm.docIssueWig,o).then((function(e){console.log("更新文书问题权重表"),console.log(e),s.docAbout_KeywordArrJson=e.data.issueKeyword}))})),this.getRequest("/weight/"+this.weightForm.docAuthorWig).then((function(e){r=e.data.tables;var t=s.dutyAuthorTemp;null==r[t]&&(r[t]={},console.log(r),r[t].value="1",r[t].level=s.levelTemp,r[t]=JSON.stringify(r[t]),console.log(r))})).then((function(e){var o={authId:sessionStorage.getItem("authId"),type:t,tables:r,issueKeyword:{},keywordIssue:{}};s.putRequest("/weight/"+s.weightForm.docAuthorWig,o).then((function(e){console.log("更新文书责任者权重表"),console.log(e)}))})),this.getRequest("/weight/keywordSort/"+this.weightForm.docKeywordWig).then((function(e){a=e.data.tables,c=e.data.keywordIssue;var t=s.keywordTemp;null==a[t]&&(a[t]="0"),null==c[t]&&(c[t]=s.docAboutTemp),console.log(t),console.log(a)})).then((function(e){var t={authId:sessionStorage.getItem("authId"),type:o,tables:a,keywordIssue:c};s.putRequest("/weight/"+s.weightForm.docKeywordWig,t).then((function(e){console.log("更新文书关键词权重表"),console.log(e),s.keyword_docAboutJson=e.data.keywordIssue}))})).then((function(e){s.showWaitingFlag=!1}))));"business"==sessionStorage.getItem("docType")&&(this.optDescTable("busDescWig"),this.weightForm.busProjectWig&&(this.getRequest("/weight/"+this.weightForm.busProjectWig).then((function(e){i=e.data.tables;var t=s.docAboutTemp;if(null==i[t]&&(i[t]="0"),n=e.data.issueKeyword,null==n[t]){var o=[];o.push(l),n[t]=o}else n[t].indexOf(l)<0&&n[t].push(l)})).then((function(t){var o={authId:sessionStorage.getItem("authId"),type:e,tables:i,issueKeyword:n};console.log(o),s.putRequest("/weight/"+s.weightForm.busProjectWig,o).then((function(e){console.log("更新yewu问题权重表"),console.log(e),s.docAbout_KeywordArrJson=e.data.issueKeyword}))})),this.getRequest("/weight/sort/"+this.weightForm.busAuthorWig).then((function(e){r=e.data.tables;var t=s.dutyAuthorTemp;null==r[t]&&(r[t]={},console.log(r),r[t].value="1",r[t].level=s.levelTemp,r[t]=JSON.stringify(r[t]),console.log(r))})).then((function(e){var o={authId:sessionStorage.getItem("authId"),type:t,tables:r,issueKeyword:{},keywordIssue:{}};s.putRequest("/weight/"+s.weightForm.busAuthorWig,o).then((function(e){console.log("更新文书责任者权重表"),console.log(e)}))})),this.getRequest("/weight/keywordSort/"+this.weightForm.busKeywordWig).then((function(e){a=e.data.tables,c=e.data.keywordIssue;var t=l;null==a[t]&&(a[t]="0"),null==c[t]&&(c[t]=s.docAboutTemp),console.log(t),console.log(a)})).then((function(e){var t={authId:sessionStorage.getItem("authId"),type:o,tables:a,keywordIssue:c};s.putRequest("/weight/"+s.weightForm.busKeywordWig,t).then((function(e){console.log("更新业务关键词权重表"),console.log(e),s.keyword_docAboutJson=e.data.keywordIssue}))})).then((function(e){s.showWaitingFlag=!1}))));"science"==sessionStorage.getItem("docType")&&(this.optDescTable("tecDescWig"),this.weightForm.tecProjectWig&&(this.getRequest("/weight/sort/"+this.weightForm.tecProjectWig).then((function(e){i=e.data.tables;var t=s.docAboutTemp;if(null==i[t]&&(i[t]="0"),n=e.data.issueKeyword,null==n[t]){var o=[];o.push(l),n[t]=o}else n[t].indexOf(l)<0&&n[t].push(l)})).then((function(t){var o={authId:sessionStorage.getItem("authId"),type:e,tables:i,issueKeyword:n};console.log(o),s.putRequest("/weight/"+s.weightForm.tecProjectWig,o).then((function(e){console.log("更新科技问题权重表"),console.log(e),s.docAbout_KeywordArrJson=e.data.issueKeyword}))})),this.getRequest("/weight/sort/"+this.weightForm.tecAuthorWig).then((function(e){r=e.data.tables;var t=s.dutyAuthorTemp;null==r[t]&&(r[t]={},console.log(r),r[t].value="1",r[t].level=s.levelTemp,r[t]=JSON.stringify(r[t]),console.log(r))})).then((function(e){var o={authId:sessionStorage.getItem("authId"),type:t,tables:r,issueKeyword:{},keywordIssue:{}};s.putRequest("/weight/"+s.weightForm.tecAuthorWig,o).then((function(e){console.log("更新科技责任者权重表"),console.log(e)}))})),this.getRequest("/weight/keywordSort/"+this.weightForm.tecKeywordWig).then((function(e){a=e.data.tables,c=e.data.keywordIssue;var t=l;null==a[t]&&(a[t]="0"),null==c[t]&&(c[t]=s.docAboutTemp),console.log(t),console.log(a)})).then((function(e){var t={authId:sessionStorage.getItem("authId"),type:o,tables:a,keywordIssue:c};s.putRequest("/weight/"+s.weightForm.tecKeywordWig,t).then((function(e){console.log("更新科技关键词权重表"),console.log(e),s.keyword_docAboutJson=e.data.keywordIssue}))})).then((function(e){s.showWaitingFlag=!1}))))},docAboutBlur1:function(){var e=this;if(""!=this.docForm.keyword&&""!=this.docForm.docAbout){this.manageKeyWordTime++,this.manageKeyWordTime%10==0&&this.$confirm("检测到一些新的关键字："+this.docForm.keyword+" , 和对应分类"+this.docForm.docAbout+"，是否添加入库，以便更快录入","提示",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"前往管理",cancelButtonText:"我稍后前往",type:"warning"}).then((function(){e.$router.push("/work/keyWM")})).catch((function(){}))}},weightFormKeywordCode:function(){var e=sessionStorage.getItem("docType");return"official"==e?this.weightForm.docKeywordWig:"business"==e?this.weightForm.busKeywordWig:"science"==e?this.weightForm.tecKeywordWig:"personnel"==e?this.weightForm.perKeywordWig:"officialJ"==e?this.weightForm.docKeywordjWig:void 0},matchKvFunc:function(){var e,t=this;l.a.get(this.baseurl+"/weight/map/"+this.weightFormKeywordCode(),{headers:{"Content-Type":"application/json",authId:sessionStorage.getItem("authId"),token:window.localStorage.getItem("token")?window.localStorage.getItem("token").split('"')[1]||window.localStorage.getItem("token"):null},params:{title:"personnel"==sessionStorage.getItem("docType")?this.docFormRS.docTitle:this.docForm.docTitle}}).then((function(o){for(var s in t.matchedKV=[],null==o.data&&(o.data=e),console.log(o),o.data)if("personnel"==sessionStorage.getItem("docType")){for(var i in console.log(2),splitArr){console.log(splitArr[i]);var n=t.getRsText(splitArr[i]);console.log(n),t.matchedKV.push([s,t.rsDocTypeMain,n])}console.log(t.matchedKV)}else t.matchedKV.push([s,o.data[s]]);console.log(t.matchedKV),console.log(t.matchedKV.length),1==t.matchedKV.length?(console.log("zhiyou1ge"),"personnel"==sessionStorage.getItem("docType")?(t.docFormRS.docAboutSub=t.matchedKV[0][2],t.docFormRS.docAbout=t.matchedKV[0][1]):(t.docForm.docAbout=t.matchedKV[0][1],t.docForm.keyword=t.matchedKV[0][0])):t.matchedKV.length>1&&(t.tipShowFlag=!0)})),this.matchedKV.length>0&&this.$message({type:"success",message:"没有合适的历史文件匹配，根据您的对照表匹配了关键词"})},selectThisTip:function(e){this.docForm.docAbout=e[1],this.docForm.keyword=e[0],"personnel"==sessionStorage.getItem("docType")&&(this.docFormRS.docAbout=e[1],this.docFormRS.docAboutSub=e[2],this.docForm.keyword=e[0]),this.tipShowFlag=!1},titleComplete:function(){this.matchedDoc=[],this.fixDocFlag||(""==this.docForm.docTitle?this.keyWordEdit=!1:this.keyWordEdit=!0,this.likelyHoodQuery())},checkTitle:function(){},genID:function(e){return Number(Math.random().toString().substr(3,e)+Date.now()).toString(36)},getId1:function(e,t){var o=new Date,s=o.getMonth()+1,i=o.getDate(),n=o.getHours(),r=o.getMinutes(),a=o.getSeconds();year},genId:function(e,t){var o=this;this.showWaitingFlag=!0,this.getRequest("/work/"+sessionStorage.getItem("batchId")).then((function(e){e&&0==e.code?(o.docForm.docSequence=e.data.doc_number,o.docFormRS.docSequence=e.data.doc_number,o.showWaitingFlag=!1):(o.$message({type:"success",message:"网络中断，请检查网络"}),o.$router.push("/work/docInputd"))}))},inputChange:function(){this.aiInput=!this.aiInput,this.aiInput&&this.$message({type:"success",message:"将根据历史记录进行快速录入"})}},created:function(){var e=this;window.scrollTo(0,0),this.docTimeDues=[];var t,o=JSON.parse(sessionStorage.getItem("lastBox"));for(t in o)this.docTimeDues.push(t);console.log(this.docTimeDues),this.getRequest("/organ/"+sessionStorage.getItem("authId")).then((function(t){e.weightForm=t.data,e.initNull(),console.log(t.data)})).then((function(){var o,s,i;"official"==sessionStorage.getItem("docType")&&(o=e.weightForm.docIssueWig,s=e.weightForm.docKeywordWig,i=e.weightForm.docAuthorWig,e.authorKwToDeadlineTable=e.weightForm.officialAuthorKeywordDeadline,e.descToAuthor=e.weightForm.officialDescAuthor),"science"==sessionStorage.getItem("docType")&&(o=e.weightForm.tecProjectWig,s=e.weightForm.tecKeywordWig,i=e.weightForm.tecAuthorWig,e.authorKwToDeadlineTable=e.weightForm.tecAuthorKeywordDeadline,e.descToAuthor=e.weightForm.tecDescAuthor),"business"==sessionStorage.getItem("docType")&&(o=e.weightForm.busProjectWig,s=e.weightForm.busKeywordWig,i=e.weightForm.busAuthorWig,e.authorKwToDeadlineTable=e.weightForm.busAuthorKeywordDeadline,e.descToAuthor=e.weightForm.busDescAuthor),"personnel"==sessionStorage.getItem("docType")&&(s=e.weightForm.perKeywordWig),"officialJ"==sessionStorage.getItem("docType")&&(o=e.weightForm.docIssuejWig,s=e.weightForm.docKeywordjWig,i=e.weightForm.docAuthorjWig,e.authorKwToDeadlineTable=e.weightForm.officialAuthorKeywordDeadline,e.descToAuthor=e.weightForm.officialDescAuthor);var n={},r={};if("personnel"!=sessionStorage.getItem("docType")){var a=e;Promise.all([new Promise((function(t,s){a.getRequest("/weight/"+o).then((function(o){o.data.tables,e.docAbout_KeywordArrJson=o.data.issueKeyword,t(o)}))})),new Promise((function(t,o){a.getRequest("/weight/"+s).then((function(o){n=o.data.tables,console.log("关键词jsontable"),e.keyword_docAboutJson=o.data.keywordIssue,t(o)}))})),new Promise((function(e,t){a.getRequest("/weight/"+i).then((function(t){r=t.data.tables,e(t)}))}))]).then((function(t){var o;for(o in r)e.dutyAuthorTipArr.push(o)}))}else e.getRequest("/weight/"+s).then((function(e){n=e.data.tables})).then((function(){for(t in n)e.keywordTipArr.push(t)}))}))}},d=u,h=(o("513a"),o("eaaf"),o("5d22")),m=Object(h["a"])(d,s,i,!1,null,"598bf4cc",null);t["default"]=m.exports},d369:function(e,t,o){},da46:function(e,t,o){e.exports=o.p+"img/pic1.0c774dc4.png"},db4c:function(e,t,o){"use strict";o("a3e0")},de46:function(e,t,o){"use strict";o("4827")},dfa2:function(e,t,o){},e138:function(e,t,o){},e42f:function(e,t,o){"use strict";var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"printSetBox",staticStyle:{position:"absolute",width:"10cm",top:"5cm",left:"1cm"}},[o("el-select",{ref:"authSelectref",staticStyle:{width:"7cm",position:"absolute",left:"-50%"},attrs:{id:"selectAuth",filterable:"",placeholder:"选择识别号"},on:{blur:e.selectBlur,change:e.selectSequenceChange},model:{value:e.selectedDocSequence,callback:function(t){e.selectedDocSequence=t},expression:"selectedDocSequence"}},e._l(e.printDocs,(function(e){return o("el-option",{key:e.docSequence,attrs:{label:e.docSequence,value:e.docSequence}})})),1),o("div",{staticStyle:{position:"relative",left:"-50%",bottom:"0",width:"2cm",height:"2cm"}},[o("div",{staticClass:"topTextButton",staticStyle:{position:"absolute",top:"0cm",left:"8cm",width:"3cm","text-align":"center"},on:{click:e.clickPrint}},[e._v("回车打印")])]),o("div",{directives:[{name:"print",rawName:"v-print",value:"#printArea",expression:"'#printArea' "}],attrs:{id:"printButton"}})],1),"personnel"==e.docType?o("div",{attrs:{id:"printArea"}},[o("div",{ref:"print1",staticStyle:{position:"relative",top:"1cm",border:"solid",height:"1.5cm",width:"30mm",left:"1cm"}},[o("div",{staticStyle:{float:"left",width:"0.7cm","border-right":"solid 0.5mm","line-height":"0.75cm",height:"1.5cm","text-align":"center"}},[e._v("\n      正本\n    ")]),o("div",{staticStyle:{float:"left",width:"2.25cm",height:"0.725cm","text-align":"center","border-bottom":"solid 0.5mm"}},[e._v("\n      类号\n    ")]),o("div",{staticStyle:{float:"left",width:"2.25cm",height:"0.725cm","text-align":"center"}},[o("font",{staticStyle:{"font-size":"1.2rem"}},[e._v(e._s(this.rsPrint))]),o("font",{staticStyle:{"font-size":"1rem"}},[e._v(e._s(this.rsPrintSub))])],1)])]):e._e(),"official"==e.docType||"business"==e.docType||"officialJ"==e.docType?o("div",{attrs:{id:"printArea"}},[o("div",{ref:"print1",staticStyle:{position:"relative",top:"1cm",border:"solid",height:"1.6cm",width:"45mm",left:"1cm"},on:{mouseover:e.showAdjPos,mouseleave:e.hideAdjPos}},[o("div",{staticClass:"clickSmall",staticStyle:{"font-size":"15px",cursor:"pointer",float:"left",width:"14.5mm","border-bottom":"solid 0.5mm","border-right":"solid 0.5mm","line-height":"0.8cm",height:"7.75mm","text-align":"center"}},[e._v("\n      "+e._s(this.authCode||"")+"\n    ")]),o("div",{staticClass:"clickSmall",staticStyle:{"font-size":"15px",cursor:"pointer",float:"left",width:"14.5mm","border-bottom":"solid 0.5mm","border-right":"solid 0.5mm","line-height":"0.8cm",height:"7.75mm","text-align":"center"}},[e._v("\n      "+e._s(this.sortYear)+"\n    ")]),o("div",{staticClass:"clickSmall",staticStyle:{"font-size":"15px",cursor:"pointer",float:"left",width:"15mm","border-bottom":"solid 0.5mm","line-height":"0.8cm",height:"7.75mm","text-align":"center"}},[e._v("\n      "+e._s(this.docNum)+"\n    ")]),o("div",{staticClass:"clickSmall",staticStyle:{"font-size":"15px",cursor:"pointer",float:"left",width:"14.5mm","border-bottom":"solid 0.5mm","border-right":"solid 0.5mm","line-height":"0.8cm",height:"7.75mm","text-align":"center"}},[o("div",{staticStyle:{position:"absolute",left:"2mm",top:"8mm"},style:[{transform:e.smaller},{left:e.leftAbout},{top:e.topAbout}]},[e._v(e._s(this.docAbout))])]),o("div",{staticClass:"clickSmall",staticStyle:{position:"relative","font-size":"15px",cursor:"pointer",float:"left",width:"14.5mm","border-bottom":"solid 0.5mm","border-right":"solid 0.5mm","line-height":"0.8cm",height:"7.75mm","text-align":"center"}},[o("div",[e._v(e._s(this.timedue))]),e.AdjPosFlag?o("div",{staticClass:"controlPos"},[o("div",{staticStyle:{position:"absolute",width:"5mm",height:"5mm",left:"-11mm",top:"-6mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickUp}},[e._v("↑")]),o("div",{staticStyle:{position:"absolute",width:"5mm",height:"5mm",left:"-11mm",bottom:"-6mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickDown}},[e._v("↓")]),o("div",{staticStyle:{position:"absolute",width:"5mm",height:"5mm",left:"-21mm",top:"1mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickLeft}},[e._v("←")]),o("div",{staticStyle:{position:"absolute",width:"5mm",height:"5mm",left:"0mm",top:"1mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickRight}},[e._v("→")]),o("div",{staticStyle:{position:"absolute",width:"10mm",height:"5mm",right:"17mm",top:"1mm",color:"white","font-size":"14px",border:"solid 0.3mm rgb(222,66,66)","background-color":"rgb(222,66,66)","line-height":"5mm"},on:{click:e.Clicksmaller}},[e._v("缩小")])]):e._e()]),o("div",{staticClass:"clickSmall",staticStyle:{"font-size":"15px",cursor:"pointer",float:"left",width:"15mm","border-bottom":"solid 0.5mm","line-height":"0.8cm",height:"7.75mm","text-align":"center"}},[e._v("\n      "+e._s(this.docPage)+"\n    ")])])]):e._e(),"science"==e.docType?o("div",{attrs:{id:"printArea"}},[o("div",{ref:"print1",staticStyle:{position:"relative",left:"1cm",top:"1cm",border:"solid",height:"2cm",width:"50mm"},on:{mouseover:e.showAdjPos,mouseleave:e.hideAdjPos}},[o("div",{staticStyle:{float:"left",width:"35mm","border-bottom":"0.5mm solid","border-right":"solid 0.5mm","line-height":"1cm",height:"10mm","text-align":"center"}},[e._v("\n      档号\n    ")]),e._m(0),o("div",{staticStyle:{float:"left",width:"35mm","border-bottom":"0.5mm","border-right":"solid 0.5mm","line-height":"1cm",height:"10mm","text-align":"center"}},[o("div",{staticStyle:{position:"absolute"},style:[{transform:e.smaller},{left:e.leftAbout},{top:e.topAbout}]},[e._v(e._s(this.danghao))])]),o("div",{staticStyle:{float:"left",position:"relative",width:"14.5mm","border-bottom":"0.5mm","line-height":"1cm",height:"10mm","text-align":"center"}},[e._v("\n      "+e._s(null==this.docNum?"":this.docNum)+"\n       "),e.AdjPosFlag?o("div",{staticClass:"controlPos"},[o("div",{staticStyle:{cursor:"pointer",position:"absolute",width:"5mm",height:"5mm",left:"-20mm",top:"-6mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickUp}},[e._v("↑")]),o("div",{staticStyle:{cursor:"pointer",position:"absolute",width:"5mm",height:"5mm",left:"-20mm",bottom:"-6mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickDown}},[e._v("↓")]),o("div",{staticStyle:{cursor:"pointer",position:"absolute",width:"5mm",height:"5mm",left:"-41mm",top:"1mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickLeft}},[e._v("←")]),o("div",{staticStyle:{cursor:"pointer",position:"absolute",width:"5mm",height:"5mm",left:"0mm",top:"1mm",color:"red","font-weight":"600",border:"solid 0.3mm","line-height":"5mm"},on:{click:e.clickRight}},[e._v("→")]),o("div",{staticStyle:{cursor:"pointer",position:"absolute",width:"10mm",height:"5mm",right:"25mm",top:"2mm",color:"white","font-size":"14px",border:"solid 0.3mm rgb(222,66,66)","background-color":"rgb(222,66,66)","line-height":"5mm"},on:{click:e.Clicksmaller}},[e._v("缩小")])]):e._e()])])]):e._e()])},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{float:"left",width:"14.5mm","border-bottom":"0.5mm solid","line-height":"1cm",height:"10mm","text-align":"center"}},[o("div",[e._v("序号")])])}],n=o("7ca0"),r={components:{},mounted:function(){var e=this;n["a"].$on("sendInit",(function(t){console,console.log("子getfrom父信号"),e.initData()}));e=this,document.getElementById("printButton");document.onkeydown=function(t){var o=window.event||t,s=o.keyCode||o.which;13!=s&&80!=s||e.clickPrint()}},methods:{clickPrint:function(){var e=this;if(1!=sessionStorage.getItem("isEnd"))this.$confirm("开始印章后将锁定该批文档不能修改",{cancelButtonClass:"btn-custom-cancel",confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.putRequest("/work/"+sessionStorage.getItem("batchId")+"/1/end").then((function(t){console.log(t),0==t.code&&(e.isEnd=!0,window.sessionStorage.setItem("isEnd",1))}));var t=document.getElementById("printButton");return t.click(),!0})).catch((function(){return!1}));else{var t=document.getElementById("printButton");t.click()}},setPrinted:function(){},initData:function(){console.log("initData"),this.printDocs=JSON.parse(localStorage.getItem("docs"));var e=sessionStorage.getItem("aboutTextNum");2==e&&(this.leftPosAbout=3,this.size=1),3==e&&(this.leftPosAbout=1.4,this.size=1),4==e&&(this.leftPosAbout=-.8,this.size=.8),5==e&&(this.leftPosAbout=-2.5,this.size=.67),this.rsPrint=window.sessionStorage.getItem("rsPrint"),this.rsPrintSub=window.sessionStorage.getItem("rsPrintSub"),this.authCode=sessionStorage.getItem("authCode"),this.sortYear=sessionStorage.getItem("sortYear"),this.docNum=sessionStorage.getItem("docNum"),this.docAbout=sessionStorage.getItem("docAbout"),this.docPage=sessionStorage.getItem("docPage"),this.timedue=sessionStorage.getItem("timedue"),this.danghao=sessionStorage.getItem("danghao1"),"science"==window.sessionStorage.getItem("docType")&&(this.topPosAbout=9.5,this.leftPosAbout=4.5,this.docNum=sessionStorage.getItem("kjXuhao"))},selectBlur:function(e){var t=e.target.value;this.selectedDocSequence=t},selectSequenceChange:function(){for(var e in console.log(this.selectedDocSequence),this.printDocs)this.printDocs[e].docSequence==this.selectedDocSequence&&(this.emitThisDoc(this.printDocs[e]),this.$store.state.printDoc=this.printDocs[e],console.log(this.$store.state.printDoc))},emitThisDoc:function(e){console.log("emit"),console.log(e),n["a"].$emit("printBackThisDoc",e),this.initData()},option:function(){},showAdjPos:function(){this.AdjPosFlag=!0},hideAdjPos:function(){this.AdjPosFlag=!1},Clicksmaller:function(){console.log("变小"),this.size=this.size-.05},clickUp:function(){this.topPosAbout=this.topPosAbout-.2},clickDown:function(){this.topPosAbout=this.topPosAbout+.2},clickLeft:function(){this.leftPosAbout=this.leftPosAbout-.2},clickRight:function(){this.leftPosAbout=this.leftPosAbout+.2}},watch:{printJS:{handler:function(e,t){console.log("检测变动后init"),this.initData()},deep:!0}},computed:{printJS:function(){return this.$store.state.printDoc},leftAbout:function(){return this.leftPosAbout+"mm"},topAbout:function(){return this.topPosAbout+"mm"},smaller:function(){return"scale("+this.size+")"},docType:function(){return sessionStorage.getItem("docType")}},created:function(){this.initData()},data:function(){return{printDoc:!0,selectedDocSequence:0,printDocs:[],authCode:88888,docNum:888,sortYear:1999,docAbout:"综合类",timedue:"永久",docPage:88,danghao:"asd",leftPosAbout:3,topPosAbout:8,AdjPosFlag:!1,size:1,rsPrint:"123",nihao:2,rsPrintSub:""}},beforeDestroy:function(){n["a"].$off("printBackThisDoc"),document.onkeydown=void 0},destroyed:function(){console.log("Parent","Destroyed")}},a=r,c=(o("2dec"),o("5d22")),l=Object(c["a"])(a,s,i,!1,null,null,null);t["a"]=l.exports},e9b6:function(e,t,o){},eaaf:function(e,t,o){"use strict";o("cac5")},ec7f:function(e,t,o){"use strict";o("dfa2")},f3c4:function(e,t,o){},f43f:function(e,t,o){"use strict";o("b2d3")},ff1a:function(e,t,o){}});
//# sourceMappingURL=app.9b3356fc.js.map